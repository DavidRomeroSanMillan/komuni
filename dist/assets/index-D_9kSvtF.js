(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function k1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nm={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function j1(){if(ab)return cc;ab=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:i,type:o,key:m,ref:l!==void 0?l:null,props:h}}return cc.Fragment=e,cc.jsx=n,cc.jsxs=n,cc}var lb;function U1(){return lb||(lb=1,nm.exports=j1()),nm.exports}var S=U1(),im={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function z1(){if(ub)return Fe;ub=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),A=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=A&&U[A]||U["@@iterator"],typeof U=="function"?U:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,te={};function Q(U,ue,be){this.props=U,this.context=ue,this.refs=te,this.updater=be||Z}Q.prototype.isReactComponent={},Q.prototype.setState=function(U,ue){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ue,"setState")},Q.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function J(){}J.prototype=Q.prototype;function G(U,ue,be){this.props=U,this.context=ue,this.refs=te,this.updater=be||Z}var X=G.prototype=new J;X.constructor=G,F(X,Q.prototype),X.isPureReactComponent=!0;var me=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function H(U,ue,be,ye,Te,Ae){return be=Ae.ref,{$$typeof:i,type:U,key:ue,ref:be!==void 0?be:null,props:Ae}}function R(U,ue){return H(U.type,ue,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function z(U){var ue={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return ue[be]})}var j=/\/+/g;function I(U,ue){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):ue.toString(36)}function D(){}function ce(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(ue){U.status==="pending"&&(U.status="fulfilled",U.value=ue)},function(ue){U.status==="pending"&&(U.status="rejected",U.reason=ue)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,ue,be,ye,Te){var Ae=typeof U;(Ae==="undefined"||Ae==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(Ae){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case i:case e:xe=!0;break;case C:return xe=U._init,B(xe(U._payload),ue,be,ye,Te)}}if(xe)return Te=Te(U),xe=ye===""?"."+I(U,0):ye,me(Te)?(be="",xe!=null&&(be=xe.replace(j,"$&/")+"/"),B(Te,ue,be,"",function(li){return li})):Te!=null&&(P(Te)&&(Te=R(Te,be+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+xe)),ue.push(Te)),1;xe=0;var pt=ye===""?".":ye+":";if(me(U))for(var Ke=0;Ke<U.length;Ke++)ye=U[Ke],Ae=pt+I(ye,Ke),xe+=B(ye,ue,be,Ae,Te);else if(Ke=O(U),typeof Ke=="function")for(U=Ke.call(U),Ke=0;!(ye=U.next()).done;)ye=ye.value,Ae=pt+I(ye,Ke++),xe+=B(ye,ue,be,Ae,Te);else if(Ae==="object"){if(typeof U.then=="function")return B(ce(U),ue,be,ye,Te);throw ue=String(U),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(U,ue,be){if(U==null)return U;var ye=[],Te=0;return B(U,ye,"","",function(Ae){return ue.call(be,Ae,Te++)}),ye}function se(U){if(U._status===-1){var ue=U._result;ue=ue(),ue.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=ue)}if(U._status===1)return U._result.default;throw U._result}var re=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ce(){}return Fe.Children={map:W,forEach:function(U,ue,be){W(U,function(){ue.apply(this,arguments)},be)},count:function(U){var ue=0;return W(U,function(){ue++}),ue},toArray:function(U){return W(U,function(ue){return ue})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Fe.Component=Q,Fe.Fragment=n,Fe.Profiler=l,Fe.PureComponent=G,Fe.StrictMode=o,Fe.Suspense=y,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return ae.H.useMemoCache(U)}},Fe.cache=function(U){return function(){return U.apply(null,arguments)}},Fe.cloneElement=function(U,ue,be){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ye=F({},U.props),Te=U.key,Ae=void 0;if(ue!=null)for(xe in ue.ref!==void 0&&(Ae=void 0),ue.key!==void 0&&(Te=""+ue.key),ue)!$.call(ue,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ue.ref===void 0||(ye[xe]=ue[xe]);var xe=arguments.length-2;if(xe===1)ye.children=be;else if(1<xe){for(var pt=Array(xe),Ke=0;Ke<xe;Ke++)pt[Ke]=arguments[Ke+2];ye.children=pt}return H(U.type,Te,void 0,void 0,Ae,ye)},Fe.createContext=function(U){return U={$$typeof:m,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},Fe.createElement=function(U,ue,be){var ye,Te={},Ae=null;if(ue!=null)for(ye in ue.key!==void 0&&(Ae=""+ue.key),ue)$.call(ue,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Te[ye]=ue[ye]);var xe=arguments.length-2;if(xe===1)Te.children=be;else if(1<xe){for(var pt=Array(xe),Ke=0;Ke<xe;Ke++)pt[Ke]=arguments[Ke+2];Te.children=pt}if(U&&U.defaultProps)for(ye in xe=U.defaultProps,xe)Te[ye]===void 0&&(Te[ye]=xe[ye]);return H(U,Ae,void 0,void 0,null,Te)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(U){return{$$typeof:v,render:U}},Fe.isValidElement=P,Fe.lazy=function(U){return{$$typeof:C,_payload:{_status:-1,_result:U},_init:se}},Fe.memo=function(U,ue){return{$$typeof:w,type:U,compare:ue===void 0?null:ue}},Fe.startTransition=function(U){var ue=ae.T,be={};ae.T=be;try{var ye=U(),Te=ae.S;Te!==null&&Te(be,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ce,re)}catch(Ae){re(Ae)}finally{ae.T=ue}},Fe.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Fe.use=function(U){return ae.H.use(U)},Fe.useActionState=function(U,ue,be){return ae.H.useActionState(U,ue,be)},Fe.useCallback=function(U,ue){return ae.H.useCallback(U,ue)},Fe.useContext=function(U){return ae.H.useContext(U)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(U,ue){return ae.H.useDeferredValue(U,ue)},Fe.useEffect=function(U,ue,be){var ye=ae.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(U,ue)},Fe.useId=function(){return ae.H.useId()},Fe.useImperativeHandle=function(U,ue,be){return ae.H.useImperativeHandle(U,ue,be)},Fe.useInsertionEffect=function(U,ue){return ae.H.useInsertionEffect(U,ue)},Fe.useLayoutEffect=function(U,ue){return ae.H.useLayoutEffect(U,ue)},Fe.useMemo=function(U,ue){return ae.H.useMemo(U,ue)},Fe.useOptimistic=function(U,ue){return ae.H.useOptimistic(U,ue)},Fe.useReducer=function(U,ue,be){return ae.H.useReducer(U,ue,be)},Fe.useRef=function(U){return ae.H.useRef(U)},Fe.useState=function(U){return ae.H.useState(U)},Fe.useSyncExternalStore=function(U,ue,be){return ae.H.useSyncExternalStore(U,ue,be)},Fe.useTransition=function(){return ae.H.useTransition()},Fe.version="19.1.0",Fe}var cb;function oa(){return cb||(cb=1,im.exports=z1()),im.exports}var K=oa(),sm={exports:{}},hc={},rm={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function B1(){return hb||(hb=1,function(i){function e(W,se){var re=W.length;W.push(se);e:for(;0<re;){var Ce=re-1>>>1,U=W[Ce];if(0<l(U,se))W[Ce]=se,W[re]=U,re=Ce;else break e}}function n(W){return W.length===0?null:W[0]}function o(W){if(W.length===0)return null;var se=W[0],re=W.pop();if(re!==se){W[0]=re;e:for(var Ce=0,U=W.length,ue=U>>>1;Ce<ue;){var be=2*(Ce+1)-1,ye=W[be],Te=be+1,Ae=W[Te];if(0>l(ye,re))Te<U&&0>l(Ae,ye)?(W[Ce]=Ae,W[Te]=re,Ce=Te):(W[Ce]=ye,W[be]=re,Ce=be);else if(Te<U&&0>l(Ae,re))W[Ce]=Ae,W[Te]=re,Ce=Te;else break e}}return se}function l(W,se){var re=W.sortIndex-se.sortIndex;return re!==0?re:W.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var y=[],w=[],C=1,A=null,O=3,Z=!1,F=!1,te=!1,Q=!1,J=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function me(W){for(var se=n(w);se!==null;){if(se.callback===null)o(w);else if(se.startTime<=W)o(w),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(w)}}function ae(W){if(te=!1,me(W),!F)if(n(y)!==null)F=!0,$||($=!0,I());else{var se=n(w);se!==null&&B(ae,se.startTime-W)}}var $=!1,H=-1,R=5,P=-1;function z(){return Q?!0:!(i.unstable_now()-P<R)}function j(){if(Q=!1,$){var W=i.unstable_now();P=W;var se=!0;try{e:{F=!1,te&&(te=!1,G(H),H=-1),Z=!0;var re=O;try{t:{for(me(W),A=n(y);A!==null&&!(A.expirationTime>W&&z());){var Ce=A.callback;if(typeof Ce=="function"){A.callback=null,O=A.priorityLevel;var U=Ce(A.expirationTime<=W);if(W=i.unstable_now(),typeof U=="function"){A.callback=U,me(W),se=!0;break t}A===n(y)&&o(y),me(W)}else o(y);A=n(y)}if(A!==null)se=!0;else{var ue=n(w);ue!==null&&B(ae,ue.startTime-W),se=!1}}break e}finally{A=null,O=re,Z=!1}se=void 0}}finally{se?I():$=!1}}}var I;if(typeof X=="function")I=function(){X(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ce=D.port2;D.port1.onmessage=j,I=function(){ce.postMessage(null)}}else I=function(){J(j,0)};function B(W,se){H=J(function(){W(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_next=function(W){switch(O){case 1:case 2:case 3:var se=3;break;default:se=O}var re=O;O=se;try{return W()}finally{O=re}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=O;O=W;try{return se()}finally{O=re}},i.unstable_scheduleCallback=function(W,se,re){var Ce=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=re+U,W={id:C++,callback:se,priorityLevel:W,startTime:re,expirationTime:U,sortIndex:-1},re>Ce?(W.sortIndex=re,e(w,W),n(y)===null&&W===n(w)&&(te?(G(H),H=-1):te=!0,B(ae,re-Ce))):(W.sortIndex=U,e(y,W),F||Z||(F=!0,$||($=!0,I()))),W},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(W){var se=O;return function(){var re=O;O=se;try{return W.apply(this,arguments)}finally{O=re}}}}(om)),om}var fb;function H1(){return fb||(fb=1,rm.exports=B1()),rm.exports}var am={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function q1(){if(db)return zn;db=1;var i=oa();function e(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)w+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,w,C){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:w,implementation:C}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,zn.createPortal=function(y,w){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return h(y,w,null,C)},zn.flushSync=function(y){var w=m.T,C=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=w,o.p=C,o.d.f()}},zn.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,o.d.C(y,w))},zn.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},zn.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var C=w.as,A=v(C,w.crossOrigin),O=typeof w.integrity=="string"?w.integrity:void 0,Z=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;C==="style"?o.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:Z}):C==="script"&&o.d.X(y,{crossOrigin:A,integrity:O,fetchPriority:Z,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},zn.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var C=v(w.as,w.crossOrigin);o.d.M(y,{crossOrigin:C,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&o.d.M(y)},zn.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var C=w.as,A=v(C,w.crossOrigin);o.d.L(y,C,{crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},zn.preloadModule=function(y,w){if(typeof y=="string")if(w){var C=v(w.as,w.crossOrigin);o.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:C,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else o.d.m(y)},zn.requestFormReset=function(y){o.d.r(y)},zn.unstable_batchedUpdates=function(y,w){return y(w)},zn.useFormState=function(y,w,C){return m.H.useFormState(y,w,C)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var pb;function V1(){if(pb)return am.exports;pb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=q1(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function F1(){if(mb)return hc;mb=1;var i=H1(),e=oa(),n=V1();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function m(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(o(188))}function y(t){var s=t.alternate;if(!s){if(s=h(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,c=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return v(p),t;if(g===c)return v(p),s;g=g.sibling}throw Error(o(188))}if(a.return!==c.return)a=p,c=g;else{for(var x=!1,M=p.child;M;){if(M===a){x=!0,a=p,c=g;break}if(M===c){x=!0,c=p,a=g;break}M=M.sibling}if(!x){for(M=g.child;M;){if(M===a){x=!0,a=g,c=p;break}if(M===c){x=!0,c=g,a=p;break}M=M.sibling}if(!x)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var C=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Q:return"Profiler";case te:return"StrictMode";case ae:return"Suspense";case $:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case X:return(t.displayName||"Context")+".Provider";case G:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return s=t.displayName||null,s!==null?s:ce(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return ce(t(s))}catch{}}return null}var B=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ce=[],U=-1;function ue(t){return{current:t}}function be(t){0>U||(t.current=Ce[U],Ce[U]=null,U--)}function ye(t,s){U++,Ce[U]=t.current,t.current=s}var Te=ue(null),Ae=ue(null),xe=ue(null),pt=ue(null);function Ke(t,s){switch(ye(xe,s),ye(Ae,t),ye(Te,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Dy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Dy(s),t=ky(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}be(Te),ye(Te,t)}function li(){be(Te),be(Ae),be(xe)}function Ii(t){t.memoizedState!==null&&ye(pt,t);var s=Te.current,a=ky(s,t.type);s!==a&&(ye(Ae,t),ye(Te,a))}function ui(t){Ae.current===t&&(be(Te),be(Ae)),pt.current===t&&(be(pt),rc._currentValue=re)}var ci=Object.prototype.hasOwnProperty,ts=i.unstable_scheduleCallback,rr=i.unstable_cancelCallback,Yr=i.unstable_shouldYield,la=i.unstable_requestPaint,On=i.unstable_now,Kr=i.unstable_getCurrentPriorityLevel,ua=i.unstable_ImmediatePriority,or=i.unstable_UserBlockingPriority,ns=i.unstable_NormalPriority,ul=i.unstable_LowPriority,ar=i.unstable_IdlePriority,ca=i.log,cl=i.unstable_setDisableYieldValue,Tt=null,ot=null;function In(t){if(typeof ca=="function"&&cl(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Tt,t)}catch{}}var ln=Math.clz32?Math.clz32:lr,ha=Math.log,hl=Math.LN2;function lr(t){return t>>>=0,t===0?32:31-(ha(t)/hl|0)|0}var Ns=256,is=4194304;function Qn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var p=0,g=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var M=c&134217727;return M!==0?(c=M&~g,c!==0?p=Qn(c):(x&=M,x!==0?p=Qn(x):a||(a=M&~t,a!==0&&(p=Qn(a))))):(M=c&~g,M!==0?p=Qn(M):x!==0?p=Qn(x):a||(a=c&~t,a!==0&&(p=Qn(a)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:p}function hi(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function fa(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var t=Ns;return Ns<<=1,(Ns&4194048)===0&&(Ns=256),t}function pa(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function Pi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Li(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ma(t,s,a,c,p,g){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,V=t.expirationTimes,le=t.hiddenUpdates;for(a=x&~a;0<a;){var ge=31-ln(a),ve=1<<ge;M[ge]=0,V[ge]=-1;var he=le[ge];if(he!==null)for(le[ge]=null,ge=0;ge<he.length;ge++){var fe=he[ge];fe!==null&&(fe.lane&=-536870913)}a&=~ve}c!==0&&ss(t,c,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(x&~s))}function ss(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-ln(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function ga(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-ln(a),p=1<<c;p&s|t[c]&s&&(t[c]|=s),a&=~p}}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $r(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Os(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:tb(t.type))}function Qr(t,s){var a=se.p;try{return se.p=t,s()}finally{se.p=a}}var xt=Math.random().toString(36).slice(2),Gt="__reactFiber$"+xt,zt="__reactProps$"+xt,Jn="__reactContainer$"+xt,Pn="__reactEvents$"+xt,Pe="__reactListeners$"+xt,rs="__reactHandles$"+xt,_a="__reactResources$"+xt,Is="__reactMarker$"+xt;function Ps(t){delete t[Gt],delete t[zt],delete t[Pn],delete t[Pe],delete t[rs]}function Mi(t){var s=t[Gt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Jn]||a[Gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=By(t);t!==null;){if(a=t[Gt])return a;t=By(t)}return s}t=a,a=t.parentNode}return null}function fi(t){if(t=t[Gt]||t[Jn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function un(t){var s=t[_a];return s||(s=t[_a]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(t){t[Is]=!0}var va=new Set,Jr={};function di(t,s){Di(t,s),Di(t+"Capture",s)}function Di(t,s){for(Jr[t]=s,t=0;t<s.length;t++)va.add(s[t])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cr={},hr={};function dl(t){return ci.call(hr,t)?!0:ci.call(cr,t)?!1:fl.test(t)?hr[t]=!0:(cr[t]=!0,!1)}function Ls(t,s,a){if(dl(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ki(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function tn(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}var os,Ms;function ji(t){if(os===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);os=s&&s[1]||"",Ms=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+Ms}var fr=!1;function Ui(t,s){if(!t||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(fe){var he=fe}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(fe){he=fe}t.call(ve.prototype)}}else{try{throw Error()}catch(fe){he=fe}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(fe){if(fe&&he&&typeof fe.stack=="string")return[fe.stack,he.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],M=g[1];if(x&&M){var V=x.split(`
`),le=M.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===le.length)for(c=V.length-1,p=le.length-1;1<=c&&0<=p&&V[c]!==le[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==le[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==le[p]){var ge=`
`+V[c].replace(" at new "," at ");return t.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",t.displayName)),ge}while(1<=c&&0<=p);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ji(a):""}function Ze(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ui(t.type,!1);case 11:return Ui(t.type.render,!1);case 1:return Ui(t.type,!0);case 31:return ji("Activity");default:return""}}function ft(t){try{var s="";do s+=Ze(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ds(t){var s=zi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ks(t){t._valueTracker||(t._valueTracker=Ds(t))}function qe(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=zi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ya=/[\n"\\]/g;function Pt(t){return t.replace(ya,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ct(t,s,a,c,p,g,x,M){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),s!=null?x==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Kt(s)):t.value!==""+Kt(s)&&(t.value=""+Kt(s)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),s!=null?pi(t,x,Kt(s)):a!=null?pi(t,x,Kt(a)):c!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Kt(M):t.removeAttribute("name")}function dr(t,s,a,c,p,g,x,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+Kt(a):"",s=s!=null?""+Kt(s):a,M||s===t.value||(t.value=s),t.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=M?t.checked:!!c,t.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function pi(t,s,a){s==="number"&&mt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bn(t,s,a,c){if(t=t.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=s.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),s=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function je(t,s,a){if(s!=null&&(s=""+Kt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Kt(a):""}function Bn(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(o(92));if(B(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Kt(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function cn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||mi.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function as(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&a[p]!==c&&eo(t,p,c)}else for(var g in s)s.hasOwnProperty(g)&&eo(t,g,s[g])}function pr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(t){return to.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,_i=null;function wa(t){var s=fi(t);if(s&&(t=s.stateNode)){var a=t[zt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ct(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var p=c[zt]||null;if(!p)throw Error(o(90));Ct(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&qe(c)}break e;case"textarea":je(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&bn(t,!!a.multiple,s,!1)}}}var Me=!1;function Hn(t,s,a){if(Me)return t(s,a);Me=!0;try{var c=t(s);return c}finally{if(Me=!1,(Bi!==null||_i!==null)&&(Kh(),Bi&&(s=Bi,t=_i,_i=Bi=null,wa(s),t)))for(s=0;s<t.length;s++)wa(t[s])}}function tt(t,s){var a=t.stateNode;if(a===null)return null;var c=a[zt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(ei)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Ln=!1}var ti=null,Mn=null,vi=null;function us(){if(vi)return vi;var t,s=Mn,a=s.length,c,p="value"in ti?ti.value:ti.textContent,g=p.length;for(t=0;t<a&&s[t]===p[t];t++);var x=a-t;for(c=1;c<=x&&s[a-c]===p[g-c];c++);return vi=p.slice(t,1<c?1-c:void 0)}function vt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function hn(){return!0}function no(){return!1}function Zt(t){function s(a,c,p,g,x){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hn:no,this.isPropagationStopped=no,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),s}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Zt(ct),cs=C({},ct,{view:0,detail:0}),pl=Zt(cs),gr,Ve,Hi,nn=C({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(gr=t.screenX-Hi.screenX,Ve=t.screenY-Hi.screenY):Ve=gr=0,Hi=t),gr)},movementY:function(t){return"movementY"in t?t.movementY:Ve}}),fn=Zt(nn),Sa=C({},nn,{dataTransfer:0}),Su=Zt(Sa),hs=C({},cs,{relatedTarget:0}),io=Zt(hs),so=C({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Zt(so),ml=C({},ct,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Us=Zt(ml),Eu=C({},ct,{data:0}),Dn=Zt(Eu),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ea={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=yi[t])?!!s[t]:!1}function zs(){return oo}var ao=C({},cs,{key:function(t){if(t.key){var s=_r[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=vt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ea[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?vt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lo=Zt(ao),Ta=C({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uo=Zt(Ta),fs=C({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),gl=Zt(fs),co=C({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),_l=Zt(co),xa=C({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sn=Zt(xa),vr=C({},ct,{newState:0,oldState:0}),qi=Zt(vr),Bs=[9,13,27,32],f=ei&&"CompositionEvent"in window,b=null;ei&&"documentMode"in document&&(b=document.documentMode);var T=ei&&"TextEvent"in window&&!b,k=ei&&(!f||b&&8<b&&11>=b),ie=" ",pe=!1;function Se(t,s){switch(t){case"keyup":return Bs.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rt=!1;function Xe(t,s){switch(t){case"compositionend":return at(s);case"keypress":return s.which!==32?null:(pe=!0,ie);case"textInput":return t=s.data,t===ie&&pe?null:t;default:return null}}function Xt(t,s){if(Rt)return t==="compositionend"||!f&&Se(t,s)?(t=us(),vi=Mn=ti=null,Rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return k&&s.locale!=="ko"?null:s.data;default:return null}}var dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!dt[t.type]:s==="textarea"}function jn(t,s,a,c){Bi?_i?_i.push(c):_i=[c]:Bi=c,s=tf(s,"onChange"),0<s.length&&(a=new mr("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var $t=null,ds=null;function ho(t){Oy(t,0)}function vl(t){var s=yn(t);if(qe(s))return t}function fo(t,s){if(t==="change")return s}var Tu=!1;if(ei){var po;if(ei){var xu="oninput"in document;if(!xu){var ps=document.createElement("div");ps.setAttribute("oninput","return;"),xu=typeof ps.oninput=="function"}po=xu}else po=!1;Tu=po&&(!document.documentMode||9<document.documentMode)}function Ca(){$t&&($t.detachEvent("onpropertychange",ph),ds=$t=null)}function ph(t){if(t.propertyName==="value"&&vl(ds)){var s=[];jn(s,ds,t,wn(t)),Hn(ho,s)}}function Cu(t,s,a){t==="focusin"?(Ca(),$t=s,ds=a,$t.attachEvent("onpropertychange",ph)):t==="focusout"&&Ca()}function Cd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vl(ds)}function ms(t,s){if(t==="click")return vl(s)}function Rd(t,s){if(t==="input"||t==="change")return vl(s)}function mo(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var qn=typeof Object.is=="function"?Object.is:mo;function Vn(t,s){if(qn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!ci.call(s,p)||!qn(t[p],s[p]))return!1}return!0}function Ra(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ru(t,s){var a=Ra(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ra(a)}}function yl(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?yl(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Aa(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=mt(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=mt(t.document)}return s}function Na(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var bl=ei&&"documentMode"in document&&11>=document.documentMode,bi=null,go=null,yr=null,wl=!1;function mh(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wl||bi==null||bi!==mt(c)||(c=bi,"selectionStart"in c&&Na(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yr&&Vn(yr,c)||(yr=c,c=tf(go,"onSelect"),0<c.length&&(s=new mr("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=bi)))}function Vi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var _o={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Sl={},gh={};ei&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Hs(t){if(Sl[t])return Sl[t];if(!_o[t])return t;var s=_o[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in gh)return Sl[t]=s[a];return t}var _h=Hs("animationend"),wi=Hs("animationiteration"),Oa=Hs("animationstart"),Ad=Hs("transitionrun"),El=Hs("transitionstart"),Nd=Hs("transitioncancel"),Au=Hs("transitionend"),vh=new Map,br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");br.push("scrollEnd");function Si(t,s){vh.set(t,s),di(s,[t])}var wr=new WeakMap;function Fn(t,s){if(typeof t=="object"&&t!==null){var a=wr.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ft(s)},wr.set(t,s),s)}return{value:t,source:s,stack:ft(s)}}var Gn=[],vo=0,Ei=0;function Ia(){for(var t=vo,s=Ei=vo=0;s<t;){var a=Gn[s];Gn[s++]=null;var c=Gn[s];Gn[s++]=null;var p=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}g!==0&&La(a,p,g)}}function Pa(t,s,a,c){Gn[vo++]=t,Gn[vo++]=s,Gn[vo++]=a,Gn[vo++]=c,Ei|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Sr(t,s,a,c){return Pa(t,s,a,c),qs(t)}function yo(t,s){return Pa(t,null,null,s),qs(t)}function La(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=t.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&s!==null&&(p=31-ln(a),t=g.hiddenUpdates,c=t[p],c===null?t[p]=[s]:c.push(s),s.lane=a|536870912),g):null}function qs(t){if(50<$u)throw $u=0,Cp=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Er={};function yh(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,s,a,c){return new yh(t,s,a,c)}function Tl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,s){var a=t.alternate;return a===null?(a=Zn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Nu(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ma(t,s,a,c,p,g){var x=0;if(c=t,typeof t=="function")Tl(t)&&(x=1);else if(typeof t=="string")x=E1(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=Zn(31,a,s,p),t.elementType=P,t.lanes=g,t;case F:return Vs(a.children,p,g,s);case te:x=8,p|=24;break;case Q:return t=Zn(12,a,s,p|2),t.elementType=Q,t.lanes=g,t;case ae:return t=Zn(13,a,s,p),t.elementType=ae,t.lanes=g,t;case $:return t=Zn(19,a,s,p),t.elementType=$,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case X:x=10;break e;case G:x=9;break e;case me:x=11;break e;case H:x=14;break e;case R:x=16,c=null;break e}x=29,a=Error(o(130,t===null?"null":typeof t,"")),c=null}return s=Zn(x,a,s,p),s.elementType=t,s.type=c,s.lanes=g,s}function Vs(t,s,a,c){return t=Zn(7,t,c,s),t.lanes=a,t}function Ou(t,s,a){return t=Zn(6,t,null,s),t.lanes=a,t}function xl(t,s,a){return s=Zn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Tr=[],bo=0,r=null,u=0,d=[],_=0,E=null,N=1,q="";function ne(t,s){Tr[bo++]=u,Tr[bo++]=r,r=t,u=s}function de(t,s,a){d[_++]=N,d[_++]=q,d[_++]=E,E=t;var c=N;t=q;var p=32-ln(c)-1;c&=~(1<<p),a+=1;var g=32-ln(s)+p;if(30<g){var x=p-p%5;g=(c&(1<<x)-1).toString(32),c>>=x,p-=x,N=1<<32-ln(s)+p|a<<p|c,q=g+t}else N=1<<g|a<<p|c,q=t}function we(t){t.return!==null&&(ne(t,1),de(t,1,0))}function Re(t){for(;t===r;)r=Tr[--bo],Tr[bo]=null,u=Tr[--bo],Tr[bo]=null;for(;t===E;)E=d[--_],d[_]=null,q=d[--_],d[_]=null,N=d[--_],d[_]=null}var Ne=null,Ie=null,Be=!1,At=null,jt=!1,dn=Error(o(519));function ni(t){var s=Error(o(418,""));throw So(Fn(s,t)),dn}function bh(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Gt]=t,s[zt]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<Ju.length;a++)Qe(Ju[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),dr(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ks(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Bn(s,c.value,c.defaultValue,c.children),ks(s)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||My(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=nf),s=!0):s=!1,s||ni(t)}function wh(t){for(Ne=t.return;Ne;)switch(Ne.tag){case 5:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Ne=Ne.return}}function Da(t){if(t!==Ne)return!1;if(!Be)return wh(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qp(t.type,t.memoizedProps)),a=!a),a&&Ie&&ni(t),wh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Ie=ys(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Ie=null}}else s===27?(s=Ie,jo(t.type)?(t=Zp,Zp=null,Ie=t):Ie=s):Ie=Ne?ys(t.stateNode.nextSibling):null;return!0}function wo(){Ie=Ne=null,Be=!1}function Sh(){var t=At;return t!==null&&(ri===null?ri=t:ri.push.apply(ri,t),At=null),t}function So(t){At===null?At=[t]:At.push(t)}var Lt=ue(null),Gi=null,gs=null;function Fs(t,s,a){ye(Lt,s._currentValue),s._currentValue=a}function _s(t){t._currentValue=Lt.current,be(Lt)}function ka(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function Cl(t,s,a,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var M=g;g=p;for(var V=0;V<s.length;V++)if(M.context===s[V]){g.lanes|=a,M=g.alternate,M!==null&&(M.lanes|=a),ka(g.return,a,t),c||(x=null);break e}g=M.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(o(341));x.lanes|=a,g=x.alternate,g!==null&&(g.lanes|=a),ka(x,a,t),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===t){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function ja(t,s,a,c){t=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var M=p.type;qn(p.pendingProps.value,x.value)||(t!==null?t.push(M):t=[M])}}else if(p===pt.current){if(x=p.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(rc):t=[rc])}p=p.return}t!==null&&Cl(s,t,a,c),s.flags|=262144}function Eh(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){Gi=t,gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Un(t){return b_(Gi,t)}function Th(t,s){return Gi===null&&Ua(t),b_(t,s)}function b_(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gs===null){if(t===null)throw Error(o(308));gs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else gs=gs.next=s;return a}var ST=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},ET=i.unstable_scheduleCallback,TT=i.unstable_NormalPriority,sn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new ST,data:new Map,refCount:0}}function Iu(t){t.refCount--,t.refCount===0&&ET(TT,function(){t.controller.abort()})}var Pu=null,Id=0,Rl=0,Al=null;function xT(t,s){if(Pu===null){var a=Pu=[];Id=0,Rl=Lp(),Al={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Id++,s.then(w_,w_),s}function w_(){if(--Id===0&&Pu!==null){Al!==null&&(Al.status="fulfilled");var t=Pu;Pu=null,Rl=0,Al=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function CT(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var S_=W.S;W.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xT(t,s),S_!==null&&S_(t,s)};var za=ue(null);function Pd(){var t=za.current;return t!==null?t:Nt.pooledCache}function xh(t,s){s===null?ye(za,za.current):ye(za,s.pool)}function E_(){var t=Pd();return t===null?null:{parent:sn._currentValue,pool:t}}var Lu=Error(o(460)),T_=Error(o(474)),Ch=Error(o(542)),Ld={then:function(){}};function x_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rh(){}function C_(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Rh,Rh),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,A_(t),t;default:if(typeof s.status=="string")s.then(Rh,Rh);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,A_(t),t}throw Mu=s,Lu}}var Mu=null;function R_(){if(Mu===null)throw Error(o(459));var t=Mu;return Mu=null,t}function A_(t){if(t===Lu||t===Ch)throw Error(o(483))}var Eo=!1;function Md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function To(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xo(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(gt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=qs(t),La(t,null,a),s}return Pa(t,c,s,a),qs(t)}function Du(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,ga(t,a)}}function kd(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var jd=!1;function ku(){if(jd){var t=Al;if(t!==null)throw t}}function ju(t,s,a,c){jd=!1;var p=t.updateQueue;Eo=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var V=M,le=V.next;V.next=null,x===null?g=le:x.next=le,x=V;var ge=t.alternate;ge!==null&&(ge=ge.updateQueue,M=ge.lastBaseUpdate,M!==x&&(M===null?ge.firstBaseUpdate=le:M.next=le,ge.lastBaseUpdate=V))}if(g!==null){var ve=p.baseState;x=0,ge=le=V=null,M=g;do{var he=M.lane&-536870913,fe=he!==M.lane;if(fe?(nt&he)===he:(c&he)===he){he!==0&&he===Rl&&(jd=!0),ge!==null&&(ge=ge.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ze=t,De=M;he=s;var wt=a;switch(De.tag){case 1:if(ze=De.payload,typeof ze=="function"){ve=ze.call(wt,ve,he);break e}ve=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=De.payload,he=typeof ze=="function"?ze.call(wt,ve,he):ze,he==null)break e;ve=C({},ve,he);break e;case 2:Eo=!0}}he=M.callback,he!==null&&(t.flags|=64,fe&&(t.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[he]:fe.push(he))}else fe={lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ge===null?(le=ge=fe,V=ve):ge=ge.next=fe,x|=he;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);ge===null&&(V=ve),p.baseState=V,p.firstBaseUpdate=le,p.lastBaseUpdate=ge,g===null&&(p.shared.lanes=0),Lo|=x,t.lanes=x,t.memoizedState=ve}}function N_(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function O_(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)N_(a[t],s)}var Nl=ue(null),Ah=ue(0);function I_(t,s){t=Ir,ye(Ah,t),ye(Nl,s),Ir=t|s.baseLanes}function Ud(){ye(Ah,Ir),ye(Nl,Nl.current)}function zd(){Ir=Ah.current,be(Nl),be(Ah)}var Co=0,Ge=null,yt=null,Qt=null,Nh=!1,Ol=!1,Ba=!1,Oh=0,Uu=0,Il=null,RT=0;function Wt(){throw Error(o(321))}function Bd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!qn(t[a],s[a]))return!1;return!0}function Hd(t,s,a,c,p,g){return Co=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=t===null||t.memoizedState===null?pv:mv,Ba=!1,g=a(c,p),Ba=!1,Ol&&(g=L_(s,a,c,p)),P_(t),g}function P_(t){W.H=kh;var s=yt!==null&&yt.next!==null;if(Co=0,Qt=yt=Ge=null,Nh=!1,Uu=0,Il=null,s)throw Error(o(300));t===null||pn||(t=t.dependencies,t!==null&&Eh(t)&&(pn=!0))}function L_(t,s,a,c){Ge=t;var p=0;do{if(Ol&&(Il=null),Uu=0,Ol=!1,25<=p)throw Error(o(301));if(p+=1,Qt=yt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=MT,g=s(a,c)}while(Ol);return g}function AT(){var t=W.H,s=t.useState()[0];return s=typeof s.then=="function"?zu(s):s,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Ge.flags|=1024),s}function qd(){var t=Oh!==0;return Oh=0,t}function Vd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Fd(t){if(Nh){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Nh=!1}Co=0,Qt=yt=Ge=null,Ol=!1,Uu=Oh=0,Il=null}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ge.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Jt(){if(yt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=Qt===null?Ge.memoizedState:Qt.next;if(s!==null)Qt=s,yt=t;else{if(t===null)throw Ge.alternate===null?Error(o(467)):Error(o(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Qt===null?Ge.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(t){var s=Uu;return Uu+=1,Il===null&&(Il=[]),t=C_(Il,t,s),s=Ge,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?pv:mv),t}function Ih(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zu(t);if(t.$$typeof===X)return Un(t)}throw Error(o(438,String(t)))}function Zd(t){var s=null,a=Ge.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Gd(),Ge.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=z;return s.index++,a}function xr(t,s){return typeof s=="function"?s(t):s}function Ph(t){var s=Jt();return Wd(s,yt,t)}function Wd(t,s,a){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var p=t.baseQueue,g=c.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}s.baseQueue=p=g,c.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{s=p.next;var M=x=null,V=null,le=s,ge=!1;do{var ve=le.lane&-536870913;if(ve!==le.lane?(nt&ve)===ve:(Co&ve)===ve){var he=le.revertLane;if(he===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ve===Rl&&(ge=!0);else if((Co&he)===he){le=le.next,he===Rl&&(ge=!0);continue}else ve={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(M=V=ve,x=g):V=V.next=ve,Ge.lanes|=he,Lo|=he;ve=le.action,Ba&&a(g,ve),g=le.hasEagerState?le.eagerState:a(g,ve)}else he={lane:ve,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(M=V=he,x=g):V=V.next=he,Ge.lanes|=ve,Lo|=ve;le=le.next}while(le!==null&&le!==s);if(V===null?x=g:V.next=M,!qn(g,t.memoizedState)&&(pn=!0,ge&&(a=Al,a!==null)))throw a;t.memoizedState=g,t.baseState=x,t.baseQueue=V,c.lastRenderedState=g}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Yd(t){var s=Jt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var c=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=t(g,x.action),x=x.next;while(x!==p);qn(g,s.memoizedState)||(pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function M_(t,s,a){var c=Ge,p=Jt(),g=Be;if(g){if(a===void 0)throw Error(o(407));a=a()}else a=s();var x=!qn((yt||p).memoizedState,a);x&&(p.memoizedState=a,pn=!0),p=p.queue;var M=j_.bind(null,c,p,t);if(Bu(2048,8,M,[t]),p.getSnapshot!==s||x||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Pl(9,Lh(),k_.bind(null,c,p,a,s),null),Nt===null)throw Error(o(349));g||(Co&124)!==0||D_(c,s,a)}return a}function D_(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ge.updateQueue,s===null?(s=Gd(),Ge.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function k_(t,s,a,c){s.value=a,s.getSnapshot=c,U_(s)&&z_(t)}function j_(t,s,a){return a(function(){U_(s)&&z_(t)})}function U_(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!qn(t,a)}catch{return!0}}function z_(t){var s=yo(t,2);s!==null&&Ai(s,t,2)}function Kd(t){var s=ii();if(typeof t=="function"){var a=t;if(t=a(),Ba){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},s}function B_(t,s,a,c){return t.baseState=a,Wd(t,yt,typeof c=="function"?c:xr)}function NT(t,s,a,c,p){if(Dh(t))throw Error(o(485));if(t=s.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};W.T!==null?a(!0):g.isTransition=!1,c(g),a=s.pending,a===null?(g.next=s.pending=g,H_(s,g)):(g.next=a.next,s.pending=a.next=g)}}function H_(t,s){var a=s.action,c=s.payload,p=t.state;if(s.isTransition){var g=W.T,x={};W.T=x;try{var M=a(p,c),V=W.S;V!==null&&V(x,M),q_(t,s,M)}catch(le){Xd(t,s,le)}finally{W.T=g}}else try{g=a(p,c),q_(t,s,g)}catch(le){Xd(t,s,le)}}function q_(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){V_(t,s,c)},function(c){return Xd(t,s,c)}):V_(t,s,a)}function V_(t,s,a){s.status="fulfilled",s.value=a,F_(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,H_(t,a)))}function Xd(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,F_(s),s=s.next;while(s!==c)}t.action=null}function F_(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function G_(t,s){return s}function Z_(t,s){if(Be){var a=Nt.formState;if(a!==null){e:{var c=Ge;if(Be){if(Ie){t:{for(var p=Ie,g=jt;p.nodeType!==8;){if(!g){p=null;break t}if(p=ys(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ie=ys(p.nextSibling),c=p.data==="F!";break e}}ni(c)}c=!1}c&&(s=a[0])}}return a=ii(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:s},a.queue=c,a=hv.bind(null,Ge,c),c.dispatch=a,c=Kd(!1),g=tp.bind(null,Ge,!1,c.queue),c=ii(),p={state:s,dispatch:null,action:t,pending:null},c.queue=p,a=NT.bind(null,Ge,p,g,a),p.dispatch=a,c.memoizedState=t,[s,a,!1]}function W_(t){var s=Jt();return Y_(s,yt,t)}function Y_(t,s,a){if(s=Wd(t,s,G_)[0],t=Ph(xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=zu(s)}catch(x){throw x===Lu?Ch:x}else c=s;s=Jt();var p=s.queue,g=p.dispatch;return a!==s.memoizedState&&(Ge.flags|=2048,Pl(9,Lh(),OT.bind(null,p,a),null)),[c,g,t]}function OT(t,s){t.action=s}function K_(t){var s=Jt(),a=yt;if(a!==null)return Y_(s,a,t);Jt(),s=s.memoizedState,a=Jt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function Pl(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Gd(),Ge.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function Lh(){return{destroy:void 0,resource:void 0}}function X_(){return Jt().memoizedState}function Mh(t,s,a,c){var p=ii();c=c===void 0?null:c,Ge.flags|=t,p.memoizedState=Pl(1|s,Lh(),a,c)}function Bu(t,s,a,c){var p=Jt();c=c===void 0?null:c;var g=p.memoizedState.inst;yt!==null&&c!==null&&Bd(c,yt.memoizedState.deps)?p.memoizedState=Pl(s,g,a,c):(Ge.flags|=t,p.memoizedState=Pl(1|s,g,a,c))}function $_(t,s){Mh(8390656,8,t,s)}function Q_(t,s){Bu(2048,8,t,s)}function J_(t,s){return Bu(4,2,t,s)}function ev(t,s){return Bu(4,4,t,s)}function tv(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function nv(t,s,a){a=a!=null?a.concat([t]):null,Bu(4,4,tv.bind(null,s,t),a)}function $d(){}function iv(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&Bd(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function sv(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&Bd(s,c[1]))return c[0];if(c=t(),Ba){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[c,s],c}function Qd(t,s,a){return a===void 0||(Co&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=ay(),Ge.lanes|=t,Lo|=t,a)}function rv(t,s,a,c){return qn(a,s)?a:Nl.current!==null?(t=Qd(t,a,c),qn(t,s)||(pn=!0),t):(Co&42)===0?(pn=!0,t.memoizedState=a):(t=ay(),Ge.lanes|=t,Lo|=t,s)}function ov(t,s,a,c,p){var g=se.p;se.p=g!==0&&8>g?g:8;var x=W.T,M={};W.T=M,tp(t,!1,s,a);try{var V=p(),le=W.S;if(le!==null&&le(M,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ge=CT(V,c);Hu(t,s,ge,Ri(t))}else Hu(t,s,c,Ri(t))}catch(ve){Hu(t,s,{then:function(){},status:"rejected",reason:ve},Ri())}finally{se.p=g,W.T=x}}function IT(){}function Jd(t,s,a,c){if(t.tag!==5)throw Error(o(476));var p=av(t).queue;ov(t,p,s,re,a===null?IT:function(){return lv(t),a(c)})}function av(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:re},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function lv(t){var s=av(t).next.queue;Hu(t,s,{},Ri())}function ep(){return Un(rc)}function uv(){return Jt().memoizedState}function cv(){return Jt().memoizedState}function PT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ri();t=To(a);var c=xo(s,t,a);c!==null&&(Ai(c,s,a),Du(c,s,a)),s={cache:Od()},t.payload=s;return}s=s.return}}function LT(t,s,a){var c=Ri();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Dh(t)?fv(s,a):(a=Sr(t,s,a,c),a!==null&&(Ai(a,t,c),dv(a,s,c)))}function hv(t,s,a){var c=Ri();Hu(t,s,a,c)}function Hu(t,s,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dh(t))fv(s,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,M=g(x,a);if(p.hasEagerState=!0,p.eagerState=M,qn(M,x))return Pa(t,s,p,0),Nt===null&&Ia(),!1}catch{}finally{}if(a=Sr(t,s,p,c),a!==null)return Ai(a,t,c),dv(a,s,c),!0}return!1}function tp(t,s,a,c){if(c={lane:2,revertLane:Lp(),action:c,hasEagerState:!1,eagerState:null,next:null},Dh(t)){if(s)throw Error(o(479))}else s=Sr(t,a,c,2),s!==null&&Ai(s,t,2)}function Dh(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function fv(t,s){Ol=Nh=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function dv(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,ga(t,a)}}var kh={readContext:Un,use:Ih,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},pv={readContext:Un,use:Ih,useCallback:function(t,s){return ii().memoizedState=[t,s===void 0?null:s],t},useContext:Un,useEffect:$_,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Mh(4194308,4,tv.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Mh(4194308,4,t,s)},useInsertionEffect:function(t,s){Mh(4,2,t,s)},useMemo:function(t,s){var a=ii();s=s===void 0?null:s;var c=t();if(Ba){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=ii();if(a!==void 0){var p=a(s);if(Ba){In(!0);try{a(s)}finally{In(!1)}}}else p=s;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=LT.bind(null,Ge,t),[c.memoizedState,t]},useRef:function(t){var s=ii();return t={current:t},s.memoizedState=t},useState:function(t){t=Kd(t);var s=t.queue,a=hv.bind(null,Ge,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:$d,useDeferredValue:function(t,s){var a=ii();return Qd(a,t,s)},useTransition:function(){var t=Kd(!1);return t=ov.bind(null,Ge,t.queue,!0,!1),ii().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Ge,p=ii();if(Be){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Nt===null)throw Error(o(349));(nt&124)!==0||D_(c,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,$_(j_.bind(null,c,g,t),[t]),c.flags|=2048,Pl(9,Lh(),k_.bind(null,c,g,a,s),null),a},useId:function(){var t=ii(),s=Nt.identifierPrefix;if(Be){var a=q,c=N;a=(c&~(1<<32-ln(c)-1)).toString(32)+a,s=""+s+"R"+a,a=Oh++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=RT++,s=""+s+"r"+a.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:ep,useFormState:Z_,useActionState:Z_,useOptimistic:function(t){var s=ii();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=tp.bind(null,Ge,!0,a),a.dispatch=s,[t,s]},useMemoCache:Zd,useCacheRefresh:function(){return ii().memoizedState=PT.bind(null,Ge)}},mv={readContext:Un,use:Ih,useCallback:iv,useContext:Un,useEffect:Q_,useImperativeHandle:nv,useInsertionEffect:J_,useLayoutEffect:ev,useMemo:sv,useReducer:Ph,useRef:X_,useState:function(){return Ph(xr)},useDebugValue:$d,useDeferredValue:function(t,s){var a=Jt();return rv(a,yt.memoizedState,t,s)},useTransition:function(){var t=Ph(xr)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:zu(t),s]},useSyncExternalStore:M_,useId:uv,useHostTransitionStatus:ep,useFormState:W_,useActionState:W_,useOptimistic:function(t,s){var a=Jt();return B_(a,yt,t,s)},useMemoCache:Zd,useCacheRefresh:cv},MT={readContext:Un,use:Ih,useCallback:iv,useContext:Un,useEffect:Q_,useImperativeHandle:nv,useInsertionEffect:J_,useLayoutEffect:ev,useMemo:sv,useReducer:Yd,useRef:X_,useState:function(){return Yd(xr)},useDebugValue:$d,useDeferredValue:function(t,s){var a=Jt();return yt===null?Qd(a,t,s):rv(a,yt.memoizedState,t,s)},useTransition:function(){var t=Yd(xr)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:zu(t),s]},useSyncExternalStore:M_,useId:uv,useHostTransitionStatus:ep,useFormState:K_,useActionState:K_,useOptimistic:function(t,s){var a=Jt();return yt!==null?B_(a,yt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:cv},Ll=null,qu=0;function jh(t){var s=qu;return qu+=1,Ll===null&&(Ll=[]),C_(Ll,t,s)}function Vu(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Uh(t,s){throw s.$$typeof===A?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function gv(t){var s=t._init;return s(t._payload)}function _v(t){function s(ee,Y){if(t){var oe=ee.deletions;oe===null?(ee.deletions=[Y],ee.flags|=16):oe.push(Y)}}function a(ee,Y){if(!t)return null;for(;Y!==null;)s(ee,Y),Y=Y.sibling;return null}function c(ee){for(var Y=new Map;ee!==null;)ee.key!==null?Y.set(ee.key,ee):Y.set(ee.index,ee),ee=ee.sibling;return Y}function p(ee,Y){return ee=Fi(ee,Y),ee.index=0,ee.sibling=null,ee}function g(ee,Y,oe){return ee.index=oe,t?(oe=ee.alternate,oe!==null?(oe=oe.index,oe<Y?(ee.flags|=67108866,Y):oe):(ee.flags|=67108866,Y)):(ee.flags|=1048576,Y)}function x(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Y,oe,_e){return Y===null||Y.tag!==6?(Y=Ou(oe,ee.mode,_e),Y.return=ee,Y):(Y=p(Y,oe),Y.return=ee,Y)}function V(ee,Y,oe,_e){var Oe=oe.type;return Oe===F?ge(ee,Y,oe.props.children,_e,oe.key):Y!==null&&(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&gv(Oe)===Y.type)?(Y=p(Y,oe.props),Vu(Y,oe),Y.return=ee,Y):(Y=Ma(oe.type,oe.key,oe.props,null,ee.mode,_e),Vu(Y,oe),Y.return=ee,Y)}function le(ee,Y,oe,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==oe.containerInfo||Y.stateNode.implementation!==oe.implementation?(Y=xl(oe,ee.mode,_e),Y.return=ee,Y):(Y=p(Y,oe.children||[]),Y.return=ee,Y)}function ge(ee,Y,oe,_e,Oe){return Y===null||Y.tag!==7?(Y=Vs(oe,ee.mode,_e,Oe),Y.return=ee,Y):(Y=p(Y,oe),Y.return=ee,Y)}function ve(ee,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ou(""+Y,ee.mode,oe),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return oe=Ma(Y.type,Y.key,Y.props,null,ee.mode,oe),Vu(oe,Y),oe.return=ee,oe;case Z:return Y=xl(Y,ee.mode,oe),Y.return=ee,Y;case R:var _e=Y._init;return Y=_e(Y._payload),ve(ee,Y,oe)}if(B(Y)||I(Y))return Y=Vs(Y,ee.mode,oe,null),Y.return=ee,Y;if(typeof Y.then=="function")return ve(ee,jh(Y),oe);if(Y.$$typeof===X)return ve(ee,Th(ee,Y),oe);Uh(ee,Y)}return null}function he(ee,Y,oe,_e){var Oe=Y!==null?Y.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Oe!==null?null:M(ee,Y,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return oe.key===Oe?V(ee,Y,oe,_e):null;case Z:return oe.key===Oe?le(ee,Y,oe,_e):null;case R:return Oe=oe._init,oe=Oe(oe._payload),he(ee,Y,oe,_e)}if(B(oe)||I(oe))return Oe!==null?null:ge(ee,Y,oe,_e,null);if(typeof oe.then=="function")return he(ee,Y,jh(oe),_e);if(oe.$$typeof===X)return he(ee,Y,Th(ee,oe),_e);Uh(ee,oe)}return null}function fe(ee,Y,oe,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ee=ee.get(oe)||null,M(Y,ee,""+_e,Oe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case O:return ee=ee.get(_e.key===null?oe:_e.key)||null,V(Y,ee,_e,Oe);case Z:return ee=ee.get(_e.key===null?oe:_e.key)||null,le(Y,ee,_e,Oe);case R:var We=_e._init;return _e=We(_e._payload),fe(ee,Y,oe,_e,Oe)}if(B(_e)||I(_e))return ee=ee.get(oe)||null,ge(Y,ee,_e,Oe,null);if(typeof _e.then=="function")return fe(ee,Y,oe,jh(_e),Oe);if(_e.$$typeof===X)return fe(ee,Y,oe,Th(Y,_e),Oe);Uh(Y,_e)}return null}function ze(ee,Y,oe,_e){for(var Oe=null,We=null,Le=Y,ke=Y=0,gn=null;Le!==null&&ke<oe.length;ke++){Le.index>ke?(gn=Le,Le=null):gn=Le.sibling;var lt=he(ee,Le,oe[ke],_e);if(lt===null){Le===null&&(Le=gn);break}t&&Le&&lt.alternate===null&&s(ee,Le),Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt,Le=gn}if(ke===oe.length)return a(ee,Le),Be&&ne(ee,ke),Oe;if(Le===null){for(;ke<oe.length;ke++)Le=ve(ee,oe[ke],_e),Le!==null&&(Y=g(Le,Y,ke),We===null?Oe=Le:We.sibling=Le,We=Le);return Be&&ne(ee,ke),Oe}for(Le=c(Le);ke<oe.length;ke++)gn=fe(Le,ee,ke,oe[ke],_e),gn!==null&&(t&&gn.alternate!==null&&Le.delete(gn.key===null?ke:gn.key),Y=g(gn,Y,ke),We===null?Oe=gn:We.sibling=gn,We=gn);return t&&Le.forEach(function(qo){return s(ee,qo)}),Be&&ne(ee,ke),Oe}function De(ee,Y,oe,_e){if(oe==null)throw Error(o(151));for(var Oe=null,We=null,Le=Y,ke=Y=0,gn=null,lt=oe.next();Le!==null&&!lt.done;ke++,lt=oe.next()){Le.index>ke?(gn=Le,Le=null):gn=Le.sibling;var qo=he(ee,Le,lt.value,_e);if(qo===null){Le===null&&(Le=gn);break}t&&Le&&qo.alternate===null&&s(ee,Le),Y=g(qo,Y,ke),We===null?Oe=qo:We.sibling=qo,We=qo,Le=gn}if(lt.done)return a(ee,Le),Be&&ne(ee,ke),Oe;if(Le===null){for(;!lt.done;ke++,lt=oe.next())lt=ve(ee,lt.value,_e),lt!==null&&(Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt);return Be&&ne(ee,ke),Oe}for(Le=c(Le);!lt.done;ke++,lt=oe.next())lt=fe(Le,ee,ke,lt.value,_e),lt!==null&&(t&&lt.alternate!==null&&Le.delete(lt.key===null?ke:lt.key),Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt);return t&&Le.forEach(function(D1){return s(ee,D1)}),Be&&ne(ee,ke),Oe}function wt(ee,Y,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===F&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:e:{for(var Oe=oe.key;Y!==null;){if(Y.key===Oe){if(Oe=oe.type,Oe===F){if(Y.tag===7){a(ee,Y.sibling),_e=p(Y,oe.props.children),_e.return=ee,ee=_e;break e}}else if(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&gv(Oe)===Y.type){a(ee,Y.sibling),_e=p(Y,oe.props),Vu(_e,oe),_e.return=ee,ee=_e;break e}a(ee,Y);break}else s(ee,Y);Y=Y.sibling}oe.type===F?(_e=Vs(oe.props.children,ee.mode,_e,oe.key),_e.return=ee,ee=_e):(_e=Ma(oe.type,oe.key,oe.props,null,ee.mode,_e),Vu(_e,oe),_e.return=ee,ee=_e)}return x(ee);case Z:e:{for(Oe=oe.key;Y!==null;){if(Y.key===Oe)if(Y.tag===4&&Y.stateNode.containerInfo===oe.containerInfo&&Y.stateNode.implementation===oe.implementation){a(ee,Y.sibling),_e=p(Y,oe.children||[]),_e.return=ee,ee=_e;break e}else{a(ee,Y);break}else s(ee,Y);Y=Y.sibling}_e=xl(oe,ee.mode,_e),_e.return=ee,ee=_e}return x(ee);case R:return Oe=oe._init,oe=Oe(oe._payload),wt(ee,Y,oe,_e)}if(B(oe))return ze(ee,Y,oe,_e);if(I(oe)){if(Oe=I(oe),typeof Oe!="function")throw Error(o(150));return oe=Oe.call(oe),De(ee,Y,oe,_e)}if(typeof oe.then=="function")return wt(ee,Y,jh(oe),_e);if(oe.$$typeof===X)return wt(ee,Y,Th(ee,oe),_e);Uh(ee,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Y!==null&&Y.tag===6?(a(ee,Y.sibling),_e=p(Y,oe),_e.return=ee,ee=_e):(a(ee,Y),_e=Ou(oe,ee.mode,_e),_e.return=ee,ee=_e),x(ee)):a(ee,Y)}return function(ee,Y,oe,_e){try{qu=0;var Oe=wt(ee,Y,oe,_e);return Ll=null,Oe}catch(Le){if(Le===Lu||Le===Ch)throw Le;var We=Zn(29,Le,null,ee.mode);return We.lanes=_e,We.return=ee,We}finally{}}}var Ml=_v(!0),vv=_v(!1),Zi=ue(null),Gs=null;function Ro(t){var s=t.alternate;ye(rn,rn.current&1),ye(Zi,t),Gs===null&&(s===null||Nl.current!==null||s.memoizedState!==null)&&(Gs=t)}function yv(t){if(t.tag===22){if(ye(rn,rn.current),ye(Zi,t),Gs===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Gs=t)}}else Ao()}function Ao(){ye(rn,rn.current),ye(Zi,Zi.current)}function Cr(t){be(Zi),Gs===t&&(Gs=null),be(rn)}var rn=ue(0);function zh(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gp(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function np(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:C({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ip={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=Ri(),p=To(c);p.payload=s,a!=null&&(p.callback=a),s=xo(t,p,c),s!==null&&(Ai(s,t,c),Du(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=Ri(),p=To(c);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=xo(t,p,c),s!==null&&(Ai(s,t,c),Du(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ri(),c=To(a);c.tag=2,s!=null&&(c.callback=s),s=xo(t,c,a),s!==null&&(Ai(s,t,a),Du(s,t,a))}};function bv(t,s,a,c,p,g,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!Vn(a,c)||!Vn(p,g):!0}function wv(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&ip.enqueueReplaceState(s,s.state,null)}function Ha(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=C({},a));for(var p in t)a[p]===void 0&&(a[p]=t[p])}return a}var Bh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sv(t){Bh(t)}function Ev(t){console.error(t)}function Tv(t){Bh(t)}function Hh(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function xv(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sp(t,s,a){return a=To(a),a.tag=3,a.payload={element:null},a.callback=function(){Hh(t,s)},a}function Cv(t){return t=To(t),t.tag=3,t}function Rv(t,s,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;t.payload=function(){return p(g)},t.callback=function(){xv(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){xv(s,a,c),typeof p!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function DT(t,s,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&ja(s,a,p,!0),a=Zi.current,a!==null){switch(a.tag){case 13:return Gs===null?Ap():a.alternate===null&&Bt===0&&(Bt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===Ld?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Op(t,c,p)),!1;case 22:return a.flags|=65536,c===Ld?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Op(t,c,p)),!1}throw Error(o(435,a.tag))}return Op(t,c,p),Ap(),!1}if(Be)return s=Zi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==dn&&(t=Error(o(422),{cause:c}),So(Fn(t,a)))):(c!==dn&&(s=Error(o(423),{cause:c}),So(Fn(s,a))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=Fn(c,a),p=sp(t.stateNode,c,p),kd(t,p),Bt!==4&&(Bt=2)),!1;var g=Error(o(520),{cause:c});if(g=Fn(g,a),Xu===null?Xu=[g]:Xu.push(g),Bt!==4&&(Bt=2),s===null)return!0;c=Fn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=p&-p,a.lanes|=t,t=sp(a.stateNode,c,t),kd(a,t),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mo===null||!Mo.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Cv(p),Rv(p,t,a,c),kd(a,p),!1}a=a.return}while(a!==null);return!1}var Av=Error(o(461)),pn=!1;function En(t,s,a,c){s.child=t===null?vv(s,null,a,c):Ml(s,t.child,a,c)}function Nv(t,s,a,c,p){a=a.render;var g=s.ref;if("ref"in c){var x={};for(var M in c)M!=="ref"&&(x[M]=c[M])}else x=c;return Ua(s),c=Hd(t,s,a,x,g,p),M=qd(),t!==null&&!pn?(Vd(t,s,p),Rr(t,s,p)):(Be&&M&&we(s),s.flags|=1,En(t,s,c,p),s.child)}function Ov(t,s,a,c,p){if(t===null){var g=a.type;return typeof g=="function"&&!Tl(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,Iv(t,s,g,c,p)):(t=Ma(a.type,null,c,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,!fp(t,p)){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Vn,a(x,c)&&t.ref===s.ref)return Rr(t,s,p)}return s.flags|=1,t=Fi(g,c),t.ref=s.ref,t.return=s,s.child=t}function Iv(t,s,a,c,p){if(t!==null){var g=t.memoizedProps;if(Vn(g,c)&&t.ref===s.ref)if(pn=!1,s.pendingProps=c=g,fp(t,p))(t.flags&131072)!==0&&(pn=!0);else return s.lanes=t.lanes,Rr(t,s,p)}return rp(t,s,a,c,p)}function Pv(t,s,a){var c=s.pendingProps,p=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,t!==null){for(p=s.child=t.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return Lv(t,s,c,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&xh(s,g!==null?g.cachePool:null),g!==null?I_(s,g):Ud(),yv(s);else return s.lanes=s.childLanes=536870912,Lv(t,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(xh(s,g.cachePool),I_(s,g),Ao(),s.memoizedState=null):(t!==null&&xh(s,null),Ud(),Ao());return En(t,s,p,a),s.child}function Lv(t,s,a,c){var p=Pd();return p=p===null?null:{parent:sn._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},t!==null&&xh(s,null),Ud(),yv(s),t!==null&&ja(t,s,c,!0),null}function qh(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function rp(t,s,a,c,p){return Ua(s),a=Hd(t,s,a,c,void 0,p),c=qd(),t!==null&&!pn?(Vd(t,s,p),Rr(t,s,p)):(Be&&c&&we(s),s.flags|=1,En(t,s,a,p),s.child)}function Mv(t,s,a,c,p,g){return Ua(s),s.updateQueue=null,a=L_(s,c,a,p),P_(t),c=qd(),t!==null&&!pn?(Vd(t,s,g),Rr(t,s,g)):(Be&&c&&we(s),s.flags|=1,En(t,s,a,g),s.child)}function Dv(t,s,a,c,p){if(Ua(s),s.stateNode===null){var g=Er,x=a.contextType;typeof x=="object"&&x!==null&&(g=Un(x)),g=new a(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ip,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Md(s),x=a.contextType,g.context=typeof x=="object"&&x!==null?Un(x):Er,g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(np(s,a,x,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&ip.enqueueReplaceState(g,g.state,null),ju(s,c,g,p),ku(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){g=s.stateNode;var M=s.memoizedProps,V=Ha(a,M);g.props=V;var le=g.context,ge=a.contextType;x=Er,typeof ge=="object"&&ge!==null&&(x=Un(ge));var ve=a.getDerivedStateFromProps;ge=typeof ve=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,ge||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||le!==x)&&wv(s,g,c,x),Eo=!1;var he=s.memoizedState;g.state=he,ju(s,c,g,p),ku(),le=s.memoizedState,M||he!==le||Eo?(typeof ve=="function"&&(np(s,a,ve,c),le=s.memoizedState),(V=Eo||bv(s,a,V,c,he,le,x))?(ge||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=le),g.props=c,g.state=le,g.context=x,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Dd(t,s),x=s.memoizedProps,ge=Ha(a,x),g.props=ge,ve=s.pendingProps,he=g.context,le=a.contextType,V=Er,typeof le=="object"&&le!==null&&(V=Un(le)),M=a.getDerivedStateFromProps,(le=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ve||he!==V)&&wv(s,g,c,V),Eo=!1,he=s.memoizedState,g.state=he,ju(s,c,g,p),ku();var fe=s.memoizedState;x!==ve||he!==fe||Eo||t!==null&&t.dependencies!==null&&Eh(t.dependencies)?(typeof M=="function"&&(np(s,a,M,c),fe=s.memoizedState),(ge=Eo||bv(s,a,ge,c,he,fe,V)||t!==null&&t.dependencies!==null&&Eh(t.dependencies))?(le||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,fe,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,fe,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&he===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&he===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=fe),g.props=c,g.state=fe,g.context=V,c=ge):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&he===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&he===t.memoizedState||(s.flags|=1024),c=!1)}return g=c,qh(t,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,t!==null&&c?(s.child=Ml(s,t.child,null,p),s.child=Ml(s,null,a,p)):En(t,s,a,p),s.memoizedState=g.state,t=s.child):t=Rr(t,s,p),t}function kv(t,s,a,c){return wo(),s.flags|=256,En(t,s,a,c),s.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(t){return{baseLanes:t,cachePool:E_()}}function lp(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wi),t}function jv(t,s,a){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=t!==null&&t.memoizedState===null?!1:(rn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(p?Ro(s):Ao(),Be){var M=Ie,V;if(V=M){e:{for(V=M,M=jt;V.nodeType!==8;){if(!M){M=null;break e}if(V=ys(V.nextSibling),V===null){M=null;break e}}M=V}M!==null?(s.memoizedState={dehydrated:M,treeContext:E!==null?{id:N,overflow:q}:null,retryLane:536870912,hydrationErrors:null},V=Zn(18,null,null,0),V.stateNode=M,V.return=s,s.child=V,Ne=s,Ie=null,V=!0):V=!1}V||ni(s)}if(M=s.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Gp(M)?s.lanes=32:s.lanes=536870912,null;Cr(s)}return M=c.children,c=c.fallback,p?(Ao(),p=s.mode,M=Vh({mode:"hidden",children:M},p),c=Vs(c,p,a,null),M.return=s,c.return=s,M.sibling=c,s.child=M,p=s.child,p.memoizedState=ap(a),p.childLanes=lp(t,x,a),s.memoizedState=op,c):(Ro(s),up(s,M))}if(V=t.memoizedState,V!==null&&(M=V.dehydrated,M!==null)){if(g)s.flags&256?(Ro(s),s.flags&=-257,s=cp(t,s,a)):s.memoizedState!==null?(Ao(),s.child=t.child,s.flags|=128,s=null):(Ao(),p=c.fallback,M=s.mode,c=Vh({mode:"visible",children:c.children},M),p=Vs(p,M,a,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Ml(s,t.child,null,a),c=s.child,c.memoizedState=ap(a),c.childLanes=lp(t,x,a),s.memoizedState=op,s=p);else if(Ro(s),Gp(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var le=x.dgst;x=le,c=Error(o(419)),c.stack="",c.digest=x,So({value:c,source:null,stack:null}),s=cp(t,s,a)}else if(pn||ja(t,s,a,!1),x=(a&t.childLanes)!==0,pn||x){if(x=Nt,x!==null&&(c=a&-a,c=(c&42)!==0?1:ur(c),c=(c&(x.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,yo(t,c),Ai(x,t,c),Av;M.data==="$?"||Ap(),s=cp(t,s,a)}else M.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=V.treeContext,Ie=ys(M.nextSibling),Ne=s,Be=!0,At=null,jt=!1,t!==null&&(d[_++]=N,d[_++]=q,d[_++]=E,N=t.id,q=t.overflow,E=s),s=up(s,c.children),s.flags|=4096);return s}return p?(Ao(),p=c.fallback,M=s.mode,V=t.child,le=V.sibling,c=Fi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,le!==null?p=Fi(le,p):(p=Vs(p,M,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,M=t.child.memoizedState,M===null?M=ap(a):(V=M.cachePool,V!==null?(le=sn._currentValue,V=V.parent!==le?{parent:le,pool:le}:V):V=E_(),M={baseLanes:M.baseLanes|a,cachePool:V}),p.memoizedState=M,p.childLanes=lp(t,x,a),s.memoizedState=op,c):(Ro(s),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(x=s.deletions,x===null?(s.deletions=[t],s.flags|=16):x.push(t)),s.child=a,s.memoizedState=null,a)}function up(t,s){return s=Vh({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Vh(t,s){return t=Zn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cp(t,s,a){return Ml(s,t.child,null,a),t=up(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Uv(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),ka(t.return,s,a)}function hp(t,s,a,c,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=p)}function zv(t,s,a){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(En(t,s,c.children,a),c=rn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uv(t,a,s);else if(t.tag===19)Uv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(ye(rn,c),p){case"forwards":for(a=s.child,p=null;a!==null;)t=a.alternate,t!==null&&zh(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),hp(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&zh(t)===null){s.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}hp(s,!0,a,null,g);break;case"together":hp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Lo|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ja(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Fi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function fp(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Eh(t)))}function kT(t,s,a){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),Fs(s,sn,t.memoizedState.cache),wo();break;case 27:case 5:Ii(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:Fs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ro(s),s.flags|=128,null):(a&s.child.childLanes)!==0?jv(t,s,a):(Ro(s),t=Rr(t,s,a),t!==null?t.sibling:null);Ro(s);break;case 19:var p=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(ja(t,s,a,!1),c=(a&s.childLanes)!==0),p){if(c)return zv(t,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(rn,rn.current),c)break;return null;case 22:case 23:return s.lanes=0,Pv(t,s,a);case 24:Fs(s,sn,t.memoizedState.cache)}return Rr(t,s,a)}function Bv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)pn=!0;else{if(!fp(t,a)&&(s.flags&128)===0)return pn=!1,kT(t,s,a);pn=(t.flags&131072)!==0}else pn=!1,Be&&(s.flags&1048576)!==0&&de(s,u,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Tl(c)?(t=Ha(c,t),s.tag=1,s=Dv(null,s,c,t,a)):(s.tag=0,s=rp(null,s,c,t,a));else{if(c!=null){if(p=c.$$typeof,p===me){s.tag=11,s=Nv(null,s,c,t,a);break e}else if(p===H){s.tag=14,s=Ov(null,s,c,t,a);break e}}throw s=ce(c)||c,Error(o(306,s,""))}}return s;case 0:return rp(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,p=Ha(c,s.pendingProps),Dv(t,s,c,p,a);case 3:e:{if(Ke(s,s.stateNode.containerInfo),t===null)throw Error(o(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Dd(t,s),ju(s,c,null,a);var x=s.memoizedState;if(c=x.cache,Fs(s,sn,c),c!==g.cache&&Cl(s,[sn],a,!0),ku(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=kv(t,s,c,a);break e}else if(c!==p){p=Fn(Error(o(424)),s),So(p),s=kv(t,s,c,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ie=ys(t.firstChild),Ne=s,Be=!0,At=null,jt=!0,a=vv(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),c===p){s=Rr(t,s,a);break e}En(t,s,c,a)}s=s.child}return s;case 26:return qh(t,s),t===null?(a=Fy(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,c=sf(xe.current).createElement(a),c[Gt]=s,c[zt]=t,xn(c,a,t),kt(c),s.stateNode=c):s.memoizedState=Fy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ii(s),t===null&&Be&&(c=s.stateNode=Hy(s.type,s.pendingProps,xe.current),Ne=s,jt=!0,p=Ie,jo(s.type)?(Zp=p,Ie=ys(c.firstChild)):Ie=p),En(t,s,s.pendingProps.children,a),qh(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((p=c=Ie)&&(c=c1(c,s.type,s.pendingProps,jt),c!==null?(s.stateNode=c,Ne=s,Ie=ys(c.firstChild),jt=!1,p=!0):p=!1),p||ni(s)),Ii(s),p=s.type,g=s.pendingProps,x=t!==null?t.memoizedProps:null,c=g.children,qp(p,g)?c=null:x!==null&&qp(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=Hd(t,s,AT,null,null,a),rc._currentValue=p),qh(t,s),En(t,s,c,a),s.child;case 6:return t===null&&Be&&((t=a=Ie)&&(a=h1(a,s.pendingProps,jt),a!==null?(s.stateNode=a,Ne=s,Ie=null,t=!0):t=!1),t||ni(s)),null;case 13:return jv(t,s,a);case 4:return Ke(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Ml(s,null,c,a):En(t,s,c,a),s.child;case 11:return Nv(t,s,s.type,s.pendingProps,a);case 7:return En(t,s,s.pendingProps,a),s.child;case 8:return En(t,s,s.pendingProps.children,a),s.child;case 12:return En(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Fs(s,s.type,c.value),En(t,s,c.children,a),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ua(s),p=Un(p),c=c(p),s.flags|=1,En(t,s,c,a),s.child;case 14:return Ov(t,s,s.type,s.pendingProps,a);case 15:return Iv(t,s,s.type,s.pendingProps,a);case 19:return zv(t,s,a);case 31:return c=s.pendingProps,a=s.mode,c={mode:c.mode,children:c.children},t===null?(a=Vh(c,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Fi(t.child,c),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Pv(t,s,a);case 24:return Ua(s),c=Un(sn),t===null?(p=Pd(),p===null&&(p=Nt,g=Od(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),s.memoizedState={parent:c,cache:p},Md(s),Fs(s,sn,p)):((t.lanes&a)!==0&&(Dd(t,s),ju(s,null,null,a),ku()),p=t.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Fs(s,sn,c)):(c=g.cache,Fs(s,sn,c),c!==p.cache&&Cl(s,[sn],a,!0))),En(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Ar(t){t.flags|=4}function Hv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ky(s)){if(s=Zi.current,s!==null&&((nt&4194048)===nt?Gs!==null:(nt&62914560)!==nt&&(nt&536870912)===0||s!==Gs))throw Mu=Ld,T_;t.flags|=8192}}function Fh(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?pa():536870912,t.lanes|=s,Ul|=s)}function Fu(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function jT(t,s,a){var c=s.pendingProps;switch(Re(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Ut(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),_s(sn),li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(s)?Ar(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sh())),Ut(s),null;case 26:return a=s.memoizedState,t===null?(Ar(s),a!==null?(Ut(s),Hv(s,a)):(Ut(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Ar(s),Ut(s),Hv(s,a)):(Ut(s),s.flags&=-16777217):(t.memoizedProps!==c&&Ar(s),Ut(s),s.flags&=-16777217),null;case 27:ui(s),a=xe.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return Ut(s),null}t=Te.current,Da(s)?bh(s):(t=Hy(p,c,a),s.stateNode=t,Ar(s))}return Ut(s),null;case 5:if(ui(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return Ut(s),null}if(t=Te.current,Da(s))bh(s);else{switch(p=sf(xe.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}t[Gt]=s,t[zt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(xn(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ar(s)}}return Ut(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(o(166));if(t=xe.current,Da(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,p=Ne,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Gt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||My(t.nodeValue,a)),t||ni(s)}else t=sf(t).createTextNode(c),t[Gt]=s,s.stateNode=t}return Ut(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Da(s),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Gt]=s}else wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),p=!1}else p=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Cr(s),s):(Cr(s),null)}if(Cr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Fh(s,s.updateQueue),Ut(s),null;case 4:return li(),t===null&&jp(s.stateNode.containerInfo),Ut(s),null;case 10:return _s(s.type),Ut(s),null;case 19:if(be(rn),p=s.memoizedState,p===null)return Ut(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Fu(p,!1);else{if(Bt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(g=zh(t),g!==null){for(s.flags|=128,Fu(p,!1),t=g.updateQueue,s.updateQueue=t,Fh(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Nu(a,t),a=a.sibling;return ye(rn,rn.current&1|2),s.child}t=t.sibling}p.tail!==null&&On()>Wh&&(s.flags|=128,c=!0,Fu(p,!1),s.lanes=4194304)}else{if(!c)if(t=zh(g),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,Fh(s,t),Fu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Be)return Ut(s),null}else 2*On()-p.renderingStartTime>Wh&&a!==536870912&&(s.flags|=128,c=!0,Fu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(t=p.last,t!==null?t.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=On(),s.sibling=null,t=rn.current,ye(rn,c?t&1|2:t&1),s):(Ut(s),null);case 22:case 23:return Cr(s),zd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),a=s.updateQueue,a!==null&&Fh(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&be(za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),_s(sn),Ut(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function UT(t,s){switch(Re(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return _s(sn),li(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ui(s),null;case 13:if(Cr(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));wo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return be(rn),null;case 4:return li(),null;case 10:return _s(s.type),null;case 22:case 23:return Cr(s),zd(),t!==null&&be(za),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return _s(sn),null;case 25:return null;default:return null}}function qv(t,s){switch(Re(s),s.tag){case 3:_s(sn),li();break;case 26:case 27:case 5:ui(s);break;case 4:li();break;case 13:Cr(s);break;case 19:be(rn);break;case 10:_s(s.type);break;case 22:case 23:Cr(s),zd(),t!==null&&be(za);break;case 24:_s(sn)}}function Gu(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&t)===t){c=void 0;var g=a.create,x=a.inst;c=g(),x.destroy=c}a=a.next}while(a!==p)}}catch(M){Et(s,s.return,M)}}function No(t,s,a){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&t)===t){var x=c.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,p=s;var V=a,le=M;try{le()}catch(ge){Et(p,V,ge)}}}c=c.next}while(c!==g)}}catch(ge){Et(s,s.return,ge)}}function Vv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{O_(s,a)}catch(c){Et(t,t.return,c)}}}function Fv(t,s,a){a.props=Ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Et(t,s,c)}}function Zu(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(p){Et(t,s,p)}}function Zs(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Et(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Et(t,s,p)}else a.current=null}function Gv(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Et(t,t.return,p)}}function dp(t,s,a){try{var c=t.stateNode;r1(c,t.type,a,s),c[zt]=s}catch(p){Et(t,t.return,p)}}function Zv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jo(t.type)||t.tag===4}function pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=nf));else if(c!==4&&(c===27&&jo(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(mp(t,s,a),t=t.sibling;t!==null;)mp(t,s,a),t=t.sibling}function Gh(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&jo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gh(t,s,a),t=t.sibling;t!==null;)Gh(t,s,a),t=t.sibling}function Wv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);xn(s,c,a),s[Gt]=t,s[zt]=a}catch(g){Et(t,t.return,g)}}var Nr=!1,Yt=!1,gp=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,mn=null;function zT(t,s){if(t=t.containerInfo,Bp=cf,t=Aa(t),Na(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,M=-1,V=-1,le=0,ge=0,ve=t,he=null;t:for(;;){for(var fe;ve!==a||p!==0&&ve.nodeType!==3||(M=x+p),ve!==g||c!==0&&ve.nodeType!==3||(V=x+c),ve.nodeType===3&&(x+=ve.nodeValue.length),(fe=ve.firstChild)!==null;)he=ve,ve=fe;for(;;){if(ve===t)break t;if(he===a&&++le===p&&(M=x),he===g&&++ge===c&&(V=x),(fe=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=fe}a=M===-1||V===-1?null:{start:M,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hp={focusedElem:t,selectionRange:a},cf=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,g=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=s,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var ze=Ha(a.type,p,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(ze,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(De){Et(a,a.return,De)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Fp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function Kv(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Oo(t,a),c&4&&Gu(5,a);break;case 1:if(Oo(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(x){Et(a,a.return,x)}else{var p=Ha(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Et(a,a.return,x)}}c&64&&Vv(a),c&512&&Zu(a,a.return);break;case 3:if(Oo(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{O_(t,s)}catch(x){Et(a,a.return,x)}}break;case 27:s===null&&c&4&&Wv(a);case 26:case 5:Oo(t,a),s===null&&c&4&&Gv(a),c&512&&Zu(a,a.return);break;case 12:Oo(t,a);break;case 13:Oo(t,a),c&4&&Qv(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=YT.bind(null,a),f1(t,a))));break;case 22:if(c=a.memoizedState!==null||Nr,!c){s=s!==null&&s.memoizedState!==null||Yt,p=Nr;var g=Yt;Nr=c,(Yt=s)&&!g?Io(t,a,(a.subtreeFlags&8772)!==0):Oo(t,a),Nr=p,Yt=g}break;case 30:break;default:Oo(t,a)}}function Xv(t){var s=t.alternate;s!==null&&(t.alternate=null,Xv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ps(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,si=!1;function Or(t,s,a){for(a=a.child;a!==null;)$v(t,s,a),a=a.sibling}function $v(t,s,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:Yt||Zs(a,s),Or(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||Zs(a,s);var c=Mt,p=si;jo(a.type)&&(Mt=a.stateNode,si=!1),Or(t,s,a),tc(a.stateNode),Mt=c,si=p;break;case 5:Yt||Zs(a,s);case 6:if(c=Mt,p=si,Mt=null,Or(t,s,a),Mt=c,si=p,Mt!==null)if(si)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(a.stateNode)}catch(g){Et(a,s,g)}else try{Mt.removeChild(a.stateNode)}catch(g){Et(a,s,g)}break;case 18:Mt!==null&&(si?(t=Mt,zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uc(t)):zy(Mt,a.stateNode));break;case 4:c=Mt,p=si,Mt=a.stateNode.containerInfo,si=!0,Or(t,s,a),Mt=c,si=p;break;case 0:case 11:case 14:case 15:Yt||No(2,a,s),Yt||No(4,a,s),Or(t,s,a);break;case 1:Yt||(Zs(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Fv(a,s,c)),Or(t,s,a);break;case 21:Or(t,s,a);break;case 22:Yt=(c=Yt)||a.memoizedState!==null,Or(t,s,a),Yt=c;break;default:Or(t,s,a)}}function Qv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uc(t)}catch(a){Et(s,s.return,a)}}function BT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Yv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Yv),s;default:throw Error(o(435,t.tag))}}function _p(t,s){var a=BT(t);s.forEach(function(c){var p=KT.bind(null,t,c);a.has(c)||(a.add(c),c.then(p,p))})}function Ti(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=t,x=s,M=x;e:for(;M!==null;){switch(M.tag){case 27:if(jo(M.type)){Mt=M.stateNode,si=!1;break e}break;case 5:Mt=M.stateNode,si=!1;break e;case 3:case 4:Mt=M.stateNode.containerInfo,si=!0;break e}M=M.return}if(Mt===null)throw Error(o(160));$v(g,x,p),Mt=null,si=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jv(s,t),s=s.sibling}var vs=null;function Jv(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ti(s,t),xi(t),c&4&&(No(3,t,t.return),Gu(3,t),No(5,t,t.return));break;case 1:Ti(s,t),xi(t),c&512&&(Yt||a===null||Zs(a,a.return)),c&64&&Nr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=vs;if(Ti(s,t),xi(t),c&512&&(Yt||a===null||Zs(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Is]||g[Gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),xn(g,c,a),g[Gt]=t,kt(g),c=g;break e;case"link":var x=Wy("link","href",p).get(c+(a.href||""));if(x){for(var M=0;M<x.length;M++)if(g=x[M],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(M,1);break t}}g=p.createElement(c),xn(g,c,a),p.head.appendChild(g);break;case"meta":if(x=Wy("meta","content",p).get(c+(a.content||""))){for(M=0;M<x.length;M++)if(g=x[M],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(M,1);break t}}g=p.createElement(c),xn(g,c,a),p.head.appendChild(g);break;default:throw Error(o(468,c))}g[Gt]=t,kt(g),c=g}t.stateNode=c}else Yy(p,t.type,t.stateNode);else t.stateNode=Zy(p,c,t.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Yy(p,t.type,t.stateNode):Zy(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&dp(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ti(s,t),xi(t),c&512&&(Yt||a===null||Zs(a,a.return)),a!==null&&c&4&&dp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ti(s,t),xi(t),c&512&&(Yt||a===null||Zs(a,a.return)),t.flags&32){p=t.stateNode;try{cn(p,"")}catch(fe){Et(t,t.return,fe)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,dp(t,p,a!==null?a.memoizedProps:p)),c&1024&&(gp=!0);break;case 6:if(Ti(s,t),xi(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(fe){Et(t,t.return,fe)}}break;case 3:if(af=null,p=vs,vs=rf(s.containerInfo),Ti(s,t),vs=p,xi(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{uc(s.containerInfo)}catch(fe){Et(t,t.return,fe)}gp&&(gp=!1,ey(t));break;case 4:c=vs,vs=rf(t.stateNode.containerInfo),Ti(s,t),xi(t),vs=c;break;case 12:Ti(s,t),xi(t);break;case 13:Ti(s,t),xi(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ep=On()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,_p(t,c)));break;case 22:p=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,le=Nr,ge=Yt;if(Nr=le||p,Yt=ge||V,Ti(s,t),Yt=ge,Nr=le,xi(t),c&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||V||Nr||Yt||qa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(g=V.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=V.stateNode;var ve=V.memoizedProps.style,he=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;M.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(fe){Et(V,V.return,fe)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(fe){Et(V,V.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,_p(t,a))));break;case 19:Ti(s,t),xi(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,_p(t,c)));break;case 30:break;case 21:break;default:Ti(s,t),xi(t)}}function xi(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(Zv(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,g=pp(t);Gh(t,g,p);break;case 5:var x=a.stateNode;a.flags&32&&(cn(x,""),a.flags&=-33);var M=pp(t);Gh(t,M,x);break;case 3:case 4:var V=a.stateNode.containerInfo,le=pp(t);mp(t,le,V);break;default:throw Error(o(161))}}catch(ge){Et(t,t.return,ge)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;ey(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Oo(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Kv(t,s.alternate,s),s=s.sibling}function qa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:No(4,s,s.return),qa(s);break;case 1:Zs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Fv(s,s.return,a),qa(s);break;case 27:tc(s.stateNode);case 26:case 5:Zs(s,s.return),qa(s);break;case 22:s.memoizedState===null&&qa(s);break;case 30:qa(s);break;default:qa(s)}t=t.sibling}}function Io(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=t,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:Io(p,g,a),Gu(4,g);break;case 1:if(Io(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(le){Et(c,c.return,le)}if(c=g,p=c.updateQueue,p!==null){var M=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)N_(V[p],M)}catch(le){Et(c,c.return,le)}}a&&x&64&&Vv(g),Zu(g,g.return);break;case 27:Wv(g);case 26:case 5:Io(p,g,a),a&&c===null&&x&4&&Gv(g),Zu(g,g.return);break;case 12:Io(p,g,a);break;case 13:Io(p,g,a),a&&x&4&&Qv(p,g);break;case 22:g.memoizedState===null&&Io(p,g,a),Zu(g,g.return);break;case 30:break;default:Io(p,g,a)}s=s.sibling}}function vp(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Iu(a))}function yp(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Iu(t))}function Ws(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ty(t,s,a,c),s=s.sibling}function ty(t,s,a,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ws(t,s,a,c),p&2048&&Gu(9,s);break;case 1:Ws(t,s,a,c);break;case 3:Ws(t,s,a,c),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Iu(t)));break;case 12:if(p&2048){Ws(t,s,a,c),t=s.stateNode;try{var g=s.memoizedProps,x=g.id,M=g.onPostCommit;typeof M=="function"&&M(x,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Et(s,s.return,V)}}else Ws(t,s,a,c);break;case 13:Ws(t,s,a,c);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?Ws(t,s,a,c):Wu(t,s):g._visibility&2?Ws(t,s,a,c):(g._visibility|=2,Dl(t,s,a,c,(s.subtreeFlags&10256)!==0)),p&2048&&vp(x,s);break;case 24:Ws(t,s,a,c),p&2048&&yp(s.alternate,s);break;default:Ws(t,s,a,c)}}function Dl(t,s,a,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=t,x=s,M=a,V=c,le=x.flags;switch(x.tag){case 0:case 11:case 15:Dl(g,x,M,V,p),Gu(8,x);break;case 23:break;case 22:var ge=x.stateNode;x.memoizedState!==null?ge._visibility&2?Dl(g,x,M,V,p):Wu(g,x):(ge._visibility|=2,Dl(g,x,M,V,p)),p&&le&2048&&vp(x.alternate,x);break;case 24:Dl(g,x,M,V,p),p&&le&2048&&yp(x.alternate,x);break;default:Dl(g,x,M,V,p)}s=s.sibling}}function Wu(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,p=c.flags;switch(c.tag){case 22:Wu(a,c),p&2048&&vp(c.alternate,c);break;case 24:Wu(a,c),p&2048&&yp(c.alternate,c);break;default:Wu(a,c)}s=s.sibling}}var Yu=8192;function kl(t){if(t.subtreeFlags&Yu)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 26:kl(t),t.flags&Yu&&t.memoizedState!==null&&x1(vs,t.memoizedState,t.memoizedProps);break;case 5:kl(t);break;case 3:case 4:var s=vs;vs=rf(t.stateNode.containerInfo),kl(t),vs=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Yu,Yu=16777216,kl(t),Yu=s):kl(t));break;default:kl(t)}}function iy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ku(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,ry(c,t)}iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sy(t),t=t.sibling}function sy(t){switch(t.tag){case 0:case 11:case 15:Ku(t),t.flags&2048&&No(9,t,t.return);break;case 3:Ku(t);break;case 12:Ku(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Zh(t)):Ku(t);break;default:Ku(t)}}function Zh(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,ry(c,t)}iy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:No(8,s,s.return),Zh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zh(s));break;default:Zh(s)}t=t.sibling}}function ry(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:No(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Iu(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var p=c.sibling,g=c.return;if(Xv(c),c===a){mn=null;break e}if(p!==null){p.return=g,mn=p;break e}mn=g}}}var HT={getCacheForType:function(t){var s=Un(sn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},qT=typeof WeakMap=="function"?WeakMap:Map,gt=0,Nt=null,$e=null,nt=0,_t=0,Ci=null,Po=!1,jl=!1,bp=!1,Ir=0,Bt=0,Lo=0,Va=0,wp=0,Wi=0,Ul=0,Xu=null,ri=null,Sp=!1,Ep=0,Wh=1/0,Yh=null,Mo=null,Tn=0,Do=null,zl=null,Bl=0,Tp=0,xp=null,oy=null,$u=0,Cp=null;function Ri(){if((gt&2)!==0&&nt!==0)return nt&-nt;if(W.T!==null){var t=Rl;return t!==0?t:Lp()}return Os()}function ay(){Wi===0&&(Wi=(nt&536870912)===0||Be?da():536870912);var t=Zi.current;return t!==null&&(t.flags|=32),Wi}function Ai(t,s,a){(t===Nt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(Hl(t,0),ko(t,nt,Wi,!1)),Li(t,a),((gt&2)===0||t!==Nt)&&(t===Nt&&((gt&2)===0&&(Va|=a),Bt===4&&ko(t,nt,Wi,!1)),Ys(t))}function ly(t,s,a){if((gt&6)!==0)throw Error(o(327));var c=!a&&(s&124)===0&&(s&t.expiredLanes)===0||hi(t,s),p=c?GT(t,s):Np(t,s,!0),g=c;do{if(p===0){jl&&!c&&ko(t,s,0,!1);break}else{if(a=t.current.alternate,g&&!VT(a)){p=Np(t,s,!1),g=!1;continue}if(p===2){if(g=s,t.errorRecoveryDisabledLanes&g)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var M=t;p=Xu;var V=M.current.memoizedState.isDehydrated;if(V&&(Hl(M,x).flags|=256),x=Np(M,x,!1),x!==2){if(bp&&!V){M.errorRecoveryDisabledLanes|=g,Va|=g,p=4;break e}g=ri,ri=p,g!==null&&(ri===null?ri=g:ri.push.apply(ri,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Hl(t,0),ko(t,s,0,!0);break}e:{switch(c=t,g=p,g){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ko(c,s,Wi,!Po);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(p=Ep+300-On(),10<p)){if(ko(c,s,Wi,!Po),Xr(c,0,!0)!==0)break e;c.timeoutHandle=jy(uy.bind(null,c,a,ri,Yh,Sp,s,Wi,Va,Ul,Po,g,2,-0,0),p);break e}uy(c,a,ri,Yh,Sp,s,Wi,Va,Ul,Po,g,0,-0,0)}}break}while(!0);Ys(t)}function uy(t,s,a,c,p,g,x,M,V,le,ge,ve,he,fe){if(t.timeoutHandle=-1,ve=s.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(sc={stylesheets:null,count:0,unsuspend:T1},ny(s),ve=C1(),ve!==null)){t.cancelPendingCommit=ve(gy.bind(null,t,s,g,a,c,p,x,M,V,ge,1,he,fe)),ko(t,g,x,!le);return}gy(t,s,g,a,c,p,x,M,V)}function VT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!qn(g(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ko(t,s,a,c){s&=~wp,s&=~Va,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var p=s;0<p;){var g=31-ln(p),x=1<<g;c[g]=-1,p&=~x}a!==0&&ss(t,a,s)}function Kh(){return(gt&6)===0?(Qu(0),!1):!0}function Rp(){if($e!==null){if(_t===0)var t=$e.return;else t=$e,gs=Gi=null,Fd(t),Ll=null,qu=0,t=$e;for(;t!==null;)qv(t.alternate,t),t=t.return;$e=null}}function Hl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,a1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rp(),Nt=t,$e=a=Fi(t.current,null),nt=s,_t=0,Ci=null,Po=!1,jl=hi(t,s),bp=!1,Ul=Wi=wp=Va=Lo=Bt=0,ri=Xu=null,Sp=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var p=31-ln(c),g=1<<p;s|=t[p],c&=~g}return Ir=s,Ia(),a}function cy(t,s){Ge=null,W.H=kh,s===Lu||s===Ch?(s=R_(),_t=3):s===T_?(s=R_(),_t=4):_t=s===Av?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ci=s,$e===null&&(Bt=1,Hh(t,Fn(s,t.current)))}function hy(){var t=W.H;return W.H=kh,t===null?kh:t}function fy(){var t=W.A;return W.A=HT,t}function Ap(){Bt=4,Po||(nt&4194048)!==nt&&Zi.current!==null||(jl=!0),(Lo&134217727)===0&&(Va&134217727)===0||Nt===null||ko(Nt,nt,Wi,!1)}function Np(t,s,a){var c=gt;gt|=2;var p=hy(),g=fy();(Nt!==t||nt!==s)&&(Yh=null,Hl(t,s)),s=!1;var x=Bt;e:do try{if(_t!==0&&$e!==null){var M=$e,V=Ci;switch(_t){case 8:Rp(),x=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(s=!0);var le=_t;if(_t=0,Ci=null,ql(t,M,V,le),a&&jl){x=0;break e}break;default:le=_t,_t=0,Ci=null,ql(t,M,V,le)}}FT(),x=Bt;break}catch(ge){cy(t,ge)}while(!0);return s&&t.shellSuspendCounter++,gs=Gi=null,gt=c,W.H=p,W.A=g,$e===null&&(Nt=null,nt=0,Ia()),x}function FT(){for(;$e!==null;)dy($e)}function GT(t,s){var a=gt;gt|=2;var c=hy(),p=fy();Nt!==t||nt!==s?(Yh=null,Wh=On()+500,Hl(t,s)):jl=hi(t,s);e:do try{if(_t!==0&&$e!==null){s=$e;var g=Ci;t:switch(_t){case 1:_t=0,Ci=null,ql(t,s,g,1);break;case 2:case 9:if(x_(g)){_t=0,Ci=null,py(s);break}s=function(){_t!==2&&_t!==9||Nt!==t||(_t=7),Ys(t)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:x_(g)?(_t=0,Ci=null,py(s)):(_t=0,Ci=null,ql(t,s,g,7));break;case 5:var x=null;switch($e.tag){case 26:x=$e.memoizedState;case 5:case 27:var M=$e;if(!x||Ky(x)){_t=0,Ci=null;var V=M.sibling;if(V!==null)$e=V;else{var le=M.return;le!==null?($e=le,Xh(le)):$e=null}break t}}_t=0,Ci=null,ql(t,s,g,5);break;case 6:_t=0,Ci=null,ql(t,s,g,6);break;case 8:Rp(),Bt=6;break e;default:throw Error(o(462))}}ZT();break}catch(ge){cy(t,ge)}while(!0);return gs=Gi=null,W.H=c,W.A=p,gt=a,$e!==null?0:(Nt=null,nt=0,Ia(),Bt)}function ZT(){for(;$e!==null&&!Yr();)dy($e)}function dy(t){var s=Bv(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,s===null?Xh(t):$e=s}function py(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Mv(a,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=Mv(a,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:Fd(s);default:qv(a,s),s=$e=Nu(s,Ir),s=Bv(a,s,Ir)}t.memoizedProps=t.pendingProps,s===null?Xh(t):$e=s}function ql(t,s,a,c){gs=Gi=null,Fd(s),Ll=null,qu=0;var p=s.return;try{if(DT(t,p,s,a,nt)){Bt=1,Hh(t,Fn(a,t.current)),$e=null;return}}catch(g){if(p!==null)throw $e=p,g;Bt=1,Hh(t,Fn(a,t.current)),$e=null;return}s.flags&32768?(Be||c===1?t=!0:jl||(nt&536870912)!==0?t=!1:(Po=t=!0,(c===2||c===9||c===3||c===6)&&(c=Zi.current,c!==null&&c.tag===13&&(c.flags|=16384))),my(s,t)):Xh(s)}function Xh(t){var s=t;do{if((s.flags&32768)!==0){my(s,Po);return}t=s.return;var a=jT(s.alternate,s,Ir);if(a!==null){$e=a;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=t}while(s!==null);Bt===0&&(Bt=5)}function my(t,s){do{var a=UT(t.alternate,t);if(a!==null){a.flags&=32767,$e=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){$e=t;return}$e=t=a}while(t!==null);Bt=6,$e=null}function gy(t,s,a,c,p,g,x,M,V){t.cancelPendingCommit=null;do $h();while(Tn!==0);if((gt&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(g=s.lanes|s.childLanes,g|=Ei,ma(t,a,g,x,M,V),t===Nt&&($e=Nt=null,nt=0),zl=s,Do=t,Bl=a,Tp=g,xp=p,oy=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XT(ns,function(){return wy(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,p=se.p,se.p=2,x=gt,gt|=4;try{zT(t,s,a)}finally{gt=x,se.p=p,W.T=c}}Tn=1,_y(),vy(),yy()}}function _y(){if(Tn===1){Tn=0;var t=Do,s=zl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var c=se.p;se.p=2;var p=gt;gt|=4;try{Jv(s,t);var g=Hp,x=Aa(t.containerInfo),M=g.focusedElem,V=g.selectionRange;if(x!==M&&M&&M.ownerDocument&&yl(M.ownerDocument.documentElement,M)){if(V!==null&&Na(M)){var le=V.start,ge=V.end;if(ge===void 0&&(ge=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(ge,M.value.length);else{var ve=M.ownerDocument||document,he=ve&&ve.defaultView||window;if(he.getSelection){var fe=he.getSelection(),ze=M.textContent.length,De=Math.min(V.start,ze),wt=V.end===void 0?De:Math.min(V.end,ze);!fe.extend&&De>wt&&(x=wt,wt=De,De=x);var ee=Ru(M,De),Y=Ru(M,wt);if(ee&&Y&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Y.node||fe.focusOffset!==Y.offset)){var oe=ve.createRange();oe.setStart(ee.node,ee.offset),fe.removeAllRanges(),De>wt?(fe.addRange(oe),fe.extend(Y.node,Y.offset)):(oe.setEnd(Y.node,Y.offset),fe.addRange(oe))}}}}for(ve=[],fe=M;fe=fe.parentNode;)fe.nodeType===1&&ve.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ve.length;M++){var _e=ve[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}cf=!!Bp,Hp=Bp=null}finally{gt=p,se.p=c,W.T=a}}t.current=s,Tn=2}}function vy(){if(Tn===2){Tn=0;var t=Do,s=zl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var c=se.p;se.p=2;var p=gt;gt|=4;try{Kv(t,s.alternate,s)}finally{gt=p,se.p=c,W.T=a}}Tn=3}}function yy(){if(Tn===4||Tn===3){Tn=0,la();var t=Do,s=zl,a=Bl,c=oy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Tn=5:(Tn=0,zl=Do=null,by(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Mo=null),$r(a),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Tt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,p=se.p,se.p=2,W.T=null;try{for(var g=t.onRecoverableError,x=0;x<c.length;x++){var M=c[x];g(M.value,{componentStack:M.stack})}}finally{W.T=s,se.p=p}}(Bl&3)!==0&&$h(),Ys(t),p=t.pendingLanes,(a&4194090)!==0&&(p&42)!==0?t===Cp?$u++:($u=0,Cp=t):$u=0,Qu(0)}}function by(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Iu(s)))}function $h(t){return _y(),vy(),yy(),wy()}function wy(){if(Tn!==5)return!1;var t=Do,s=Tp;Tp=0;var a=$r(Bl),c=W.T,p=se.p;try{se.p=32>a?32:a,W.T=null,a=xp,xp=null;var g=Do,x=Bl;if(Tn=0,zl=Do=null,Bl=0,(gt&6)!==0)throw Error(o(331));var M=gt;if(gt|=4,sy(g.current),ty(g,g.current,x,a),gt=M,Qu(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Tt,g)}catch{}return!0}finally{se.p=p,W.T=c,by(t,s)}}function Sy(t,s,a){s=Fn(a,s),s=sp(t.stateNode,s,2),t=xo(t,s,2),t!==null&&(Li(t,2),Ys(t))}function Et(t,s,a){if(t.tag===3)Sy(t,t,a);else for(;s!==null;){if(s.tag===3){Sy(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mo===null||!Mo.has(c))){t=Fn(a,t),a=Cv(2),c=xo(s,a,2),c!==null&&(Rv(a,c,s,t),Li(c,2),Ys(c));break}}s=s.return}}function Op(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new qT;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(a)||(bp=!0,p.add(a),t=WT.bind(null,t,s,a),s.then(t,t))}function WT(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(nt&a)===a&&(Bt===4||Bt===3&&(nt&62914560)===nt&&300>On()-Ep?(gt&2)===0&&Hl(t,0):wp|=a,Ul===nt&&(Ul=0)),Ys(t)}function Ey(t,s){s===0&&(s=pa()),t=yo(t,s),t!==null&&(Li(t,s),Ys(t))}function YT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Ey(t,a)}function KT(t,s){var a=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(s),Ey(t,a)}function XT(t,s){return ts(t,s)}var Qh=null,Vl=null,Ip=!1,Jh=!1,Pp=!1,Fa=0;function Ys(t){t!==Vl&&t.next===null&&(Vl===null?Qh=Vl=t:Vl=Vl.next=t),Jh=!0,Ip||(Ip=!0,QT())}function Qu(t,s){if(!Pp&&Jh){Pp=!0;do for(var a=!1,c=Qh;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var x=c.suspendedLanes,M=c.pingedLanes;g=(1<<31-ln(42|t)+1)-1,g&=p&~(x&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ry(c,g))}else g=nt,g=Xr(c,c===Nt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||hi(c,g)||(a=!0,Ry(c,g));c=c.next}while(a);Pp=!1}}function $T(){Ty()}function Ty(){Jh=Ip=!1;var t=0;Fa!==0&&(o1()&&(t=Fa),Fa=0);for(var s=On(),a=null,c=Qh;c!==null;){var p=c.next,g=xy(c,s);g===0?(c.next=null,a===null?Qh=p:a.next=p,p===null&&(Vl=a)):(a=c,(t!==0||(g&3)!==0)&&(Jh=!0)),c=p}Qu(t)}function xy(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var x=31-ln(g),M=1<<x,V=p[x];V===-1?((M&a)===0||(M&c)!==0)&&(p[x]=fa(M,s)):V<=s&&(t.expiredLanes|=M),g&=~M}if(s=Nt,a=nt,a=Xr(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&rr(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hi(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&rr(c),$r(a)){case 2:case 8:a=or;break;case 32:a=ns;break;case 268435456:a=ar;break;default:a=ns}return c=Cy.bind(null,t),a=ts(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&rr(c),t.callbackPriority=2,t.callbackNode=null,2}function Cy(t,s){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($h()&&t.callbackNode!==a)return null;var c=nt;return c=Xr(t,t===Nt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(ly(t,c,s),xy(t,On()),t.callbackNode!=null&&t.callbackNode===a?Cy.bind(null,t):null)}function Ry(t,s){if($h())return null;ly(t,s,!0)}function QT(){l1(function(){(gt&6)!==0?ts(ua,$T):Ty()})}function Lp(){return Fa===0&&(Fa=da()),Fa}function Ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:js(""+t)}function Ny(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function JT(t,s,a,c,p){if(s==="submit"&&a&&a.stateNode===p){var g=Ay((p[zt]||null).action),x=c.submitter;x&&(s=(s=x[zt]||null)?Ay(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var M=new mr("action","action",null,c,p);t.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fa!==0){var V=x?Ny(p,x):new FormData(p);Jd(a,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(M.preventDefault(),V=x?Ny(p,x):new FormData(p),Jd(a,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var Mp=0;Mp<br.length;Mp++){var Dp=br[Mp],e1=Dp.toLowerCase(),t1=Dp[0].toUpperCase()+Dp.slice(1);Si(e1,"on"+t1)}Si(_h,"onAnimationEnd"),Si(wi,"onAnimationIteration"),Si(Oa,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Ad,"onTransitionRun"),Si(El,"onTransitionStart"),Si(Nd,"onTransitionCancel"),Si(Au,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function Oy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var M=c[x],V=M.instance,le=M.currentTarget;if(M=M.listener,V!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=le;try{g(p)}catch(ge){Bh(ge)}p.currentTarget=null,g=V}else for(x=0;x<c.length;x++){if(M=c[x],V=M.instance,le=M.currentTarget,M=M.listener,V!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=le;try{g(p)}catch(ge){Bh(ge)}p.currentTarget=null,g=V}}}}function Qe(t,s){var a=s[Pn];a===void 0&&(a=s[Pn]=new Set);var c=t+"__bubble";a.has(c)||(Iy(s,t,2,!1),a.add(c))}function kp(t,s,a){var c=0;s&&(c|=4),Iy(a,t,c,s)}var ef="_reactListening"+Math.random().toString(36).slice(2);function jp(t){if(!t[ef]){t[ef]=!0,va.forEach(function(a){a!=="selectionchange"&&(n1.has(a)||kp(a,!1,t),kp(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ef]||(s[ef]=!0,kp("selectionchange",!1,s))}}function Iy(t,s,a,c){switch(tb(s)){case 2:var p=N1;break;case 8:p=O1;break;default:p=$p}a=p.bind(null,s,a,t),p=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(s,a,{capture:!0,passive:p}):t.addEventListener(s,a,!0):p!==void 0?t.addEventListener(s,a,{passive:p}):t.addEventListener(s,a,!1)}function Up(t,s,a,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var M=c.stateNode.containerInfo;if(M===p)break;if(x===4)for(x=c.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;M!==null;){if(x=Mi(M),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){c=g=x;continue e}M=M.parentNode}}c=c.return}Hn(function(){var le=g,ge=wn(a),ve=[];e:{var he=vh.get(t);if(he!==void 0){var fe=mr,ze=t;switch(t){case"keypress":if(vt(a)===0)break e;case"keydown":case"keyup":fe=lo;break;case"focusin":ze="focus",fe=io;break;case"focusout":ze="blur",fe=io;break;case"beforeblur":case"afterblur":fe=io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=gl;break;case _h:case wi:case Oa:fe=ro;break;case Au:fe=_l;break;case"scroll":case"scrollend":fe=pl;break;case"wheel":fe=Sn;break;case"copy":case"cut":case"paste":fe=Us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=uo;break;case"toggle":case"beforetoggle":fe=qi}var De=(s&4)!==0,wt=!De&&(t==="scroll"||t==="scrollend"),ee=De?he!==null?he+"Capture":null:he;De=[];for(var Y=le,oe;Y!==null;){var _e=Y;if(oe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||oe===null||ee===null||(_e=tt(Y,ee),_e!=null&&De.push(ec(Y,_e,oe))),wt)break;Y=Y.return}0<De.length&&(he=new fe(he,ze,null,a,ge),ve.push({event:he,listeners:De}))}}if((s&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",fe=t==="mouseout"||t==="pointerout",he&&a!==gi&&(ze=a.relatedTarget||a.fromElement)&&(Mi(ze)||ze[Jn]))break e;if((fe||he)&&(he=ge.window===ge?ge:(he=ge.ownerDocument)?he.defaultView||he.parentWindow:window,fe?(ze=a.relatedTarget||a.toElement,fe=le,ze=ze?Mi(ze):null,ze!==null&&(wt=h(ze),De=ze.tag,ze!==wt||De!==5&&De!==27&&De!==6)&&(ze=null)):(fe=null,ze=le),fe!==ze)){if(De=fn,_e="onMouseLeave",ee="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(De=uo,_e="onPointerLeave",ee="onPointerEnter",Y="pointer"),wt=fe==null?he:yn(fe),oe=ze==null?he:yn(ze),he=new De(_e,Y+"leave",fe,a,ge),he.target=wt,he.relatedTarget=oe,_e=null,Mi(ge)===le&&(De=new De(ee,Y+"enter",ze,a,ge),De.target=oe,De.relatedTarget=wt,_e=De),wt=_e,fe&&ze)t:{for(De=fe,ee=ze,Y=0,oe=De;oe;oe=Fl(oe))Y++;for(oe=0,_e=ee;_e;_e=Fl(_e))oe++;for(;0<Y-oe;)De=Fl(De),Y--;for(;0<oe-Y;)ee=Fl(ee),oe--;for(;Y--;){if(De===ee||ee!==null&&De===ee.alternate)break t;De=Fl(De),ee=Fl(ee)}De=null}else De=null;fe!==null&&Py(ve,he,fe,De,!1),ze!==null&&wt!==null&&Py(ve,wt,ze,De,!0)}}e:{if(he=le?yn(le):window,fe=he.nodeName&&he.nodeName.toLowerCase(),fe==="select"||fe==="input"&&he.type==="file")var Oe=fo;else if(kn(he))if(Tu)Oe=Rd;else{Oe=Cd;var We=Cu}else fe=he.nodeName,!fe||fe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?le&&pr(le.elementType)&&(Oe=fo):Oe=ms;if(Oe&&(Oe=Oe(t,le))){jn(ve,Oe,a,ge);break e}We&&We(t,he,le),t==="focusout"&&le&&he.type==="number"&&le.memoizedProps.value!=null&&pi(he,"number",he.value)}switch(We=le?yn(le):window,t){case"focusin":(kn(We)||We.contentEditable==="true")&&(bi=We,go=le,yr=null);break;case"focusout":yr=go=bi=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,mh(ve,a,ge);break;case"selectionchange":if(bl)break;case"keydown":case"keyup":mh(ve,a,ge)}var Le;if(f)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Rt?Se(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(k&&a.locale!=="ko"&&(Rt||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Rt&&(Le=us()):(ti=ge,Mn="value"in ti?ti.value:ti.textContent,Rt=!0)),We=tf(le,ke),0<We.length&&(ke=new Dn(ke,t,null,a,ge),ve.push({event:ke,listeners:We}),Le?ke.data=Le:(Le=at(a),Le!==null&&(ke.data=Le)))),(Le=T?Xe(t,a):Xt(t,a))&&(ke=tf(le,"onBeforeInput"),0<ke.length&&(We=new Dn("onBeforeInput","beforeinput",null,a,ge),ve.push({event:We,listeners:ke}),We.data=Le)),JT(ve,t,le,a,ge)}Oy(ve,s)})}function ec(t,s,a){return{instance:t,listener:s,currentTarget:a}}function tf(t,s){for(var a=s+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=tt(t,a),p!=null&&c.unshift(ec(t,p,g)),p=tt(t,s),p!=null&&c.push(ec(t,p,g))),t.tag===3)return c;t=t.return}return[]}function Fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Py(t,s,a,c,p){for(var g=s._reactName,x=[];a!==null&&a!==c;){var M=a,V=M.alternate,le=M.stateNode;if(M=M.tag,V!==null&&V===c)break;M!==5&&M!==26&&M!==27||le===null||(V=le,p?(le=tt(a,g),le!=null&&x.unshift(ec(a,le,V))):p||(le=tt(a,g),le!=null&&x.push(ec(a,le,V)))),a=a.return}x.length!==0&&t.push({event:s,listeners:x})}var i1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function Ly(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(s1,"")}function My(t,s){return s=Ly(s),Ly(t)===s}function nf(){}function bt(t,s,a,c,p,g){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||cn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&cn(t,""+c);break;case"className":ki(t,"class",c);break;case"tabIndex":ki(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(t,a,c);break;case"style":as(t,c,g);break;case"data":if(s!=="object"){ki(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=js(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&bt(t,s,"name",p.name,p,null),bt(t,s,"formEncType",p.formEncType,p,null),bt(t,s,"formMethod",p.formMethod,p,null),bt(t,s,"formTarget",p.formTarget,p,null)):(bt(t,s,"encType",p.encType,p,null),bt(t,s,"method",p.method,p,null),bt(t,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=js(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=nf);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=js(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Ls(t,"popover",c);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ls(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ba.get(a)||a,Ls(t,a,c))}}function zp(t,s,a,c,p,g){switch(a){case"style":as(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof c=="string"?cn(t,c):(typeof c=="number"||typeof c=="bigint")&&cn(t,""+c);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),g=t[zt]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,p);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ls(t,a,c)}}}function xn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var x=a[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:bt(t,s,g,x,a,null)}}p&&bt(t,s,"srcSet",a.srcSet,a,null),c&&bt(t,s,"src",a.src,a,null);return;case"input":Qe("invalid",t);var M=g=x=p=null,V=null,le=null;for(c in a)if(a.hasOwnProperty(c)){var ge=a[c];if(ge!=null)switch(c){case"name":p=ge;break;case"type":x=ge;break;case"checked":V=ge;break;case"defaultChecked":le=ge;break;case"value":g=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,s));break;default:bt(t,s,c,ge,a,null)}}dr(t,g,M,V,le,x,p,!1),ks(t);return;case"select":Qe("invalid",t),c=x=g=null;for(p in a)if(a.hasOwnProperty(p)&&(M=a[p],M!=null))switch(p){case"value":g=M;break;case"defaultValue":x=M;break;case"multiple":c=M;default:bt(t,s,p,M,a,null)}s=g,a=x,t.multiple=!!c,s!=null?bn(t,!!c,s,!1):a!=null&&bn(t,!!c,a,!0);return;case"textarea":Qe("invalid",t),g=p=c=null;for(x in a)if(a.hasOwnProperty(x)&&(M=a[x],M!=null))switch(x){case"value":c=M;break;case"defaultValue":p=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:bt(t,s,x,M,a,null)}Bn(t,c,p,g),ks(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:bt(t,s,V,c,a,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(c=0;c<Ju.length;c++)Qe(Ju[c],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(c=a[le],c!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:bt(t,s,le,c,a,null)}return;default:if(pr(s)){for(ge in a)a.hasOwnProperty(ge)&&(c=a[ge],c!==void 0&&zp(t,s,ge,c,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(c=a[M],c!=null&&bt(t,s,M,c,a,null))}function r1(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,M=null,V=null,le=null,ge=null;for(fe in a){var ve=a[fe];if(a.hasOwnProperty(fe)&&ve!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":V=ve;default:c.hasOwnProperty(fe)||bt(t,s,fe,null,c,ve)}}for(var he in c){var fe=c[he];if(ve=a[he],c.hasOwnProperty(he)&&(fe!=null||ve!=null))switch(he){case"type":g=fe;break;case"name":p=fe;break;case"checked":le=fe;break;case"defaultChecked":ge=fe;break;case"value":x=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,s));break;default:fe!==ve&&bt(t,s,he,fe,c,ve)}}Ct(t,x,M,V,le,ge,g,p);return;case"select":fe=x=M=he=null;for(g in a)if(V=a[g],a.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":fe=V;default:c.hasOwnProperty(g)||bt(t,s,g,null,c,V)}for(p in c)if(g=c[p],V=a[p],c.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":he=g;break;case"defaultValue":M=g;break;case"multiple":x=g;default:g!==V&&bt(t,s,p,g,c,V)}s=M,a=x,c=fe,he!=null?bn(t,!!a,he,!1):!!c!=!!a&&(s!=null?bn(t,!!a,s,!0):bn(t,!!a,a?[]:"",!1));return;case"textarea":fe=he=null;for(M in a)if(p=a[M],a.hasOwnProperty(M)&&p!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:bt(t,s,M,null,c,p)}for(x in c)if(p=c[x],g=a[x],c.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":he=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==g&&bt(t,s,x,p,c,g)}je(t,he,fe);return;case"option":for(var ze in a)if(he=a[ze],a.hasOwnProperty(ze)&&he!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":t.selected=!1;break;default:bt(t,s,ze,null,c,he)}for(V in c)if(he=c[V],fe=a[V],c.hasOwnProperty(V)&&he!==fe&&(he!=null||fe!=null))switch(V){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:bt(t,s,V,he,c,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)he=a[De],a.hasOwnProperty(De)&&he!=null&&!c.hasOwnProperty(De)&&bt(t,s,De,null,c,he);for(le in c)if(he=c[le],fe=a[le],c.hasOwnProperty(le)&&he!==fe&&(he!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,s));break;default:bt(t,s,le,he,c,fe)}return;default:if(pr(s)){for(var wt in a)he=a[wt],a.hasOwnProperty(wt)&&he!==void 0&&!c.hasOwnProperty(wt)&&zp(t,s,wt,void 0,c,he);for(ge in c)he=c[ge],fe=a[ge],!c.hasOwnProperty(ge)||he===fe||he===void 0&&fe===void 0||zp(t,s,ge,he,c,fe);return}}for(var ee in a)he=a[ee],a.hasOwnProperty(ee)&&he!=null&&!c.hasOwnProperty(ee)&&bt(t,s,ee,null,c,he);for(ve in c)he=c[ve],fe=a[ve],!c.hasOwnProperty(ve)||he===fe||he==null&&fe==null||bt(t,s,ve,he,c,fe)}var Bp=null,Hp=null;function sf(t){return t.nodeType===9?t:t.ownerDocument}function Dy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function qp(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vp=null;function o1(){var t=window.event;return t&&t.type==="popstate"?t===Vp?!1:(Vp=t,!0):(Vp=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(u1)}:jy;function u1(t){setTimeout(function(){throw t})}function jo(t){return t==="head"}function zy(t,s){var a=s,c=0,p=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var x=t.ownerDocument;if(a&1&&tc(x.documentElement),a&2&&tc(x.body),a&4)for(a=x.head,tc(a),x=a.firstChild;x;){var M=x.nextSibling,V=x.nodeName;x[Is]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=M}}if(p===0){t.removeChild(g),uc(s);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);uc(s)}function Fp(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fp(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function c1(t,s,a,c){for(;t.nodeType===1;){var p=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Is])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=ys(t.nextSibling),t===null)break}return null}function h1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ys(t.nextSibling),t===null))return null;return t}function Gp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function f1(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ys(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Zp=null;function By(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function Hy(t,s,a){switch(s=sf(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function tc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ps(t)}var Yi=new Map,qy=new Set;function rf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pr=se.d;se.d={f:d1,r:p1,D:m1,C:g1,L:_1,m:v1,X:b1,S:y1,M:w1};function d1(){var t=Pr.f(),s=Kh();return t||s}function p1(t){var s=fi(t);s!==null&&s.tag===5&&s.type==="form"?lv(s):Pr.r(t)}var Gl=typeof document>"u"?null:document;function Vy(t,s,a){var c=Gl;if(c&&typeof s=="string"&&s){var p=Pt(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),qy.has(p)||(qy.add(p),t={rel:t,crossOrigin:a,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),xn(s,"link",t),kt(s),c.head.appendChild(s)))}}function m1(t){Pr.D(t),Vy("dns-prefetch",t,null)}function g1(t,s){Pr.C(t,s),Vy("preconnect",t,s)}function _1(t,s,a){Pr.L(t,s,a);var c=Gl;if(c&&t&&s){var p='link[rel="preload"][as="'+Pt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Pt(a.imageSizes)+'"]')):p+='[href="'+Pt(t)+'"]';var g=p;switch(s){case"style":g=Zl(t);break;case"script":g=Wl(t)}Yi.has(g)||(t=C({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Yi.set(g,t),c.querySelector(p)!==null||s==="style"&&c.querySelector(nc(g))||s==="script"&&c.querySelector(ic(g))||(s=c.createElement("link"),xn(s,"link",t),kt(s),c.head.appendChild(s)))}}function v1(t,s){Pr.m(t,s);var a=Gl;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Pt(c)+'"][href="'+Pt(t)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wl(t)}if(!Yi.has(g)&&(t=C({rel:"modulepreload",href:t},s),Yi.set(g,t),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ic(g)))return}c=a.createElement("link"),xn(c,"link",t),kt(c),a.head.appendChild(c)}}}function y1(t,s,a){Pr.S(t,s,a);var c=Gl;if(c&&t){var p=un(c).hoistableStyles,g=Zl(t);s=s||"default";var x=p.get(g);if(!x){var M={loading:0,preload:null};if(x=c.querySelector(nc(g)))M.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Yi.get(g))&&Wp(t,a);var V=x=c.createElement("link");kt(V),xn(V,"link",t),V._p=new Promise(function(le,ge){V.onload=le,V.onerror=ge}),V.addEventListener("load",function(){M.loading|=1}),V.addEventListener("error",function(){M.loading|=2}),M.loading|=4,of(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:M},p.set(g,x)}}}function b1(t,s){Pr.X(t,s);var a=Gl;if(a&&t){var c=un(a).hoistableScripts,p=Wl(t),g=c.get(p);g||(g=a.querySelector(ic(p)),g||(t=C({src:t,async:!0},s),(s=Yi.get(p))&&Yp(t,s),g=a.createElement("script"),kt(g),xn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function w1(t,s){Pr.M(t,s);var a=Gl;if(a&&t){var c=un(a).hoistableScripts,p=Wl(t),g=c.get(p);g||(g=a.querySelector(ic(p)),g||(t=C({src:t,async:!0,type:"module"},s),(s=Yi.get(p))&&Yp(t,s),g=a.createElement("script"),kt(g),xn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Fy(t,s,a,c){var p=(p=xe.current)?rf(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Zl(a.href),a=un(p).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Zl(a.href);var g=un(p).hoistableStyles,x=g.get(t);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,x),(g=p.querySelector(nc(t)))&&!g._p&&(x.instance=g,x.state.loading=5),Yi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yi.set(t,a),g||S1(p,t,a,x.state))),s&&c===null)throw Error(o(528,""));return x}if(s&&c!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wl(a),a=un(p).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Zl(t){return'href="'+Pt(t)+'"'}function nc(t){return'link[rel="stylesheet"]['+t+"]"}function Gy(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),xn(s,"link",a),kt(s),t.head.appendChild(s))}function Wl(t){return'[src="'+Pt(t)+'"]'}function ic(t){return"script[async]"+t}function Zy(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(c)return s.instance=c,kt(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),kt(c),xn(c,"style",p),of(c,a.precedence,t),s.instance=c;case"stylesheet":p=Zl(a.href);var g=t.querySelector(nc(p));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;c=Gy(a),(p=Yi.get(p))&&Wp(c,p),g=(t.ownerDocument||t).createElement("link"),kt(g);var x=g;return x._p=new Promise(function(M,V){x.onload=M,x.onerror=V}),xn(g,"link",c),s.state.loading|=4,of(g,a.precedence,t),s.instance=g;case"script":return g=Wl(a.src),(p=t.querySelector(ic(g)))?(s.instance=p,kt(p),p):(c=a,(p=Yi.get(g))&&(c=C({},a),Yp(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),kt(p),xn(p,"link",c),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,of(c,a.precedence,t));return s.instance}function of(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,x=0;x<c.length;x++){var M=c[x];if(M.dataset.precedence===s)g=M;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Wp(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Yp(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var af=null;function Wy(t,s,a){if(af===null){var c=new Map,p=af=new Map;p.set(a,c)}else p=af,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),p=0;p<a.length;p++){var g=a[p];if(!(g[Is]||g[Gt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=t+x;var M=c.get(x);M?M.push(g):c.set(x,[g])}}return c}function Yy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function E1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var sc=null;function T1(){}function x1(t,s,a){if(sc===null)throw Error(o(475));var c=sc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Zl(a.href),g=t.querySelector(nc(p));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=lf.bind(c),t.then(c,c)),s.state.loading|=4,s.instance=g,kt(g);return}g=t.ownerDocument||t,a=Gy(a),(p=Yi.get(p))&&Wp(a,p),g=g.createElement("link"),kt(g);var x=g;x._p=new Promise(function(M,V){x.onload=M,x.onerror=V}),xn(g,"link",a),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=lf.bind(c),t.addEventListener("load",s),t.addEventListener("error",s))}}function C1(){if(sc===null)throw Error(o(475));var t=sc;return t.stylesheets&&t.count===0&&Kp(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Kp(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lf(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uf=null;function Kp(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uf=new Map,s.forEach(R1,t),uf=null,lf.call(t))}function R1(t,s){if(!(s.state.loading&4)){var a=uf.get(t);if(a)var c=a.get(null);else{a=new Map,uf.set(t,a);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}p=s.instance,x=p.getAttribute("data-precedence"),g=a.get(x)||c,g===c&&a.set(null,p),a.set(x,p),this.count++,c=lf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var rc={$$typeof:X,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function A1(t,s,a,c,p,g,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Xy(t,s,a,c,p,g,x,M,V,le,ge,ve){return t=new A1(t,s,a,x,M,V,le,ve),s=1,g===!0&&(s|=24),g=Zn(3,null,null,s),t.current=g,g.stateNode=t,s=Od(),s.refCount++,t.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:s},Md(g),t}function $y(t){return t?(t=Er,t):Er}function Qy(t,s,a,c,p,g){p=$y(p),c.context===null?c.context=p:c.pendingContext=p,c=To(s),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=xo(t,c,s),a!==null&&(Ai(a,t,s),Du(a,t,s))}function Jy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Xp(t,s){Jy(t,s),(t=t.alternate)&&Jy(t,s)}function eb(t){if(t.tag===13){var s=yo(t,67108864);s!==null&&Ai(s,t,67108864),Xp(t,67108864)}}var cf=!0;function N1(t,s,a,c){var p=W.T;W.T=null;var g=se.p;try{se.p=2,$p(t,s,a,c)}finally{se.p=g,W.T=p}}function O1(t,s,a,c){var p=W.T;W.T=null;var g=se.p;try{se.p=8,$p(t,s,a,c)}finally{se.p=g,W.T=p}}function $p(t,s,a,c){if(cf){var p=Qp(c);if(p===null)Up(t,s,c,hf,a),nb(t,c);else if(P1(p,t,s,a,c))c.stopPropagation();else if(nb(t,c),s&4&&-1<I1.indexOf(t)){for(;p!==null;){var g=fi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Qn(g.pendingLanes);if(x!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var V=1<<31-ln(x);M.entanglements[1]|=V,x&=~V}Ys(g),(gt&6)===0&&(Wh=On()+500,Qu(0))}}break;case 13:M=yo(g,2),M!==null&&Ai(M,g,2),Kh(),Xp(g,2)}if(g=Qp(c),g===null&&Up(t,s,c,hf,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else Up(t,s,c,null,a)}}function Qp(t){return t=wn(t),Jp(t)}var hf=null;function Jp(t){if(hf=null,t=Mi(t),t!==null){var s=h(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return hf=t,null}function tb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case ua:return 2;case or:return 8;case ns:case ul:return 32;case ar:return 268435456;default:return 32}default:return 32}}var em=!1,Uo=null,zo=null,Bo=null,oc=new Map,ac=new Map,Ho=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(t,s){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(s.pointerId)}}function lc(t,s,a,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=fi(s),s!==null&&eb(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function P1(t,s,a,c,p){switch(s){case"focusin":return Uo=lc(Uo,t,s,a,c,p),!0;case"dragenter":return zo=lc(zo,t,s,a,c,p),!0;case"mouseover":return Bo=lc(Bo,t,s,a,c,p),!0;case"pointerover":var g=p.pointerId;return oc.set(g,lc(oc.get(g)||null,t,s,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ac.set(g,lc(ac.get(g)||null,t,s,a,c,p)),!0}return!1}function ib(t){var s=Mi(t.target);if(s!==null){var a=h(s);if(a!==null){if(s=a.tag,s===13){if(s=m(a),s!==null){t.blockedOn=s,Qr(t.priority,function(){if(a.tag===13){var c=Ri();c=ur(c);var p=yo(a,c);p!==null&&Ai(p,a,c),Xp(a,c)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ff(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Qp(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);gi=c,a.target.dispatchEvent(c),gi=null}else return s=fi(a),s!==null&&eb(s),t.blockedOn=a,!1;s.shift()}return!0}function sb(t,s,a){ff(t)&&a.delete(s)}function L1(){em=!1,Uo!==null&&ff(Uo)&&(Uo=null),zo!==null&&ff(zo)&&(zo=null),Bo!==null&&ff(Bo)&&(Bo=null),oc.forEach(sb),ac.forEach(sb)}function df(t,s){t.blockedOn===s&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,L1)))}var pf=null;function rb(t){pf!==t&&(pf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pf===t&&(pf=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],p=t[s+2];if(typeof c!="function"){if(Jp(c||a)===null)continue;break}var g=fi(a);g!==null&&(t.splice(s,3),s-=3,Jd(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function uc(t){function s(V){return df(V,t)}Uo!==null&&df(Uo,t),zo!==null&&df(zo,t),Bo!==null&&df(Bo,t),oc.forEach(s),ac.forEach(s);for(var a=0;a<Ho.length;a++){var c=Ho[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Ho.length&&(a=Ho[0],a.blockedOn===null);)ib(a),a.blockedOn===null&&Ho.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],x=p[zt]||null;if(typeof g=="function")x||rb(a);else if(x){var M=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[zt]||null)M=x.formAction;else if(Jp(p)!==null)continue}else M=x.action;typeof M=="function"?a[c+1]=M:(a.splice(c,3),c-=3),rb(a)}}}function tm(t){this._internalRoot=t}mf.prototype.render=tm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,c=Ri();Qy(a,c,t,s,null,null)},mf.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qy(t.current,2,null,t,null,null),Kh(),s[Jn]=null}};function mf(t){this._internalRoot=t}mf.prototype.unstable_scheduleHydration=function(t){if(t){var s=Os();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ho.length&&s!==0&&s<Ho[a].priority;a++);Ho.splice(a,0,t),a===0&&ib(t)}};var ob=e.version;if(ob!=="19.1.0")throw Error(o(527,ob,"19.1.0"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var M1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{Tt=gf.inject(M1),ot=gf}catch{}}return hc.createRoot=function(t,s){if(!l(t))throw Error(o(299));var a=!1,c="",p=Sv,g=Ev,x=Tv,M=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks)),s=Xy(t,1,!1,null,null,a,c,p,g,x,M,null),t[Jn]=s.current,jp(t),new tm(s)},hc.hydrateRoot=function(t,s,a){if(!l(t))throw Error(o(299));var c=!1,p="",g=Sv,x=Ev,M=Tv,V=null,le=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(le=a.formState)),s=Xy(t,1,!0,s,a??null,c,p,g,x,M,V,le),s.context=$y(null),a=s.current,c=Ri(),c=ur(c),p=To(c),p.callback=null,xo(a,p,c),a=c,s.current.lanes=a,Li(s,a),Ys(s),t[Jn]=s.current,jp(t),new mf(s)},hc.version="19.1.0",hc}var gb;function G1(){if(gb)return sm.exports;gb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sm.exports=F1(),sm.exports}var Z1=G1();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _b="popstate";function W1(i={}){function e(o,l){let{pathname:h,search:m,hash:v}=o.location;return Lm("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:jc(l)}return K1(e,n,null,i)}function Dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function vb(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?fu(e):e,state:n,key:e&&e.key||o||Y1()}}function jc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function fu(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(e.search=i.substring(o),i=i.substring(0,o)),i&&(e.pathname=i)}return e}function K1(i,e,n,o={}){let{window:l=document.defaultView,v5Compat:h=!1}=o,m=l.history,v="POP",y=null,w=C();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function C(){return(m.state||{idx:null}).idx}function A(){v="POP";let Q=C(),J=Q==null?null:Q-w;w=Q,y&&y({action:v,location:te.location,delta:J})}function O(Q,J){v="PUSH";let G=Lm(te.location,Q,J);w=C()+1;let X=vb(G,w),me=te.createHref(G);try{m.pushState(X,"",me)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;l.location.assign(me)}h&&y&&y({action:v,location:te.location,delta:1})}function Z(Q,J){v="REPLACE";let G=Lm(te.location,Q,J);w=C();let X=vb(G,w),me=te.createHref(G);m.replaceState(X,"",me),h&&y&&y({action:v,location:te.location,delta:0})}function F(Q){return X1(Q)}let te={get action(){return v},get location(){return i(l,m)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(_b,A),y=Q,()=>{l.removeEventListener(_b,A),y=null}},createHref(Q){return e(l,Q)},createURL:F,encodeLocation(Q){let J=F(Q);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:O,replace:Z,go(Q){return m.go(Q)}};return te}function X1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:jc(i);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function y0(i,e,n="/"){return $1(i,e,n,!1)}function $1(i,e,n,o){let l=typeof e=="string"?fu(e):e,h=Br(l.pathname||"/",n);if(h==null)return null;let m=b0(i);Q1(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let w=ux(h);v=ax(m[y],w,o)}return v}function b0(i,e=[],n=[],o=""){let l=(h,m,v)=>{let y={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};y.relativePath.startsWith("/")&&(Dt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length));let w=Ur([o,y.relativePath]),C=n.concat(y);h.children&&h.children.length>0&&(Dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),b0(h.children,e,C,w)),!(h.path==null&&!h.index)&&e.push({path:w,score:rx(w,h.index),routesMeta:C})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))l(h,m);else for(let v of w0(h.path))l(h,m,v)}),e}function w0(i){let e=i.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(o.length===0)return l?[h,""]:[h];let m=w0(o.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>i.startsWith("/")&&y===""?"/":y)}function Q1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:ox(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var J1=/^:[\w-]+$/,ex=3,tx=2,nx=1,ix=10,sx=-2,yb=i=>i==="*";function rx(i,e){let n=i.split("/"),o=n.length;return n.some(yb)&&(o+=sx),e&&(o+=tx),n.filter(l=>!yb(l)).reduce((l,h)=>l+(J1.test(h)?ex:h===""?nx:ix),o)}function ox(i,e){return i.length===e.length&&i.slice(0,-1).every((o,l)=>o===e[l])?i[i.length-1]-e[e.length-1]:0}function ax(i,e,n=!1){let{routesMeta:o}=i,l={},h="/",m=[];for(let v=0;v<o.length;++v){let y=o[v],w=v===o.length-1,C=h==="/"?e:e.slice(h.length)||"/",A=Df({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},C),O=y.route;if(!A&&w&&n&&!o[o.length-1].route.index&&(A=Df({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},C)),!A)return null;Object.assign(l,A.params),m.push({params:l,pathname:Ur([h,A.pathname]),pathnameBase:dx(Ur([h,A.pathnameBase])),route:O}),A.pathnameBase!=="/"&&(h=Ur([h,A.pathnameBase]))}return m}function Df(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=lx(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:o.reduce((w,{paramName:C,isOptional:A},O)=>{if(C==="*"){let F=v[O]||"";m=h.slice(0,h.length-F.length).replace(/(.)\/+$/,"$1")}const Z=v[O];return A&&!Z?w[C]=void 0:w[C]=(Z||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:m,pattern:i}}function lx(i,e=!1,n=!0){Qi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(o.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function ux(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function cx(i,e="/"){let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?fu(i):i;return{pathname:n?n.startsWith("/")?n:hx(n,e):e,search:px(o),hash:mx(l)}}function hx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function lm(i,e,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fx(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(i){let e=fx(i);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function og(i,e,n,o=!1){let l;typeof i=="string"?l=fu(i):(l={...i},Dt(!l.pathname||!l.pathname.includes("?"),lm("?","pathname","search",l)),Dt(!l.pathname||!l.pathname.includes("#"),lm("#","pathname","hash",l)),Dt(!l.search||!l.search.includes("#"),lm("#","search","hash",l)));let h=i===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let A=e.length-1;if(!o&&m.startsWith("..")){let O=m.split("/");for(;O[0]==="..";)O.shift(),A-=1;l.pathname=O.join("/")}v=A>=0?e[A]:"/"}let y=cx(l,v),w=m&&m!=="/"&&m.endsWith("/"),C=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(w||C)&&(y.pathname+="/"),y}var Ur=i=>i.join("/").replace(/\/\/+/g,"/"),dx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),px=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var _x=["GET",...S0];new Set(_x);var du=K.createContext(null);du.displayName="DataRouter";var od=K.createContext(null);od.displayName="DataRouterState";K.createContext(!1);var E0=K.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var vx=K.createContext(new Map);vx.displayName="Fetchers";var yx=K.createContext(null);yx.displayName="Await";var Rs=K.createContext(null);Rs.displayName="Navigation";var $c=K.createContext(null);$c.displayName="Location";var es=K.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var ag=K.createContext(null);ag.displayName="RouteError";function bx(i,{relative:e}={}){Dt(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=K.useContext(Rs),{hash:l,pathname:h,search:m}=Qc(i,{relative:e}),v=h;return n!=="/"&&(v=h==="/"?n:Ur([n,h])),o.createHref({pathname:v,search:m,hash:l})}function pu(){return K.useContext($c)!=null}function As(){return Dt(pu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext($c).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(i){K.useContext(Rs).static||K.useLayoutEffect(i)}function mu(){let{isDataRoute:i}=K.useContext(es);return i?kx():wx()}function wx(){Dt(pu(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(du),{basename:e,navigator:n}=K.useContext(Rs),{matches:o}=K.useContext(es),{pathname:l}=As(),h=JSON.stringify(rg(o)),m=K.useRef(!1);return x0(()=>{m.current=!0}),K.useCallback((y,w={})=>{if(Qi(m.current,T0),!m.current)return;if(typeof y=="number"){n.go(y);return}let C=og(y,JSON.parse(h),l,w.relative==="path");i==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:Ur([e,C.pathname])),(w.replace?n.replace:n.push)(C,w.state,w)},[e,n,h,l,i])}var Sx=K.createContext(null);function Ex(i){let e=K.useContext(es).outlet;return e&&K.createElement(Sx.Provider,{value:i},e)}function Tx(){let{matches:i}=K.useContext(es),e=i[i.length-1];return e?e.params:{}}function Qc(i,{relative:e}={}){let{matches:n}=K.useContext(es),{pathname:o}=As(),l=JSON.stringify(rg(n));return K.useMemo(()=>og(i,JSON.parse(l),o,e==="path"),[i,l,o,e])}function xx(i,e){return C0(i,e)}function C0(i,e,n,o){Dt(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(Rs),{matches:h}=K.useContext(es),m=h[h.length-1],v=m?m.params:{},y=m?m.pathname:"/",w=m?m.pathnameBase:"/",C=m&&m.route;{let J=C&&C.path||"";R0(y,!C||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=As(),O;if(e){let J=typeof e=="string"?fu(e):e;Dt(w==="/"||J.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=A;let Z=O.pathname||"/",F=Z;if(w!=="/"){let J=w.replace(/^\//,"").split("/");F="/"+Z.replace(/^\//,"").split("/").slice(J.length).join("/")}let te=y0(i,{pathname:F});Qi(C||te!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Qi(te==null||te[te.length-1].route.element!==void 0||te[te.length-1].route.Component!==void 0||te[te.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Ox(te&&te.map(J=>Object.assign({},J,{params:Object.assign({},v,J.params),pathname:Ur([w,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:Ur([w,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,n,o);return e&&Q?K.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Q):Q}function Cx(){let i=Dx(),e=gx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:l},n):null,m)}var Rx=K.createElement(Cx,null),Ax=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(es.Provider,{value:this.props.routeContext},K.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nx({routeContext:i,match:e,children:n}){let o=K.useContext(du);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(es.Provider,{value:i},n)}function Ox(i,e=[],n=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,h=n?.errors;if(h!=null){let y=l.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,v=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:C,errors:A}=n,O=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!A||A[w.route.id]===void 0);if(w.route.lazy||O){m=!0,v>=0?l=l.slice(0,v+1):l=[l[0]];break}}}return l.reduceRight((y,w,C)=>{let A,O=!1,Z=null,F=null;n&&(A=h&&w.route.id?h[w.route.id]:void 0,Z=w.route.errorElement||Rx,m&&(v<0&&C===0?(R0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,F=null):v===C&&(O=!0,F=w.route.hydrateFallbackElement||null)));let te=e.concat(l.slice(0,C+1)),Q=()=>{let J;return A?J=Z:O?J=F:w.route.Component?J=K.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=y,K.createElement(Nx,{match:w,routeContext:{outlet:y,matches:te,isDataRoute:n!=null},children:J})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?K.createElement(Ax,{location:n.location,revalidation:n.revalidation,component:Z,error:A,children:Q(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):Q()},null)}function lg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ix(i){let e=K.useContext(du);return Dt(e,lg(i)),e}function Px(i){let e=K.useContext(od);return Dt(e,lg(i)),e}function Lx(i){let e=K.useContext(es);return Dt(e,lg(i)),e}function ug(i){let e=Lx(i),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Mx(){return ug("useRouteId")}function Dx(){let i=K.useContext(ag),e=Px("useRouteError"),n=ug("useRouteError");return i!==void 0?i:e.errors?.[n]}function kx(){let{router:i}=Ix("useNavigate"),e=ug("useNavigate"),n=K.useRef(!1);return x0(()=>{n.current=!0}),K.useCallback(async(l,h={})=>{Qi(n.current,T0),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...h}))},[i,e])}var bb={};function R0(i,e,n){!e&&!bb[i]&&(bb[i]=!0,Qi(!1,n))}K.memo(jx);function jx({routes:i,future:e,state:n}){return C0(i,void 0,n,e)}function A0({to:i,replace:e,state:n,relative:o}){Dt(pu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=K.useContext(Rs);Qi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=K.useContext(es),{pathname:m}=As(),v=mu(),y=og(i,rg(h),m,o==="path"),w=JSON.stringify(y);return K.useEffect(()=>{v(JSON.parse(w),{replace:e,state:n,relative:o})},[v,w,o,e,n]),null}function Ux(i){return Ex(i.context)}function oi(i){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zx({basename:i="/",children:e=null,location:n,navigationType:o="POP",navigator:l,static:h=!1}){Dt(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),v=K.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof n=="string"&&(n=fu(n));let{pathname:y="/",search:w="",hash:C="",state:A=null,key:O="default"}=n,Z=K.useMemo(()=>{let F=Br(y,m);return F==null?null:{location:{pathname:F,search:w,hash:C,state:A,key:O},navigationType:o}},[m,y,w,C,A,O,o]);return Qi(Z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${w}${C}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:K.createElement(Rs.Provider,{value:v},K.createElement($c.Provider,{children:e,value:Z}))}function Bx({children:i,location:e}){return xx(Mm(i),e)}function Mm(i,e=[]){let n=[];return K.Children.forEach(i,(o,l)=>{if(!K.isValidElement(o))return;let h=[...e,l];if(o.type===K.Fragment){n.push.apply(n,Mm(o.props.children,h));return}Dt(o.type===oi,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Mm(o.props.children,h)),n.push(m)}),n}var Rf="get",Af="application/x-www-form-urlencoded";function ad(i){return i!=null&&typeof i.tagName=="string"}function Hx(i){return ad(i)&&i.tagName.toLowerCase()==="button"}function qx(i){return ad(i)&&i.tagName.toLowerCase()==="form"}function Vx(i){return ad(i)&&i.tagName.toLowerCase()==="input"}function Fx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Gx(i,e){return i.button===0&&(!e||e==="_self")&&!Fx(i)}function Dm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let o=i[n];return e.concat(Array.isArray(o)?o.map(l=>[n,l]):[[n,o]])},[]))}function Zx(i,e){let n=Dm(i);return e&&e.forEach((o,l)=>{n.has(l)||e.getAll(l).forEach(h=>{n.append(l,h)})}),n}var _f=null;function Wx(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var Yx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(i){return i!=null&&!Yx.has(i)?(Qi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):i}function Kx(i,e){let n,o,l,h,m;if(qx(i)){let v=i.getAttribute("action");o=v?Br(v,e):null,n=i.getAttribute("method")||Rf,l=um(i.getAttribute("enctype"))||Af,h=new FormData(i)}else if(Hx(i)||Vx(i)&&(i.type==="submit"||i.type==="image")){let v=i.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||v.getAttribute("action");if(o=y?Br(y,e):null,n=i.getAttribute("formmethod")||v.getAttribute("method")||Rf,l=um(i.getAttribute("formenctype"))||um(v.getAttribute("enctype"))||Af,h=new FormData(v,i),!Wx()){let{name:w,type:C,value:A}=i;if(C==="image"){let O=w?`${w}.`:"";h.append(`${O}x`,"0"),h.append(`${O}y`,"0")}else w&&h.append(w,A)}}else{if(ad(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,o=null,l=Af,m=i}return h&&l==="text/plain"&&(m=h,h=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xx(i,e,n){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${n}`:e&&Br(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function $x(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Jx(i,e,n){let o=await Promise.all(i.map(async l=>{let h=e.routes[l.route.id];if(h){let m=await $x(h,n);return m.links?m.links():[]}return[]}));return iC(o.flat(1).filter(Qx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function wb(i,e,n,o,l,h){let m=(y,w)=>n[w]?y.route.id!==n[w].route.id:!0,v=(y,w)=>n[w].pathname!==y.pathname||n[w].route.path?.endsWith("*")&&n[w].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,w)=>m(y,w)||v(y,w)):h==="data"?e.filter((y,w)=>{let C=o.routes[y.route.id];if(!C||!C.hasLoader)return!1;if(m(y,w)||v(y,w))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function eC(i,e,{includeHydrateFallback:n}={}){return tC(i.map(o=>{let l=e.routes[o.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function tC(i){return[...new Set(i)]}function nC(i){let e={},n=Object.keys(i).sort();for(let o of n)e[o]=i[o];return e}function iC(i,e){let n=new Set;return new Set(e),i.reduce((o,l)=>{let h=JSON.stringify(nC(l));return n.has(h)||(n.add(h),o.push({key:h,link:l})),o},[])}function N0(){let i=K.useContext(du);return cg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function sC(){let i=K.useContext(od);return cg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var hg=K.createContext(void 0);hg.displayName="FrameworkContext";function O0(){let i=K.useContext(hg);return cg(i,"You must render this element inside a <HydratedRouter> element"),i}function rC(i,e){let n=K.useContext(hg),[o,l]=K.useState(!1),[h,m]=K.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:w,onMouseLeave:C,onTouchStart:A}=e,O=K.useRef(null);K.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let te=J=>{J.forEach(G=>{m(G.isIntersecting)})},Q=new IntersectionObserver(te,{threshold:.5});return O.current&&Q.observe(O.current),()=>{Q.disconnect()}}},[i]),K.useEffect(()=>{if(o){let te=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(te)}}},[o]);let Z=()=>{l(!0)},F=()=>{l(!1),m(!1)};return n?i!=="intent"?[h,O,{}]:[h,O,{onFocus:fc(v,Z),onBlur:fc(y,F),onMouseEnter:fc(w,Z),onMouseLeave:fc(C,F),onTouchStart:fc(A,Z)}]:[!1,O,{}]}function fc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function oC({page:i,...e}){let{router:n}=N0(),o=K.useMemo(()=>y0(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?K.createElement(lC,{page:i,matches:o,...e}):null}function aC(i){let{manifest:e,routeModules:n}=O0(),[o,l]=K.useState([]);return K.useEffect(()=>{let h=!1;return Jx(i,e,n).then(m=>{h||l(m)}),()=>{h=!0}},[i,e,n]),o}function lC({page:i,matches:e,...n}){let o=As(),{manifest:l,routeModules:h}=O0(),{basename:m}=N0(),{loaderData:v,matches:y}=sC(),w=K.useMemo(()=>wb(i,e,y,l,o,"data"),[i,e,y,l,o]),C=K.useMemo(()=>wb(i,e,y,l,o,"assets"),[i,e,y,l,o]),A=K.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let F=new Set,te=!1;if(e.forEach(J=>{let G=l.routes[J.route.id];!G||!G.hasLoader||(!w.some(X=>X.route.id===J.route.id)&&J.route.id in v&&h[J.route.id]?.shouldRevalidate||G.hasClientLoader?te=!0:F.add(J.route.id))}),F.size===0)return[];let Q=Xx(i,m,"data");return te&&F.size>0&&Q.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[Q.pathname+Q.search]},[m,v,o,l,w,e,i,h]),O=K.useMemo(()=>eC(C,l),[C,l]),Z=aC(C);return K.createElement(K.Fragment,null,A.map(F=>K.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),O.map(F=>K.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),Z.map(({key:F,link:te})=>K.createElement("link",{key:F,...te})))}function uC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.7.0")}catch{}function cC({basename:i,children:e,window:n}){let o=K.useRef();o.current==null&&(o.current=W1({window:n,v5Compat:!0}));let l=o.current,[h,m]=K.useState({action:l.action,location:l.location}),v=K.useCallback(y=>{K.startTransition(()=>m(y))},[m]);return K.useLayoutEffect(()=>l.listen(v),[l,v]),K.createElement(zx,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:l})}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=K.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:w,preventScrollReset:C,viewTransition:A,...O},Z){let{basename:F}=K.useContext(Rs),te=typeof w=="string"&&P0.test(w),Q,J=!1;if(typeof w=="string"&&te&&(Q=w,I0))try{let P=new URL(window.location.href),z=w.startsWith("//")?new URL(P.protocol+w):new URL(w),j=Br(z.pathname,F);z.origin===P.origin&&j!=null?w=j+z.search+z.hash:J=!0}catch{Qi(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=bx(w,{relative:l}),[X,me,ae]=rC(o,O),$=dC(w,{replace:m,state:v,target:y,preventScrollReset:C,relative:l,viewTransition:A});function H(P){e&&e(P),P.defaultPrevented||$(P)}let R=K.createElement("a",{...O,...ae,href:Q||G,onClick:J||h?e:H,ref:uC(Z,me),target:y,"data-discover":!te&&n==="render"?"true":void 0});return X&&!te?K.createElement(K.Fragment,null,R,K.createElement(oC,{page:G})):R});Rn.displayName="Link";var Mr=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...w},C){let A=Qc(m,{relative:w.relative}),O=As(),Z=K.useContext(od),{navigator:F,basename:te}=K.useContext(Rs),Q=Z!=null&&yC(A)&&v===!0,J=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,G=O.pathname,X=Z&&Z.navigation&&Z.navigation.location?Z.navigation.location.pathname:null;n||(G=G.toLowerCase(),X=X?X.toLowerCase():null,J=J.toLowerCase()),X&&te&&(X=Br(X,te)||X);const me=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ae=G===J||!l&&G.startsWith(J)&&G.charAt(me)==="/",$=X!=null&&(X===J||!l&&X.startsWith(J)&&X.charAt(J.length)==="/"),H={isActive:ae,isPending:$,isTransitioning:Q},R=ae?e:void 0,P;typeof o=="function"?P=o(H):P=[o,ae?"active":null,$?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let z=typeof h=="function"?h(H):h;return K.createElement(Rn,{...w,"aria-current":R,className:P,ref:C,style:z,to:m,viewTransition:v},typeof y=="function"?y(H):y)});Mr.displayName="NavLink";var hC=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:l,state:h,method:m=Rf,action:v,onSubmit:y,relative:w,preventScrollReset:C,viewTransition:A,...O},Z)=>{let F=_C(),te=vC(v,{relative:w}),Q=m.toLowerCase()==="get"?"get":"post",J=typeof v=="string"&&P0.test(v),G=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let me=X.nativeEvent.submitter,ae=me?.getAttribute("formmethod")||m;F(me||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:l,state:h,relative:w,preventScrollReset:C,viewTransition:A})};return K.createElement("form",{ref:Z,method:Q,action:te,onSubmit:o?y:G,...O,"data-discover":!J&&i==="render"?"true":void 0})});hC.displayName="Form";function fC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(i){let e=K.useContext(du);return Dt(e,fC(i)),e}function dC(i,{target:e,replace:n,state:o,preventScrollReset:l,relative:h,viewTransition:m}={}){let v=mu(),y=As(),w=Qc(i,{relative:h});return K.useCallback(C=>{if(Gx(C,e)){C.preventDefault();let A=n!==void 0?n:jc(y)===jc(w);v(i,{replace:A,state:o,preventScrollReset:l,relative:h,viewTransition:m})}},[y,v,w,n,o,e,i,l,h,m])}function pC(i){Qi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=K.useRef(Dm(i)),n=K.useRef(!1),o=As(),l=K.useMemo(()=>Zx(o.search,n.current?null:e.current),[o.search]),h=mu(),m=K.useCallback((v,y)=>{const w=Dm(typeof v=="function"?v(new URLSearchParams(l)):v);n.current=!0,h("?"+w,y)},[h,l]);return[l,m]}var mC=0,gC=()=>`__${String(++mC)}__`;function _C(){let{router:i}=L0("useSubmit"),{basename:e}=K.useContext(Rs),n=Mx();return K.useCallback(async(o,l={})=>{let{action:h,method:m,encType:v,formData:y,body:w}=Kx(o,e);if(l.navigate===!1){let C=l.fetcherKey||gC();await i.fetch(C,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||v,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||v,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function vC(i,{relative:e}={}){let{basename:n}=K.useContext(Rs),o=K.useContext(es);Dt(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),h={...Qc(i||".",{relative:e})},m=As();if(i==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(C=>C==="")){v.delete("index"),y.filter(A=>A).forEach(A=>v.append("index",A));let C=v.toString();h.search=C?`?${C}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Ur([n,h.pathname])),jc(h)}function yC(i,e={}){let n=K.useContext(E0);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=L0("useViewTransitionState"),l=Qc(i,{relative:e.relative});if(!n.isTransitioning)return!1;let h=Br(n.currentLocation.pathname,o)||n.currentLocation.pathname,m=Br(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Df(l.pathname,m)!=null||Df(l.pathname,h)!=null}const M0=K.createContext(void 0),Jc=()=>{const i=K.useContext(M0);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},bC=({children:i})=>{const[e,n]=K.useState(null),[o,l]=K.useState(null),[h,m]=K.useState(!0);K.useEffect(()=>{(()=>{try{const J=localStorage.getItem("loggedUser");if(J){const X=JSON.parse(localStorage.getItem("users")||"[]").find(me=>me.email===J);if(X){const me={uid:X.uid||`uid_${Date.now()}`,email:X.email,emailVerified:X.emailVerified||!1,photoURL:X.photoURL};n(me),l({...X,uid:me.uid,emailVerified:me.emailVerified,createdAt:X.createdAt?new Date(X.createdAt):new Date,lastLogin:new Date})}}}catch(J){console.error("Error loading user:",J)}finally{m(!1)}})()},[]);const v=async Q=>{try{const J=JSON.parse(localStorage.getItem("users")||"[]");if(J.find(me=>me.email===Q.email))throw new Error("Ya existe una cuenta con este correo electrnico");const G={uid:`uid_${Date.now()}`,email:Q.email,password:Q.password,nombre:Q.nombre,apellidos:Q.apellidos,fechaNacimiento:Q.fechaNacimiento,genero:Q.genero,reportes:[],emailVerified:!1,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};J.push(G),localStorage.setItem("users",JSON.stringify(J)),localStorage.setItem("loggedUser",G.email);const X={uid:G.uid,email:G.email,emailVerified:G.emailVerified,photoURL:void 0};n(X),l({...G,createdAt:new Date(G.createdAt),lastLogin:new Date(G.lastLogin)}),console.log("Usuario registrado exitosamente (localStorage)")}catch(J){throw console.error("Error in registration:",J),J}},y=async(Q,J)=>{try{const G=JSON.parse(localStorage.getItem("users")||"[]"),X=G.find(ae=>ae.email===Q&&ae.password===J);if(!X)throw new Error("Credenciales invlidas. Verifica tu email y contrasea");X.lastLogin=new Date().toISOString(),localStorage.setItem("users",JSON.stringify(G)),localStorage.setItem("loggedUser",Q);const me={uid:X.uid,email:X.email,emailVerified:X.emailVerified,photoURL:X.photoURL};n(me),l({...X,createdAt:new Date(X.createdAt),lastLogin:new Date(X.lastLogin)}),console.log("Login exitoso (localStorage)")}catch(G){throw console.error("Error in login:",G),G}},w=async()=>{try{localStorage.removeItem("loggedUser"),n(null),l(null),console.log("Logout exitoso")}catch(Q){throw console.error("Error in logout:",Q),new Error("Error al cerrar sesin")}},C=async Q=>{try{if(!JSON.parse(localStorage.getItem("users")||"[]").find(X=>X.email===Q))throw new Error("No existe una cuenta con este correo electrnico");console.log("Se ha enviado un correo para resetear tu contrasea (simulado)")}catch(J){throw console.error("Error resetting password:",J),J}},A=async()=>{if(!e)throw new Error("No hay usuario autenticado");try{console.log("Simulando envo de email de verificacin a:",e.email),console.log("Email de verificacin enviado. Revisa tu bandeja de entrada.")}catch(Q){throw console.error("Error resending verification:",Q),new Error("Error al enviar email de verificacin")}},O=async()=>{if(!e)throw new Error("No hay usuario autenticado");try{const Q=JSON.parse(localStorage.getItem("users")||"[]"),J=Q.findIndex(G=>G.email===e.email);J!==-1&&(Q[J].emailVerified=!0,localStorage.setItem("users",JSON.stringify(Q)),n(G=>G?{...G,emailVerified:!0}:null),l(G=>G?{...G,emailVerified:!0}:null),console.log("Email verificado manualmente"))}catch(Q){throw console.error("Error al verificar email:",Q),new Error("Error al verificar email")}};K.useEffect(()=>(window.verifyEmail=O,()=>{delete window.verifyEmail}),[e]);const Z=async Q=>{if(!e)throw new Error("No hay usuario autenticado");try{const J=JSON.parse(localStorage.getItem("users")||"[]"),G=J.findIndex(X=>X.email===e.email);G!==-1&&(J[G]={...J[G],...Q},localStorage.setItem("users",JSON.stringify(J)),o&&l({...o,...Q})),console.log("Perfil actualizado exitosamente")}catch(J){throw console.error("Error updating profile:",J),new Error("Error al actualizar perfil")}},F=async Q=>{if(console.log(" addReportToUser llamada con reportId:",Q),console.log(" currentUser:",e),console.log(" userProfile:",o),!e||!o){console.log(" No hay currentUser o userProfile, abortando");return}try{const J=JSON.parse(localStorage.getItem("users")||"[]"),G=J.findIndex(X=>X.email===e.email);console.log(" userIndex encontrado:",G),G!==-1?(J[G].reportes||(J[G].reportes=[]),console.log(" reportes actuales del usuario:",J[G].reportes),J[G].reportes.includes(Q)?console.log(" Reporte ya existe en la lista del usuario"):(J[G].reportes.push(Q),localStorage.setItem("users",JSON.stringify(J)),l({...o,reportes:[...o.reportes||[],Q]}),console.log(" Reporte agregado al usuario:",Q),console.log(" nuevos reportes:",J[G].reportes))):console.log(" Usuario no encontrado en localStorage")}catch(J){console.error(" Error al agregar reporte al usuario:",J)}};K.useEffect(()=>{},[e,o]),K.useEffect(()=>(window.addReportToUser=F,()=>{delete window.addReportToUser}),[e,o]);const te={currentUser:e,userProfile:o,loading:h,login:y,register:v,logout:w,resetPassword:C,resendVerification:A,updateUserProfile:Z};return S.jsx(M0.Provider,{value:te,children:!h&&i})},wC=()=>{const[i,e]=K.useState(!1),n=K.useRef(null),{currentUser:o,userProfile:l,logout:h}=Jc();K.useEffect(()=>{const y=w=>{n.current&&!n.current.contains(w.target)&&e(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=y=>{const w=new Date,C=new Date(y);let A=w.getFullYear()-C.getFullYear();const O=w.getMonth()-C.getMonth();return(O<0||O===0&&w.getDate()<C.getDate())&&A--,A},v=async()=>{try{await h(),e(!1)}catch(y){console.error("Error al cerrar sesin:",y)}};return S.jsxs("div",{ref:n,className:"login-button-container",children:[S.jsx("button",{onClick:()=>e(y=>!y),className:"login-button",type:"button",children:o?S.jsx("div",{className:"user-avatar",children:l?.nombre?.charAt(0)||o.email?.charAt(0)||"?"}):"Iniciar sesin"}),i&&S.jsx("div",{className:"login-dropdown",children:o&&l?S.jsxs("div",{className:"user-menu",children:[S.jsxs("div",{className:"user-info",children:[S.jsxs("div",{className:"user-avatar large",children:[l.nombre.charAt(0),l.apellidos.charAt(0)]}),S.jsxs("div",{className:"user-details",children:[S.jsxs("h4",{children:[l.nombre," ",l.apellidos]}),S.jsx("p",{className:"email",children:l.email}),S.jsxs("p",{className:"age",children:[m(l.fechaNacimiento)," aos  ",l.genero]}),!o.emailVerified&&S.jsx("span",{className:"unverified",children:" Email no verificado"})]})]}),S.jsx("div",{className:"user-stats",children:S.jsxs("div",{className:"stat",children:[S.jsx("span",{className:"stat-number",children:l.reportes.length}),S.jsx("span",{className:"stat-label",children:"Reportes"})]})}),S.jsxs("div",{className:"menu-actions",children:[S.jsxs(Rn,{to:"/perfil",className:"menu-item",onClick:()=>e(!1),children:[S.jsx("span",{children:""}),"Ver Perfil"]}),S.jsxs(Rn,{to:"/reporte",className:"menu-item",onClick:()=>e(!1),children:[S.jsx("span",{children:""}),"Nuevo Reporte"]}),S.jsxs("button",{onClick:v,className:"menu-item logout",children:[S.jsx("span",{children:""}),"Cerrar Sesin"]})]})]}):S.jsxs("div",{className:"guest-menu",children:[S.jsxs("div",{className:"welcome-message",children:[S.jsx("h4",{children:"nete a Komuni!"}),S.jsx("p",{children:"Inicia sesin para reportar barreras y mejorar la accesibilidad"})]}),S.jsxs("div",{className:"auth-actions",children:[S.jsx(Rn,{to:"/login",className:"auth-button primary",onClick:()=>e(!1),children:"Iniciar Sesin"}),S.jsx(Rn,{to:"/registro",className:"auth-button secondary",onClick:()=>e(!1),children:"Registrarse"})]})]})})]})};function SC(){const[i,e]=K.useState(!1),[n,o]=K.useState(!1);K.useEffect(()=>{const h=()=>{e(window.scrollY>2)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const l=()=>{o(!n)};return K.useEffect(()=>{n?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[n]),S.jsx(S.Fragment,{children:S.jsx("div",{className:`header${i?" header--scrolled":""}`,style:{padding:1},children:S.jsxs("div",{className:"topbar",children:[S.jsx("h1",{className:"logo",children:S.jsxs(Rn,{to:"/",onClick:()=>o(!1),children:[" ",S.jsx("img",{className:"logo-komuni",src:"/icons/barrier-icon.png",alt:"Logo de KOMUNI, con una imagen de una chincheta de mapa con una silla de ruedas en azul."})]})}),S.jsxs("button",{className:"hamburger-menu",onClick:l,"aria-label":"Toggle navigation menu",children:[S.jsx("div",{className:`bar ${n?"open":""}`}),S.jsx("div",{className:`bar ${n?"open":""}`}),S.jsx("div",{className:`bar ${n?"open":""}`})]}),S.jsx("nav",{className:`navi ${n?"navi--open":""}`,children:S.jsxs("ul",{className:`menu ${n?"menu--open":""}`,children:[" ",S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/",end:!0,className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Komuni"})}),S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/mapa",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Mapa de accesibilidad"})})," ",S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/blog",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Blog"})}),S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/about",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Sobre nosotros"})}),S.jsx("li",{className:"menu_item",children:S.jsx(wC,{})})]})})]})})})}function EC(){const i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return S.jsx("footer",{className:"footer",children:S.jsxs("div",{className:"footer_content",children:[S.jsxs("div",{className:"footer_section footer_links",children:[S.jsx("h4",{children:"Explora"}),S.jsxs("ul",{className:"menu",children:[S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/privacidad",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Poltica de privacidad"})}),S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/about",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Sobre KOMUNI"})}),S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/contacto",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Contacto"})}),S.jsx("li",{className:"menu_item",children:S.jsx(Mr,{to:"/faq",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Preguntas Frecuentes"})})]})]}),S.jsxs("div",{className:"footer_section footer_contact",children:[S.jsx("h4",{children:"Contacto"}),S.jsxs("ul",{className:"contact_list",children:[" ",S.jsx("li",{children:"Email: info@komuni.com"})," ",S.jsx("li",{children:"Telfono: +34 123 456 789"})," ",S.jsx("li",{children:"Direccin: Calle Falsa 123, Ciudad, Pas"})," "]})]}),S.jsxs("div",{className:"footer_section footer_bottom_area",children:[S.jsx("p",{className:"copyright",children:S.jsxs("small",{children:[" ",new Date().getFullYear()," Komuni. Plataforma colaborativa de accesibilidad."]})}),S.jsx("button",{onClick:i,className:"scroll_to_top_button","aria-label":"Volver arriba de la pgina",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:S.jsx("path",{fillRule:"evenodd",d:"M8 12a.5.5 0 0 0 .5-.5V3.707l3.146 3.147a.5.5 0 0 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 .708.708L7.5 3.707V11.5a.5.5 0 0 0 .5.5z"})})})]})]})})}const TC=()=>{const[i,e]=K.useState(!1),n=K.useRef(null),o=()=>{e(m=>!m)},l=()=>{document.body.classList.toggle("large-text")},h=()=>{document.body.classList.toggle("high-contrast")};return K.useEffect(()=>{const m=v=>{n.current&&!n.current.contains(v.target)&&e(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),S.jsxs("div",{className:"accessibility-container",ref:n,children:[S.jsx("button",{id:"accessibility-button",className:"accessibility-button","aria-label":"Men de accesibilidad",onClick:o,children:S.jsx("span",{children:S.jsx("img",{src:"/icons/accesibilidad.png",className:"acceso-icon",alt:"Botn de opciones de accesibilidad"})})}),S.jsxs("div",{id:"accessibility-menu",className:`accessibility-menu ${i?"open":""}`,children:[S.jsx("button",{id:"increase-text",className:"acceso-option",onClick:l,children:"Aumentar texto"}),S.jsx("button",{id:"high-contrast",className:"acceso-option",onClick:h,children:"Alto contraste"})]})]})};function xC(){const{pathname:i}=As();return K.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),null}const CC=()=>S.jsxs(S.Fragment,{children:[S.jsx(xC,{}),S.jsx(SC,{}),S.jsx(Ux,{}),S.jsx(EC,{}),S.jsx(TC,{})]});var cm={},dc={},vf={},yf={},hm={exports:{}},fm,Sb;function RC(){if(Sb)return fm;Sb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fm=i,fm}var dm,Eb;function AC(){if(Eb)return dm;Eb=1;var i=RC();function e(){}function n(){}return n.resetWarningCache=e,dm=function(){function o(m,v,y,w,C,A){if(A!==i){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}o.isRequired=o;function l(){return o}var h={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return h.PropTypes=h,h},dm}var Tb;function NC(){return Tb||(Tb=1,hm.exports=AC()()),hm.exports}var xb;function OC(){return xb||(xb=1,function(i){(function(e,n){n(i,oa(),NC())})(yf,function(e,n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=F;var l=m(n),h=m(o);function m(G){return G&&G.__esModule?G:{default:G}}var v=Object.assign||function(G){for(var X=1;X<arguments.length;X++){var me=arguments[X];for(var ae in me)Object.prototype.hasOwnProperty.call(me,ae)&&(G[ae]=me[ae])}return G};function y(G,X){var me={};for(var ae in G)X.indexOf(ae)>=0||Object.prototype.hasOwnProperty.call(G,ae)&&(me[ae]=G[ae]);return me}function w(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}var C=function(){function G(X,me){for(var ae=0;ae<me.length;ae++){var $=me[ae];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(X,$.key,$)}}return function(X,me,ae){return me&&G(X.prototype,me),ae&&G(X,ae),X}}();function A(G,X){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:G}function O(G,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(G,X):G.__proto__=X)}var Z=!1;function F(G){Z=G}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){F(!0)}}))}catch{}function te(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return Z?G:G.capture}function Q(G){if("touches"in G){var X=G.touches[0],me=X.pageX,ae=X.pageY;return{x:me,y:ae}}var $=G.screenX,H=G.screenY;return{x:$,y:H}}var J=function(G){O(X,G);function X(){var me;w(this,X);for(var ae=arguments.length,$=Array(ae),H=0;H<ae;H++)$[H]=arguments[H];var R=A(this,(me=X.__proto__||Object.getPrototypeOf(X)).call.apply(me,[this].concat($)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return C(X,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,te({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,te({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(ae){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(ae))}},{key:"_onMouseMove",value:function(ae){this.mouseDown&&this._handleSwipeMove(ae)}},{key:"_onMouseUp",value:function(ae){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(ae)}},{key:"_handleSwipeStart",value:function(ae){var $=Q(ae),H=$.x,R=$.y;this.moveStart={x:H,y:R},this.props.onSwipeStart(ae)}},{key:"_handleSwipeMove",value:function(ae){if(this.moveStart){var $=Q(ae),H=$.x,R=$.y,P=H-this.moveStart.x,z=R-this.moveStart.y;this.moving=!0;var j=this.props.onSwipeMove({x:P,y:z},ae);j&&ae.cancelable&&ae.preventDefault(),this.movePosition={deltaX:P,deltaY:z}}}},{key:"_handleSwipeEnd",value:function(ae){this.props.onSwipeEnd(ae);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,ae):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,ae),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,ae):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,ae)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(ae){this.swiper=ae,this.props.innerRef(ae)}},{key:"render",value:function(){var ae=this.props;ae.tagName;var $=ae.className,H=ae.style,R=ae.children;ae.allowMouseEvents,ae.onSwipeUp,ae.onSwipeDown,ae.onSwipeLeft,ae.onSwipeRight,ae.onSwipeStart,ae.onSwipeMove,ae.onSwipeEnd,ae.innerRef,ae.tolerance;var P=y(ae,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return l.default.createElement(this.props.tagName,v({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:H},P),R)}}]),X}(n.Component);J.displayName="ReactSwipe",J.propTypes={tagName:h.default.string,className:h.default.string,style:h.default.object,children:h.default.node,allowMouseEvents:h.default.bool,onSwipeUp:h.default.func,onSwipeDown:h.default.func,onSwipeLeft:h.default.func,onSwipeRight:h.default.func,onSwipeStart:h.default.func,onSwipeMove:h.default.func,onSwipeEnd:h.default.func,innerRef:h.default.func,tolerance:h.default.number.isRequired},J.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=J})}(yf)),yf}var Cb;function D0(){return Cb||(Cb=1,function(i){(function(e,n){n(i,OC())})(vf,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var o=l(n);function l(h){return h&&h.__esModule?h:{default:h}}e.default=o.default})}(vf)),vf}var pc={},pm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Rb;function IC(){return Rb||(Rb=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var h="",m=0;m<arguments.length;m++){var v=arguments[m];v&&(h=l(h,o(v)))}return h}function o(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return n.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var m="";for(var v in h)e.call(h,v)&&h[v]&&(m=l(m,v));return m}function l(h,m){return m?h?h+" "+m:h+m:h}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(pm)),pm.exports}var Ab;function k0(){if(Ab)return pc;Ab=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=void 0;var i=e(IC());function e(l){return l&&l.__esModule?l:{default:l}}function n(l,h,m){return h in l?Object.defineProperty(l,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):l[h]=m,l}var o={ROOT:function(h){return(0,i.default)(n({"carousel-root":!0},h||"",!!h))},CAROUSEL:function(h){return(0,i.default)({carousel:!0,"carousel-slider":h})},WRAPPER:function(h,m){return(0,i.default)({"thumbs-wrapper":!h,"slider-wrapper":h,"axis-horizontal":m==="horizontal","axis-vertical":m!=="horizontal"})},SLIDER:function(h,m){return(0,i.default)({thumbs:!h,slider:h,animated:!m})},ITEM:function(h,m,v){return(0,i.default)({thumb:!h,slide:h,selected:m,previous:v})},ARROW_PREV:function(h){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":h})},ARROW_NEXT:function(h){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":h})},DOT:function(h){return(0,i.default)({dot:!0,selected:h})}};return pc.default=o,pc}var mc={},gc={},Nb;function PC(){if(Nb)return gc;Nb=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.outerWidth=void 0;var i=function(n){var o=n.offsetWidth,l=getComputedStyle(n);return o+=parseInt(l.marginLeft)+parseInt(l.marginRight),o};return gc.outerWidth=i,gc}var _c={},Ob;function fg(){if(Ob)return _c;Ob=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.default=void 0;var i=function(n,o,l){var h=n===0?n:n+o,m=l==="horizontal"?[h,0,0]:[0,h,0],v="translate3d",y="("+m.join(",")+")";return v+y};return _c.default=i,_c}var vc={},Ib;function j0(){if(Ib)return vc;Ib=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=void 0;var i=function(){return window};return vc.default=i,vc}var Pb;function U0(){if(Pb)return mc;Pb=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=void 0;var i=y(oa()),e=m(k0()),n=PC(),o=m(fg()),l=m(D0()),h=m(j0());function m(R){return R&&R.__esModule?R:{default:R}}function v(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return v=function(){return R},R}function y(R){if(R&&R.__esModule)return R;if(R===null||w(R)!=="object"&&typeof R!="function")return{default:R};var P=v();if(P&&P.has(R))return P.get(R);var z={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in R)if(Object.prototype.hasOwnProperty.call(R,I)){var D=j?Object.getOwnPropertyDescriptor(R,I):null;D&&(D.get||D.set)?Object.defineProperty(z,I,D):z[I]=R[I]}return z.default=R,P&&P.set(R,z),z}function w(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(z){return typeof z}:w=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},w(R)}function C(){return C=Object.assign||function(R){for(var P=1;P<arguments.length;P++){var z=arguments[P];for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(R[j]=z[j])}return R},C.apply(this,arguments)}function A(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function O(R,P){for(var z=0;z<P.length;z++){var j=P[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}function Z(R,P,z){return P&&O(R.prototype,P),R}function F(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),P&&te(R,P)}function te(R,P){return te=Object.setPrototypeOf||function(j,I){return j.__proto__=I,j},te(R,P)}function Q(R){var P=X();return function(){var j=me(R),I;if(P){var D=me(this).constructor;I=Reflect.construct(j,arguments,D)}else I=j.apply(this,arguments);return J(this,I)}}function J(R,P){return P&&(w(P)==="object"||typeof P=="function")?P:G(R)}function G(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function me(R){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},me(R)}function ae(R,P,z){return P in R?Object.defineProperty(R,P,{value:z,enumerable:!0,configurable:!0,writable:!0}):R[P]=z,R}var $=function(P){return P.hasOwnProperty("key")},H=function(R){F(z,R);var P=Q(z);function z(j){var I;return A(this,z),I=P.call(this,j),ae(G(I),"itemsWrapperRef",void 0),ae(G(I),"itemsListRef",void 0),ae(G(I),"thumbsRef",void 0),ae(G(I),"setItemsWrapperRef",function(D){I.itemsWrapperRef=D}),ae(G(I),"setItemsListRef",function(D){I.itemsListRef=D}),ae(G(I),"setThumbsRef",function(D,ce){I.thumbsRef||(I.thumbsRef=[]),I.thumbsRef[ce]=D}),ae(G(I),"updateSizes",function(){if(!(!I.props.children||!I.itemsWrapperRef||!I.thumbsRef)){var D=i.Children.count(I.props.children),ce=I.itemsWrapperRef.clientWidth,B=I.props.thumbWidth?I.props.thumbWidth:(0,n.outerWidth)(I.thumbsRef[0]),W=Math.floor(ce/B),se=W<D,re=se?D-W:0;I.setState(function(Ce,U){return{itemSize:B,visibleItems:W,firstItem:se?I.getFirstItem(U.selectedItem):0,lastPosition:re,showArrows:se}})}}),ae(G(I),"handleClickItem",function(D,ce,B){if(!$(B)||B.key==="Enter"){var W=I.props.onSelectItem;typeof W=="function"&&W(D,ce)}}),ae(G(I),"onSwipeStart",function(){I.setState({swiping:!0})}),ae(G(I),"onSwipeEnd",function(){I.setState({swiping:!1})}),ae(G(I),"onSwipeMove",function(D){var ce=D.x;if(!I.state.itemSize||!I.itemsWrapperRef||!I.state.visibleItems)return!1;var B=0,W=i.Children.count(I.props.children),se=-(I.state.firstItem*100)/I.state.visibleItems,re=Math.max(W-I.state.visibleItems,0),Ce=-re*100/I.state.visibleItems;se===B&&ce>0&&(ce=0),se===Ce&&ce<0&&(ce=0);var U=I.itemsWrapperRef.clientWidth,ue=se+100/(U/ce);return I.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){I.itemsListRef.style[be]=(0,o.default)(ue,"%",I.props.axis)}),!0}),ae(G(I),"slideRight",function(D){I.moveTo(I.state.firstItem-(typeof D=="number"?D:1))}),ae(G(I),"slideLeft",function(D){I.moveTo(I.state.firstItem+(typeof D=="number"?D:1))}),ae(G(I),"moveTo",function(D){D=D<0?0:D,D=D>=I.state.lastPosition?I.state.lastPosition:D,I.setState({firstItem:D})}),I.state={selectedItem:j.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},I}return Z(z,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(I){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==I.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,h.default)().addEventListener("resize",this.updateSizes),(0,h.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,h.default)().removeEventListener("resize",this.updateSizes),(0,h.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(I){var D=I;return I>=this.state.lastPosition&&(D=this.state.lastPosition),I<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),I<this.state.firstItem&&(D=I),D}},{key:"renderItems",value:function(){var I=this;return this.props.children.map(function(D,ce){var B=e.default.ITEM(!1,ce===I.state.selectedItem),W={key:ce,ref:function(re){return I.setThumbsRef(re,ce)},className:B,onClick:I.handleClickItem.bind(I,ce,I.props.children[ce]),onKeyDown:I.handleClickItem.bind(I,ce,I.props.children[ce]),"aria-label":"".concat(I.props.labels.item," ").concat(ce+1),style:{width:I.props.thumbWidth}};return i.default.createElement("li",C({},W,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var I=this;if(!this.props.children)return null;var D=i.Children.count(this.props.children)>1,ce=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,W={},se=-this.state.firstItem*(this.state.itemSize||0),re=(0,o.default)(se,"px",this.props.axis),Ce=this.props.transitionTime+"ms";return W={WebkitTransform:re,MozTransform:re,MsTransform:re,OTransform:re,transform:re,msTransform:re,WebkitTransitionDuration:Ce,MozTransitionDuration:Ce,MsTransitionDuration:Ce,OTransitionDuration:Ce,transitionDuration:Ce,msTransitionDuration:Ce},i.default.createElement("div",{className:e.default.CAROUSEL(!1)},i.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},i.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ce),onClick:function(){return I.slideRight()},"aria-label":this.props.labels.leftArrow}),D?i.default.createElement(l.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:W,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):i.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ue){return I.setItemsListRef(ue)},style:W},this.renderItems()),i.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return I.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),z}(i.Component);return mc.default=H,ae(H,"displayName","Thumbs"),ae(H,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),mc}var yc={},Lb;function LC(){if(Lb)return yc;Lb=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=void 0;var i=function(){return document};return yc.default=i,yc}var Ni={},Mb;function z0(){if(Mb)return Ni;Mb=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.setPosition=Ni.getPosition=Ni.isKeyboardEvent=Ni.defaultStatusFormatter=Ni.noop=void 0;var i=oa(),e=n(fg());function n(y){return y&&y.__esModule?y:{default:y}}var o=function(){};Ni.noop=o;var l=function(w,C){return"".concat(w," of ").concat(C)};Ni.defaultStatusFormatter=l;var h=function(w){return w?w.hasOwnProperty("key"):!1};Ni.isKeyboardEvent=h;var m=function(w,C){if(C.infiniteLoop&&++w,w===0)return 0;var A=i.Children.count(C.children);if(C.centerMode&&C.axis==="horizontal"){var O=-w*C.centerSlidePercentage,Z=A-1;return w&&(w!==Z||C.infiniteLoop)?O+=(100-C.centerSlidePercentage)/2:w===Z&&(O+=100-C.centerSlidePercentage),O}return-w*100};Ni.getPosition=m;var v=function(w,C){var A={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(O){A[O]=(0,e.default)(w,"%",C)}),A};return Ni.setPosition=v,Ni}var bs={},Db;function MC(){if(Db)return bs;Db=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.fadeAnimationHandler=bs.slideStopSwipingHandler=bs.slideSwipeAnimationHandler=bs.slideAnimationHandler=void 0;var i=oa(),e=o(fg()),n=z0();function o(A){return A&&A.__esModule?A:{default:A}}function l(A,O){var Z=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);O&&(F=F.filter(function(te){return Object.getOwnPropertyDescriptor(A,te).enumerable})),Z.push.apply(Z,F)}return Z}function h(A){for(var O=1;O<arguments.length;O++){var Z=arguments[O]!=null?arguments[O]:{};O%2?l(Object(Z),!0).forEach(function(F){m(A,F,Z[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(Z)):l(Object(Z)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(Z,F))})}return A}function m(A,O,Z){return O in A?Object.defineProperty(A,O,{value:Z,enumerable:!0,configurable:!0,writable:!0}):A[O]=Z,A}var v=function(O,Z){var F={},te=Z.selectedItem,Q=te,J=i.Children.count(O.children)-1,G=O.infiniteLoop&&(te<0||te>J);if(G)return Q<0?O.centerMode&&O.centerSlidePercentage&&O.axis==="horizontal"?F.itemListStyle=(0,n.setPosition)(-(J+2)*O.centerSlidePercentage-(100-O.centerSlidePercentage)/2,O.axis):F.itemListStyle=(0,n.setPosition)(-(J+2)*100,O.axis):Q>J&&(F.itemListStyle=(0,n.setPosition)(0,O.axis)),F;var X=(0,n.getPosition)(te,O),me=(0,e.default)(X,"%",O.axis),ae=O.transitionTime+"ms";return F.itemListStyle={WebkitTransform:me,msTransform:me,OTransform:me,transform:me},Z.swiping||(F.itemListStyle=h(h({},F.itemListStyle),{},{WebkitTransitionDuration:ae,MozTransitionDuration:ae,OTransitionDuration:ae,transitionDuration:ae,msTransitionDuration:ae})),F};bs.slideAnimationHandler=v;var y=function(O,Z,F,te){var Q={},J=Z.axis==="horizontal",G=i.Children.count(Z.children),X=0,me=(0,n.getPosition)(F.selectedItem,Z),ae=Z.infiniteLoop?(0,n.getPosition)(G-1,Z)-100:(0,n.getPosition)(G-1,Z),$=J?O.x:O.y,H=$;me===X&&$>0&&(H=0),me===ae&&$<0&&(H=0);var R=me+100/(F.itemSize/H),P=Math.abs($)>Z.swipeScrollTolerance;return Z.infiniteLoop&&P&&(F.selectedItem===0&&R>-100?R-=G*100:F.selectedItem===G-1&&R<-G*100&&(R+=G*100)),(!Z.preventMovementUntilSwipeScrollTolerance||P||F.swipeMovementStarted)&&(F.swipeMovementStarted||te({swipeMovementStarted:!0}),Q.itemListStyle=(0,n.setPosition)(R,Z.axis)),P&&!F.cancelClick&&te({cancelClick:!0}),Q};bs.slideSwipeAnimationHandler=y;var w=function(O,Z){var F=(0,n.getPosition)(Z.selectedItem,O),te=(0,n.setPosition)(F,O.axis);return{itemListStyle:te}};bs.slideStopSwipingHandler=w;var C=function(O,Z){var F=O.transitionTime+"ms",te="ease-in-out",Q={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:te,msTransitionTimingFunction:te,MozTransitionTimingFunction:te,WebkitTransitionTimingFunction:te,OTransitionTimingFunction:te};return Z.swiping||(Q=h(h({},Q),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),{slideStyle:Q,selectedStyle:h(h({},Q),{},{opacity:1,position:"relative"}),prevStyle:h({},Q)}};return bs.fadeAnimationHandler=C,bs}var kb;function DC(){if(kb)return dc;kb=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.default=void 0;var i=C(oa()),e=y(D0()),n=y(k0()),o=y(U0()),l=y(LC()),h=y(j0()),m=z0(),v=MC();function y(j){return j&&j.__esModule?j:{default:j}}function w(){if(typeof WeakMap!="function")return null;var j=new WeakMap;return w=function(){return j},j}function C(j){if(j&&j.__esModule)return j;if(j===null||A(j)!=="object"&&typeof j!="function")return{default:j};var I=w();if(I&&I.has(j))return I.get(j);var D={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in j)if(Object.prototype.hasOwnProperty.call(j,B)){var W=ce?Object.getOwnPropertyDescriptor(j,B):null;W&&(W.get||W.set)?Object.defineProperty(D,B,W):D[B]=j[B]}return D.default=j,I&&I.set(j,D),D}function A(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(D){return typeof D}:A=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},A(j)}function O(){return O=Object.assign||function(j){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var ce in D)Object.prototype.hasOwnProperty.call(D,ce)&&(j[ce]=D[ce])}return j},O.apply(this,arguments)}function Z(j,I){var D=Object.keys(j);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(j);I&&(ce=ce.filter(function(B){return Object.getOwnPropertyDescriptor(j,B).enumerable})),D.push.apply(D,ce)}return D}function F(j){for(var I=1;I<arguments.length;I++){var D=arguments[I]!=null?arguments[I]:{};I%2?Z(Object(D),!0).forEach(function(ce){P(j,ce,D[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(D)):Z(Object(D)).forEach(function(ce){Object.defineProperty(j,ce,Object.getOwnPropertyDescriptor(D,ce))})}return j}function te(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}function Q(j,I){for(var D=0;D<I.length;D++){var ce=I[D];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(j,ce.key,ce)}}function J(j,I,D){return I&&Q(j.prototype,I),j}function G(j,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(I&&I.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),I&&X(j,I)}function X(j,I){return X=Object.setPrototypeOf||function(ce,B){return ce.__proto__=B,ce},X(j,I)}function me(j){var I=H();return function(){var ce=R(j),B;if(I){var W=R(this).constructor;B=Reflect.construct(ce,arguments,W)}else B=ce.apply(this,arguments);return ae(this,B)}}function ae(j,I){return I&&(A(I)==="object"||typeof I=="function")?I:$(j)}function $(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(j){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(j)}function P(j,I,D){return I in j?Object.defineProperty(j,I,{value:D,enumerable:!0,configurable:!0,writable:!0}):j[I]=D,j}var z=function(j){G(D,j);var I=me(D);function D(ce){var B;te(this,D),B=I.call(this,ce),P($(B),"thumbsRef",void 0),P($(B),"carouselWrapperRef",void 0),P($(B),"listRef",void 0),P($(B),"itemsRef",void 0),P($(B),"timer",void 0),P($(B),"animationHandler",void 0),P($(B),"setThumbsRef",function(se){B.thumbsRef=se}),P($(B),"setCarouselWrapperRef",function(se){B.carouselWrapperRef=se}),P($(B),"setListRef",function(se){B.listRef=se}),P($(B),"setItemsRef",function(se,re){B.itemsRef||(B.itemsRef=[]),B.itemsRef[re]=se}),P($(B),"autoPlay",function(){i.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),P($(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),P($(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),P($(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),P($(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),P($(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,l.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,l.default)().activeElement)):!1}),P($(B),"navigateWithKeyboard",function(se){if(B.isFocusWithinTheCarousel()){var re=B.props.axis,Ce=re==="horizontal",U={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ue=Ce?U.ArrowRight:U.ArrowDown,be=Ce?U.ArrowLeft:U.ArrowUp;ue===se.keyCode?B.increment():be===se.keyCode&&B.decrement()}}),P($(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var se=B.props.axis==="horizontal",re=B.itemsRef[0];if(re){var Ce=se?re.clientWidth:re.clientHeight;B.setState({itemSize:Ce}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),P($(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),P($(B),"handleClickItem",function(se,re){if(i.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(se,re),se!==B.state.selectedItem&&B.setState({selectedItem:se})}}),P($(B),"handleOnChange",function(se,re){i.Children.count(B.props.children)<=1||B.props.onChange(se,re)}),P($(B),"handleClickThumb",function(se,re){B.props.onClickThumb(se,re),B.moveTo(se)}),P($(B),"onSwipeStart",function(se){B.setState({swiping:!0}),B.props.onSwipeStart(se)}),P($(B),"onSwipeEnd",function(se){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(se),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),P($(B),"onSwipeMove",function(se,re){B.props.onSwipeMove(re);var Ce=B.props.swipeAnimationHandler(se,B.props,B.state,B.setState.bind($(B)));return B.setState(F({},Ce)),!!Object.keys(Ce).length}),P($(B),"decrement",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof se=="number"?se:1))}),P($(B),"increment",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof se=="number"?se:1))}),P($(B),"moveTo",function(se){if(typeof se=="number"){var re=i.Children.count(B.props.children)-1;se<0&&(se=B.props.infiniteLoop?re:0),se>re&&(se=B.props.infiniteLoop?0:re),B.selectItem({selectedItem:se}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),P($(B),"onClickNext",function(){B.increment(1)}),P($(B),"onClickPrev",function(){B.decrement(1)}),P($(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P($(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P($(B),"changeItem",function(se){return function(re){(!(0,m.isKeyboardEvent)(re)||re.key==="Enter")&&B.moveTo(se)}}),P($(B),"selectItem",function(se){B.setState(F({previousItem:B.state.selectedItem},se),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(se.selectedItem,i.Children.toArray(B.props.children)[se.selectedItem])}),P($(B),"getInitialImage",function(){var se=B.props.selectedItem,re=B.itemsRef&&B.itemsRef[se],Ce=re&&re.getElementsByTagName("img")||[];return Ce[0]}),P($(B),"getVariableItemHeight",function(se){var re=B.itemsRef&&B.itemsRef[se];if(B.state.hasMount&&re&&re.children.length){var Ce=re.children[0].getElementsByTagName("img")||[];if(Ce.length>0){var U=Ce[0];if(!U.complete){var ue=function Te(){B.forceUpdate(),U.removeEventListener("load",Te)};U.addEventListener("load",ue)}}var be=Ce[0]||re.children[0],ye=be.clientHeight;return ye>0?ye:null}return null});var W={initialized:!1,previousItem:ce.selectedItem,selectedItem:ce.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ce.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof ce.animationHandler=="function"&&ce.animationHandler||ce.animationHandler==="fade"&&v.fadeAnimationHandler||v.slideAnimationHandler,B.state=F(F({},W),B.animationHandler(ce,W)),B}return J(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,W){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),W.swiping&&!this.state.swiping&&this.setState(F({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&i.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var W=B.getInitialImage();W&&!W.complete?W.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,h.default)().addEventListener("resize",this.updateSizes),(0,h.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,l.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,h.default)().removeEventListener("resize",this.updateSizes),(0,h.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,l.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var W=this;return this.props.children?i.Children.map(this.props.children,function(se,re){var Ce=re===W.state.selectedItem,U=re===W.state.previousItem,ue=Ce&&W.state.selectedStyle||U&&W.state.prevStyle||W.state.slideStyle||{};W.props.centerMode&&W.props.axis==="horizontal"&&(ue=F(F({},ue),{},{minWidth:W.props.centerSlidePercentage+"%"})),W.state.swiping&&W.state.swipeMovementStarted&&(ue=F(F({},ue),{},{pointerEvents:"none"}));var be={ref:function(Te){return W.setItemsRef(Te,re)},key:"itemKey"+re+(B?"clone":""),className:n.default.ITEM(!0,re===W.state.selectedItem,re===W.state.previousItem),onClick:W.handleClickItem.bind(W,re,se),style:ue};return i.default.createElement("li",be,W.props.renderItem(se,{isSelected:re===W.state.selectedItem,isPrevious:re===W.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,W=this.props,se=W.showIndicators,re=W.labels,Ce=W.renderIndicator,U=W.children;return se?i.default.createElement("ul",{className:"control-dots"},i.Children.map(U,function(ue,be){return Ce&&Ce(B.changeItem(be),be===B.state.selectedItem,be,re.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?i.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,i.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||i.Children.count(this.props.children)===0?null:i.default.createElement(o.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||i.Children.count(this.props.children)===0)return null;var W=this.props.swipeable&&i.Children.count(this.props.children)>1,se=this.props.axis==="horizontal",re=this.props.showArrows&&i.Children.count(this.props.children)>1,Ce=re&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,U=re&&(this.state.selectedItem<i.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ue=this.renderItems(!0),be=ue.shift(),ye=ue.pop(),Te={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ae={};if(se){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);Ae.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=F(F({},Te.style),{},{height:this.state.itemSize}),Ae.height=this.state.itemSize;return i.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},i.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Ce,this.props.labels.leftArrow),i.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Ae},W?i.default.createElement(e.default,O({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&be):i.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Ke){return B.setListRef(Ke)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,U,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(i.default.Component);return dc.default=z,P(z,"displayName","Carousel"),P(z,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:m.noop,onClickThumb:m.noop,onChange:m.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(I,D,ce){return i.default.createElement("button",{type:"button","aria-label":ce,className:n.default.ARROW_PREV(!D),onClick:I})},renderArrowNext:function(I,D,ce){return i.default.createElement("button",{type:"button","aria-label":ce,className:n.default.ARROW_NEXT(!D),onClick:I})},renderIndicator:function(I,D,ce,B){return i.default.createElement("li",{className:n.default.DOT(D),onClick:I,onKeyDown:I,value:ce,key:ce,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(ce+1)})},renderItem:function(I){return I},renderThumbs:function(I){var D=i.Children.map(I,function(ce){var B=ce;if(ce.type!=="img"&&(B=i.Children.toArray(ce.props.children).find(function(W){return W.type==="img"})),!!B)return B});return D.filter(function(ce){return ce}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:m.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:v.slideSwipeAnimationHandler,stopSwipingHandler:v.slideStopSwipingHandler}),dc}var jb={},Ub;function kC(){return Ub||(Ub=1),jb}var zb;function jC(){return zb||(zb=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(i,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(i,"Thumbs",{enumerable:!0,get:function(){return o.default}});var e=l(DC()),n=kC(),o=l(U0());function l(h){return h&&h.__esModule?h:{default:h}}}(cm)),cm}var UC=jC();const zC=()=>S.jsxs("section",{className:"textalign",children:[S.jsx("h1",{children:"Bienvenido a Komuni"}),S.jsx("p",{style:{fontSize:"1.2rem",color:"#20706e",marginBottom:32},children:"Plataforma global para reportar barreras urbanas, mejorar la accesibilidad y construir una comunidad ms inclusiva."}),S.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"2rem",marginBottom:"2.5rem",justifyContent:"center"},children:[S.jsxs("div",{className:"card",style:{minWidth:260,flex:"1 1 48%"},children:[S.jsx("h2",{style:{marginTop:0},children:" Mapa interactivo"}),S.jsx("p",{children:"Visualiza y reporta barreras urbanas en tiempo real. Ayuda a mejorar la accesibilidad de tu ciudad y otras ciudades del mundo."}),S.jsx("img",{src:"/images/captura-mapa.png ",alt:"",className:"img-card"}),S.jsx(Rn,{to:"/mapa",children:S.jsx("button",{style:{marginTop:12,width:"100%"},children:"Ir al mapa"})})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",flex:"1 1 48%"},children:[S.jsxs("div",{className:"card",style:{minWidth:260,flex:1},children:[S.jsx("h2",{style:{marginTop:0},children:" Blog Komuni"}),S.jsx("p",{children:"Sigue la actualidad de nuestra comunidad y lee sobre temas relacionados con la accesibilidad en el rea de Tarragona."}),S.jsx(Rn,{to:"/blog",children:S.jsx("button",{style:{marginTop:12,width:"100%"},children:"Lee nuestro blog"})})]})," ",S.jsxs("div",{className:"card",style:{minWidth:260,flex:1},children:[S.jsx("h2",{style:{marginTop:0},children:"Queremos tu opinin!"}),S.jsx("p",{children:"Estamos a disposicin de la comunidad para seguir mejorando da a da."}),S.jsx(Rn,{to:"/contacto",children:S.jsx("button",{style:{marginTop:12,width:"100%"},children:"Contacta con Komuni"})})]})]})]}),S.jsxs(UC.Carousel,{showArrows:!0,infiniteLoop:!0,autoPlay:!0,interval:5e3,showThumbs:!1,children:[S.jsxs("div",{children:[S.jsx("img",{src:"/images/baix-mise.jpg",alt:"Accesibilidad urbana",className:"imgcarousel"}),S.jsx("p",{className:"legend",children:"Construyamos una comunidad ms inclusiva"})]}),S.jsxs("div",{children:[S.jsx("img",{src:"/images/escalestgn.jpg",alt:"Comunidad inclusiva",className:"imgcarousel"}),S.jsx("p",{className:"legend",children:"Reporta barreras y haz la diferencia"})]}),S.jsxs("div",{children:[S.jsx("img",{src:"/images/rambla-nova.jpg",alt:"Reporta barreras",className:"imgcarousel"}),S.jsx("p",{className:"legend",children:"Mejora la accesibilidad en tu ciudad"})]})]}),S.jsx("div",{className:"komuni-quote-container",children:S.jsx("span",{className:"komuni-quote-text",children:"Tu ciudad no es solo calles: es el reflejo de quin la habita."})})]}),BC=()=>{};var Bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=function(i,e){if(!i)throw gu(e)},gu=function(i){return new Error("Firebase Database ("+B0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},HC=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const l=i[n++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[n++];e[o++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[n++],m=i[n++],v=i[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;e[o++]=String.fromCharCode(55296+(y>>10)),e[o++]=String.fromCharCode(56320+(y&1023))}else{const h=i[n++],m=i[n++];e[o++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return e.join("")},dg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const h=i[l],m=l+1<i.length,v=m?i[l+1]:0,y=l+2<i.length,w=y?i[l+2]:0,C=h>>2,A=(h&3)<<4|v>>4;let O=(v&15)<<2|w>>6,Z=w&63;y||(Z=64,m||(O=64)),o.push(n[C],n[A],n[O],n[Z])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(H0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const h=n[i.charAt(l++)],v=l<i.length?n[i.charAt(l)]:0;++l;const w=l<i.length?n[i.charAt(l)]:64;++l;const A=l<i.length?n[i.charAt(l)]:64;if(++l,h==null||v==null||w==null||A==null)throw new qC;const O=h<<2|v>>4;if(o.push(O),w!==64){const Z=v<<4&240|w>>2;if(o.push(Z),A!==64){const F=w<<6&192|A;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q0=function(i){const e=H0(i);return dg.encodeByteArray(e,!0)},kf=function(i){return q0(i).replace(/\./g,"")},jf=function(i){try{return dg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i){return V0(void 0,i)}function V0(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FC(n)||(i[n]=V0(i[n],e[n]));return i}function FC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>GC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof Bb>"u")return;const i=Bb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jf(i[1]);return e&&JSON.parse(e)},pg=()=>{try{return BC()||ZC()||WC()||YC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},F0=i=>pg()?.emulatorHosts?.[i],mg=i=>{const e=F0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},G0=()=>pg()?.config,Z0=i=>pg()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ld(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kf(JSON.stringify(n)),kf(JSON.stringify(m)),""].join(".")}const Cc={};function KC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?i.emulator.push(e):i.prod.push(e);return i}function XC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Hb=!1;function ud(i,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||Cc[i]===e||Cc[i]||Hb)return;Cc[i]=e;function n(O){return`__firebase__banner__${O}`}const o="__firebase__banner",h=KC().prod.length>0;function m(){const O=document.getElementById(o);O&&O.remove()}function v(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,Z){O.setAttribute("width","24"),O.setAttribute("id",Z),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function w(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Hb=!0,m()},O}function C(O,Z){O.setAttribute("id",Z),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=XC(o),Z=n("text"),F=document.getElementById(Z)||document.createElement("span"),te=n("learnmore"),Q=document.getElementById(te)||document.createElement("a"),J=n("preprendIcon"),G=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const X=O.element;v(X),C(Q,te);const me=w();y(G,J),X.append(G,F,Q,me),document.body.appendChild(X)}h?(F.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _g(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function W0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const i=$n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function eR(){return B0.NODE_ADMIN===!0}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class ir extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=iR,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},l=`${this.service}/${e}`,h=this.errors[e],m=h?sR(h,o):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new ir(l,v,o)}}function sR(i,e){return i.replace(rR,(n,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const rR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(i){return JSON.parse(i)}function an(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(i){let e={},n={},o={},l="";try{const h=i.split(".");e=Uc(jf(h[0])||""),n=Uc(jf(h[1])||""),l=h[2],o=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:o,signature:l}},oR=function(i){const e=Y0(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aR=function(i){const e=Y0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function su(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function km(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Uf(i,e,n){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=e.call(n,i[l],l,i));return o}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),o=Object.keys(e);for(const l of n){if(!o.includes(l))return!1;const h=i[l],m=e[l];if(qb(h)&&qb(m)){if(!ea(h,m))return!1}else if(h!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function qb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[n,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const o=this.W_;if(typeof e=="string")for(let A=0;A<16;A++)o[A]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let A=0;A<16;A++)o[A]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let A=16;A<80;A++){const O=o[A-3]^o[A-8]^o[A-14]^o[A-16];o[A]=(O<<1|O>>>31)&4294967295}let l=this.chain_[0],h=this.chain_[1],m=this.chain_[2],v=this.chain_[3],y=this.chain_[4],w,C;for(let A=0;A<80;A++){A<40?A<20?(w=v^h&(m^v),C=1518500249):(w=h^m^v,C=1859775393):A<60?(w=h&m|v&(h|m),C=2400959708):(w=h^m^v,C=3395469782);const O=(l<<5|l>>>27)+w+y+C+o[A]&4294967295;y=v,v=m,m=(h<<30|h>>>2)&4294967295,h=l,l=O}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const o=n-this.blockSize;let l=0;const h=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(h[m]=e.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}else for(;l<n;)if(h[m]=e[l],++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let h=24;h>=0;h-=8)e[o]=this.chain_[l]>>h&255,++o;return e}}function uR(i,e){const n=new cR(i,e);return n.subscribe.bind(n)}class cR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,o){let l;if(e===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:o},l.next===void 0&&(l.next=mm),l.error===void 0&&(l.error=mm),l.complete===void 0&&(l.complete=mm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function mm(){}function cd(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const h=l-55296;o++,Ee(o<i.length,"Surrogate pair missing trail surrogate.");const m=i.charCodeAt(o)-56320;l=65536+(h<<10)+m}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},hd=function(i){let e=0;for(let n=0;n<i.length;n++){const o=i.charCodeAt(n);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(i){return i&&i._delegate?i._delegate:i}class Hr{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new eh;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mR(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});o.resolve(h)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);o===v&&m.resolve(l)}return l}onInit(e,n){const o=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(o)??new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(i){return i===Ga?void 0:i}function mR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const _R={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},vR=ht.INFO,yR={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},bR=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=yR[e];if(l)console[l](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const wR=(i,e)=>e.some(n=>i instanceof n);let Vb,Fb;function SR(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,jm=new WeakMap,X0=new WeakMap,gm=new WeakMap,vg=new WeakMap;function TR(i){const e=new Promise((n,o)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",m)},h=()=>{n(Xo(i.result)),l()},m=()=>{o(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",m)});return e.then(n=>{n instanceof IDBCursor&&K0.set(n,i)}).catch(()=>{}),vg.set(e,i),e}function xR(i){if(jm.has(i))return;const e=new Promise((n,o)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",m),i.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",m),i.addEventListener("abort",m)});jm.set(i,e)}let Um={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||X0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function CR(i){Um=i(Um)}function RR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(_m(this),e,...n);return X0.set(o,e.sort?e.sort():[e]),Xo(o)}:ER().includes(i)?function(...e){return i.apply(_m(this),e),Xo(K0.get(this))}:function(...e){return Xo(i.apply(_m(this),e))}}function AR(i){return typeof i=="function"?RR(i):(i instanceof IDBTransaction&&xR(i),wR(i,SR())?new Proxy(i,Um):i)}function Xo(i){if(i instanceof IDBRequest)return TR(i);if(gm.has(i))return gm.get(i);const e=AR(i);return e!==i&&(gm.set(i,e),vg.set(e,i)),e}const _m=i=>vg.get(i);function NR(i,e,{blocked:n,upgrade:o,blocking:l,terminated:h}={}){const m=indexedDB.open(i,e),v=Xo(m);return o&&m.addEventListener("upgradeneeded",y=>{o(Xo(m.result),y.oldVersion,y.newVersion,Xo(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),v}const OR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],vm=new Map;function Gb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,l=IR.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||OR.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let w=y.store;return o&&(w=w.index(v.shift())),(await Promise.all([w[n](...v),l&&y.done]))[0]};return vm.set(e,h),h}CR(i=>({...i,get:(e,n,o)=>Gb(e,n)||i.get(e,n,o),has:(e,n)=>!!Gb(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function LR(i){return i.getComponent()?.type==="VERSION"}const zm="@firebase/app",Zb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new fd("@firebase/app"),MR="@firebase/app-compat",DR="@firebase/analytics-compat",kR="@firebase/analytics",jR="@firebase/app-check-compat",UR="@firebase/app-check",zR="@firebase/auth",BR="@firebase/auth-compat",HR="@firebase/database",qR="@firebase/data-connect",VR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",ZR="@firebase/installations",WR="@firebase/installations-compat",YR="@firebase/messaging",KR="@firebase/messaging-compat",XR="@firebase/performance",$R="@firebase/performance-compat",QR="@firebase/remote-config",JR="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/ai",sA="@firebase/firestore-compat",rA="firebase",oA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",aA={[zm]:"fire-core",[MR]:"fire-core-compat",[kR]:"fire-analytics",[DR]:"fire-analytics-compat",[UR]:"fire-app-check",[jR]:"fire-app-check-compat",[zR]:"fire-auth",[BR]:"fire-auth-compat",[HR]:"fire-rtdb",[qR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[ZR]:"fire-iid",[WR]:"fire-iid-compat",[YR]:"fire-fcm",[KR]:"fire-fcm-compat",[XR]:"fire-perf",[$R]:"fire-perf-compat",[QR]:"fire-rc",[JR]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[sA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,lA=new Map,Hm=new Map;function Wb(i,e){try{i.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ta(i){const e=i.name;if(Hm.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,i);for(const n of zf.values())Wb(n,i);for(const n of lA.values())Wb(n,i);return!0}function nh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ki(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new th("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,o){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=oA;function $0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const o={name:Bm,automaticDataCollectionEnabled:!0,...e},l=o.name;if(typeof l!="string"||!l)throw $o.create("bad-app-name",{appName:String(l)});if(n||(n=G0()),!n)throw $o.create("no-options");const h=zf.get(l);if(h){if(ea(n,h.options)&&ea(o,h.config))return h;throw $o.create("duplicate-app",{appName:l})}const m=new gR(l);for(const y of Hm.values())m.addComponent(y);const v=new cA(n,o,m);return zf.set(l,v),v}function dd(i=Bm){const e=zf.get(i);if(!e&&i===Bm&&G0())return $0();if(!e)throw $o.create("no-app",{appName:i});return e}function $i(i,e,n){let o=aA[i]??i;n&&(o+=`-${n}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(m.join(" "));return}ta(new Hr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",fA=1,zc="firebase-heartbeat-store";let ym=null;function Q0(){return ym||(ym=NR(hA,fA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(i=>{throw $o.create("idb-open",{originalErrorMessage:i.message})})),ym}async function dA(i){try{const n=(await Q0()).transaction(zc),o=await n.objectStore(zc).get(J0(i));return await n.done,o}catch(e){if(e instanceof ir)qr.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}}async function Yb(i,e){try{const o=(await Q0()).transaction(zc,"readwrite");await o.objectStore(zc).put(e,J0(i)),await o.done}catch(n){if(n instanceof ir)qr.warn(n.message);else{const o=$o.create("idb-set",{originalErrorMessage:n?.message});qr.warn(o.message)}}}function J0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vA(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>mA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kb(),{heartbeatsToSend:n,unsentEntries:o}=_A(this._heartbeatsCache.heartbeats),l=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return qr.warn(e),""}}}function Kb(){return new Date().toISOString().substring(0,10)}function _A(i,e=pA){const n=[];let o=i.slice();for(const l of i){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),Xb(n)>e){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Xb(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class vA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xb(i){return kf(JSON.stringify({version:2,heartbeats:i})).length}function yA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let o=1;o<i.length;o++)i[o].date<n&&(n=i[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){ta(new Hr("platform-logger",e=>new PR(e),"PRIVATE")),ta(new Hr("heartbeat",e=>new gA(e),"PRIVATE")),$i(zm,Zb,i),$i(zm,Zb,"esm2020"),$i("fire-js","")}bA("");var wA="firebase",SA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(wA,SA,"app");var $b={};const Qb="@firebase/database",Jb="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS="";function EA(i){eS=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new TA(e)}}catch{}return new xA},Ya=tS("localStorage"),CA=tS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new fd("@firebase/database"),RA=function(){let i=1;return function(){return i++}}(),nS=function(i){const e=fR(i),n=new lR;n.update(e);const o=n.digest();return dg.encodeByteArray(o)},ih=function(...i){let e="";for(let n=0;n<i.length;n++){const o=i[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=ih.apply(null,o):typeof o=="object"?e+=an(o):e+=o,e+=" "}return e};let Rc=null,ew=!0;const AA=function(i,e){Ee(!0,"Can't turn on custom loggers persistently."),Ql.logLevel=ht.VERBOSE,Rc=Ql.log.bind(Ql)},Cn=function(...i){if(ew===!0&&(ew=!1,Rc===null&&CA.get("logging_enabled")===!0&&AA()),Rc){const e=ih.apply(null,i);Rc(e)}},sh=function(i){return function(...e){Cn(i,...e)}},qm=function(...i){const e="FIREBASE INTERNAL ERROR: "+ih(...i);Ql.error(e)},Vr=function(...i){const e=`FIREBASE FATAL ERROR: ${ih(...i)}`;throw Ql.error(e),new Error(e)},Xn=function(...i){const e="FIREBASE WARNING: "+ih(...i);Ql.warn(e)},NA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yg=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},OA=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ru="[MIN_NAME]",el="[MAX_NAME]",ol=function(i,e){if(i===e)return 0;if(i===ru||e===el)return-1;if(e===ru||i===el)return 1;{const n=tw(i),o=tw(e);return n!==null?o!==null?n-o===0?i.length-e.length:n-o:-1:o!==null?1:i<e?-1:1}},IA=function(i,e){return i===e?0:i<e?-1:1},bc=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+an(e))},bg=function(i){if(typeof i!="object"||i===null)return an(i);const e=[];for(const o in i)e.push(o);e.sort();let n="{";for(let o=0;o<e.length;o++)o!==0&&(n+=","),n+=an(e[o]),n+=":",n+=bg(i[e[o]]);return n+="}",n},iS=function(i,e){const n=i.length;if(n<=e)return[i];const o=[];for(let l=0;l<n;l+=e)l+e>n?o.push(i.substring(l,n)):o.push(i.substring(l,l+e));return o};function An(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const sS=function(i){Ee(!yg(i),"Invalid JSON number");const e=11,n=52,o=(1<<e-1)-1;let l,h,m,v,y;i===0?(h=0,m=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(v=Math.min(Math.floor(Math.log(i)/Math.LN2),o),h=v+o,m=Math.round(i*Math.pow(2,n-v)-Math.pow(2,n))):(h=0,m=Math.round(i/Math.pow(2,1-o-n))));const w=[];for(y=n;y;y-=1)w.push(m%2?1:0),m=Math.floor(m/2);for(y=e;y;y-=1)w.push(h%2?1:0),h=Math.floor(h/2);w.push(l?1:0),w.reverse();const C=w.join("");let A="";for(y=0;y<64;y+=8){let O=parseInt(C.substr(y,8),2).toString(16);O.length===1&&(O="0"+O),A=A+O}return A.toLowerCase()},PA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MA(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const o=new Error(i+" at "+e._path.toString()+": "+n);return o.code=i.toUpperCase(),o}const DA=new RegExp("^-?(0*)\\d{1,10}$"),kA=-2147483648,jA=2147483647,tw=function(i){if(DA.test(i)){const e=Number(i);if(e>=kA&&e<=jA)return e}return null},vu=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Xn("Exception was thrown by user callback.",n),e},Math.floor(0))}},UA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ac=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ki(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Xn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,o){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xn(e)}}class Nf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="5",rS="v",oS="s",aS="r",lS="f",uS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cS="ls",hS="p",Vm="ac",fS="websocket",dS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,o,l,h=!1,m="",v=!1,y=!1,w=null){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=y,this.emulatorOptions=w,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ya.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ya.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function HA(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function mS(i,e,n){Ee(typeof e=="string","typeof type must == string"),Ee(typeof n=="object","typeof params must == object");let o;if(e===fS)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===dS)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HA(i)&&(n.ns=i.namespace);const l=[];return An(n,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.counters_={}}incrementCounter(e,n=1){sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={},wm={};function Sg(i){const e=i.toString();return bm[e]||(bm[e]=new qA),bm[e]}function VA(i,e){const n=i.toString();return wm[n]||(wm[n]=e()),wm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&vu(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="start",GA="close",ZA="pLPCommand",WA="pRTLPCB",gS="id",_S="pw",vS="ser",YA="cb",KA="seg",XA="ts",$A="d",QA="dframe",yS=1870,bS=30,JA=yS-bS,eN=25e3,tN=3e4;class Xl{constructor(e,n,o,l,h,m,v){this.connId=e,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sh(e),this.stats_=Sg(n),this.urlFn=y=>(this.appCheckToken&&(y[Vm]=this.appCheckToken),mS(n,dS,y))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new FA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tN)),OA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eg((...h)=>{const[m,v,y,w,C]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===nw)this.id=v,this.password=y;else if(m===GA)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,v]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const o={};o[nw]="t",o[vS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[YA]=this.scriptTagHolder.uniqueCallbackIdentifier),o[rS]=wg,this.transportSessionId&&(o[oS]=this.transportSessionId),this.lastSessionId&&(o[cS]=this.lastSessionId),this.applicationId&&(o[hS]=this.applicationId),this.appCheckToken&&(o[Vm]=this.appCheckToken),typeof location<"u"&&location.hostname&&uS.test(location.hostname)&&(o[aS]=lS);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xl.forceAllow_=!0}static forceDisallow(){Xl.forceDisallow_=!0}static isAvailable(){return Xl.forceAllow_?!0:!Xl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PA()&&!LA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=q0(n),l=iS(o,JA);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[QA]="t",o[gS]=e,o[_S]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=an(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Eg{constructor(e,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RA(),window[ZA+this.uniqueCallbackIdentifier]=e,window[WA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Eg.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){Cn("frame writing exception"),v.stack&&Cn(v.stack),Cn(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Cn("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gS]=this.myID,e[_S]=this.myPW,e[vS]=this.currentSerial;let n=this.urlFn(e),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bS+o.length<=yS;){const m=this.pendingSegs.shift();o=o+"&"+KA+l+"="+m.seg+"&"+XA+l+"="+m.ts+"&"+$A+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,o){this.pendingSegs.push({seg:e,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(eN)),h=()=>{clearTimeout(l),o()};this.addTag(e,h)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{Cn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=16384,iN=45e3;let Bf=null;typeof MozWebSocket<"u"?Bf=MozWebSocket:typeof WebSocket<"u"&&(Bf=WebSocket);class Ss{constructor(e,n,o,l,h,m,v){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sh(this.connId),this.stats_=Sg(n),this.connURL=Ss.connectionURL_(n,m,v,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,o,l,h){const m={};return m[rS]=wg,typeof location<"u"&&location.hostname&&uS.test(location.hostname)&&(m[aS]=lS),n&&(m[oS]=n),o&&(m[cS]=o),l&&(m[Vm]=l),h&&(m[hS]=h),mS(e,fS,m)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ya.set("previous_websocket_failure",!0);try{let o;eR(),this.mySock=new Bf(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Ss.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&Bf!==null&&!Ss.forceDisallow_}static previouslyFailed(){return Ya.isInMemoryStorage||Ya.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ya.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=Uc(n);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=iS(n,nN);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ss.responsesRequiredToBeHealthy=2;Ss.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{static get ALL_TRANSPORTS(){return[Xl,Ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ss&&Ss.isAvailable();let o=n&&!Ss.previouslyFailed();if(e.webSocketOnly&&(n||Xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ss];else{const l=this.transports_=[];for(const h of Bc.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);Bc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=6e4,rN=5e3,oN=10*1024,aN=100*1024,Sm="t",iw="d",lN="s",sw="r",uN="e",rw="o",ow="a",aw="n",lw="p",cN="h";class hN{constructor(e,n,o,l,h,m,v,y,w,C){this.id=e,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=y,this.onKill_=w,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sh("c:"+this.id+":"),this.transportManager_=new Bc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ac(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sm in e){const n=e[Sm];n===ow?this.upgradeIfSecondaryHealthy_():n===sw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=bc("t",e),o=bc("d",e);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ow,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=bc("t",e),o=bc("d",e);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=bc(Sm,e);if(iw in e){const o=e[iw];if(n===cN){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===aw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lN?this.onConnectionShutdown_(o):n===sw?this.onReset_(o):n===uN?qm("Server Error: "+o):n===rw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,o=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wg!==o&&Xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),Ac(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ac(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ya.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{put(e,n,o,l){}merge(e,n,o,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,o){}onDisconnectMerge(e,n,o){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(e,n,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:o});const l=this.getInitialEvent(e);l&&n.apply(o,l)}off(e,n,o){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let h=0;h<l.length;h++)if(l[h].callback===n&&(!o||o===l[h].context)){l.splice(h,1);return}}validateEventType_(e){Ee(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends SS{static getInstance(){return new Hf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_g()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=32,cw=768;class St{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new St("")}function et(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function na(i){return i.pieces_.length-i.pieceNum_}function It(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new St(i.pieces_,e)}function Tg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function fN(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function Hc(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function ES(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new St(e,0)}function Ht(i,e){const n=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)n.push(i.pieces_[o]);if(e instanceof St)for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);else{const o=e.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new St(n,0)}function Je(i){return i.pieceNum_>=i.pieces_.length}function Kn(i,e){const n=et(i),o=et(e);if(n===null)return e;if(n===o)return Kn(It(i),It(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function dN(i,e){const n=Hc(i,0),o=Hc(e,0);for(let l=0;l<n.length&&l<o.length;l++){const h=ol(n[l],o[l]);if(h!==0)return h}return n.length===o.length?0:n.length<o.length?-1:1}function TS(i,e){if(na(i)!==na(e))return!1;for(let n=i.pieceNum_,o=e.pieceNum_;n<=i.pieces_.length;n++,o++)if(i.pieces_[n]!==e.pieces_[o])return!1;return!0}function Xi(i,e){let n=i.pieceNum_,o=e.pieceNum_;if(na(i)>na(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[o])return!1;++n,++o}return!0}class pN{constructor(e,n){this.errorPrefix_=n,this.parts_=Hc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=hd(this.parts_[o]);xS(this)}}function mN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=hd(e),xS(i)}function gN(i){const e=i.parts_.pop();i.byteLength_-=hd(e),i.parts_.length>0&&(i.byteLength_-=1)}function xS(i){if(i.byteLength_>cw)throw new Error(i.errorPrefix_+"has a key path longer than "+cw+" bytes ("+i.byteLength_+").");if(i.parts_.length>uw)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uw+") or object contains a cycle "+Za(i))}function Za(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends SS{static getInstance(){return new xg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return Ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=1e3,_N=60*5*1e3,hw=30*1e3,vN=1.3,yN=3e4,bN="server_kill",fw=3;class zr extends wS{constructor(e,n,o,l,h,m,v,y){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=y,this.id=zr.nextPersistentConnectionId_++,this.log_=sh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wc,this.maxReconnectDelay_=_N,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,o){const l=++this.requestNumber_,h={r:l,a:e,b:n};this.log_(an(h)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const n=new eh,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;m.s==="ok"?n.resolve(v):n.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),n.promise}listen(e,n,o,l){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:n,query:e,tag:o};this.listens.get(m).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(e){const n=e.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o},m="q";e.tag&&(h.q=n._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest(m,h,v=>{const y=v.d,w=v.s;zr.warnOnListenWarnings_(y,n),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",v),w!=="ok"&&this.removeListen_(o,l),e.onComplete&&e.onComplete(w,y))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sr(e,"w")){const o=su(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',h=n._path.toString();Xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=oR(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const h=l.s,m=l.d||"error";this.authToken_===e&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,o=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(e,n){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,n)}sendUnlisten_(e,n,o,l){this.log_("Unlisten on "+e+" for "+n);const h={p:e},m="n";l&&(h.q=o,h.t=l),this.sendRequest(m,h)}onDisconnectPut(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:o})}onDisconnectMerge(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:o})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,o,l){const h={p:n,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,n,o,l){this.putInternal("p",e,n,o,l)}merge(e,n,o,l){this.putInternal("m",e,n,o,l)}putInternal(e,n,o,l,h){this.initConnection_();const m={p:n,d:o};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,h=>{this.log_(n+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const h=o.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+an(e));const n=e.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qm("Unrecognized action received from server: "+an(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yN&&(this.reconnectDelay_=wc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+zr.nextConnectionId_++,h=this.lastSessionId;let m=!1,v=null;const y=function(){v?v.close():(m=!0,o())},w=function(A){Ee(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(A)};this.realtime_={close:y,sendRequest:w};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[A,O]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);m?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),this.authToken_=A&&A.accessToken,this.appCheckToken_=O&&O.token,v=new hN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,o,Z=>{Xn(Z+" ("+this.repoInfo_.toString()+")"),this.interrupt(bN)},h))}catch(A){this.log_("Failed to get token: "+A),m||(this.repoInfo_.nodeAdmin&&Xn(A),y())}}}interrupt(e){Cn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Cn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],km(this.interruptReasons_)&&(this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let o;n?o=n.map(h=>bg(h)).join("$"):o="default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const o=new St(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(n),h.delete(n),h.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,n){Cn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fw&&(this.reconnectDelay_=hw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Cn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eS.replace(/\./g,"-")]=1,_g()?e["framework.cordova"]=1:W0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hf.getInstance().currentlyOnline();return km(this.interruptReasons_)&&e}}zr.nextPersistentConnectionId_=0;zr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const o=new Ye(ru,e),l=new Ye(ru,n);return this.compare(o,l)!==0}minPost(){return Ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;class CS extends pd{static get __EMPTY_NODE(){return bf}static set __EMPTY_NODE(e){bf=e}compare(e,n){return ol(e.name,n.name)}isDefinedOn(e){throw gu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(el,bf)}makePost(e,n){return Ee(typeof e=="string","KeyIndex indexValue must always be a string."),new Ye(e,bf)}toString(){return".key"}}const Jl=new CS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!e.isEmpty();)if(e=e,m=n?o(e.key,n):1,l&&(m*=-1),m<0)this.isReverse_?e=e.left:e=e.right;else if(m===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vn{constructor(e,n,o,l,h){this.key=e,this.value=n,this.color=o??vn.RED,this.left=l??ai.EMPTY_NODE,this.right=h??ai.EMPTY_NODE}copy(e,n,o,l,h){return new vn(e??this.key,n??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const h=o(e,l.key);return h<0?l=l.copy(null,null,null,l.left.insert(e,n,o),null):h===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return ai.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let o,l;if(o=this,n(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(e,o.key)===0){if(o.right.isEmpty())return ai.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vn.RED=!0;vn.BLACK=!1;class wN{copy(e,n,o,l,h){return this}insert(e,n,o){return new vn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ai{constructor(e,n=ai.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ai(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vn.BLACK,null,null))}remove(e){return new ai(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vn.BLACK,null,null))}get(e){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(e,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(e){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(e,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wf(this.root_,null,this.comparator_,!0,e)}}ai.EMPTY_NODE=new wN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(i,e){return ol(i.name,e.name)}function Cg(i,e){return ol(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm;function EN(i){Fm=i}const RS=function(i){return typeof i=="number"?"number:"+sS(i):"string:"+i},AS=function(i){if(i.isLeafNode()){const e=i.val();Ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sr(e,".sv"),"Priority must be a string or number.")}else Ee(i===Fm||i.isEmpty(),"priority of unexpected type.");Ee(i===Fm||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw;class _n{static set __childrenNodeConstructor(e){dw=e}static get __childrenNodeConstructor(){return dw}constructor(e,n=_n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Je(e)?this:et(e)===".priority"?this.priorityNode_:_n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const o=et(e);return o===null?n:n.isEmpty()&&o!==".priority"?this:(Ee(o!==".priority"||na(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,_n.__childrenNodeConstructor.EMPTY_NODE.updateChild(It(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+RS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=sS(this.value_):e+=this.value_,this.lazyHash_=nS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _n.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,o=typeof this.value_,l=_n.VALUE_TYPE_ORDER.indexOf(n),h=_n.VALUE_TYPE_ORDER.indexOf(o);return Ee(l>=0,"Unknown leaf type: "+n),Ee(h>=0,"Unknown leaf type: "+o),l===h?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NS,OS;function TN(i){NS=i}function xN(i){OS=i}class CN extends pd{compare(e,n){const o=e.node.getPriority(),l=n.node.getPriority(),h=o.compareTo(l);return h===0?ol(e.name,n.name):h}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(el,new _n("[PRIORITY-POST]",OS))}makePost(e,n){const o=NS(e);return new Ye(n,new _n("[PRIORITY-POST]",o))}toString(){return".priority"}}const qt=new CN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=Math.log(2);class AN{constructor(e){const n=h=>parseInt(Math.log(h)/RN,10),o=h=>parseInt(Array(h+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=o(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qf=function(i,e,n,o){i.sort(e);const l=function(y,w){const C=w-y;let A,O;if(C===0)return null;if(C===1)return A=i[y],O=n?n(A):A,new vn(O,A.node,vn.BLACK,null,null);{const Z=parseInt(C/2,10)+y,F=l(y,Z),te=l(Z+1,w);return A=i[Z],O=n?n(A):A,new vn(O,A.node,vn.BLACK,F,te)}},h=function(y){let w=null,C=null,A=i.length;const O=function(F,te){const Q=A-F,J=A;A-=F;const G=l(Q+1,J),X=i[Q],me=n?n(X):X;Z(new vn(me,X.node,te,null,G))},Z=function(F){w?(w.left=F,w=F):(C=F,w=F)};for(let F=0;F<y.count;++F){const te=y.nextBitIsOne(),Q=Math.pow(2,y.count-(F+1));te?O(Q,vn.BLACK):(O(Q,vn.BLACK),O(Q,vn.RED))}return C},m=new AN(i.length),v=h(m);return new ai(o||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em;const Yl={};class Dr{static get Default(){return Ee(Yl&&qt,"ChildrenNode.ts has not been loaded"),Em=Em||new Dr({".priority":Yl},{".priority":qt}),Em}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=su(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ai?n:null}hasIndex(e){return sr(this.indexSet_,e.toString())}addIndex(e,n){Ee(e!==Jl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=n.getIterator(Ye.Wrap);let m=h.getNext();for(;m;)l=l||e.isDefinedOn(m.node),o.push(m),m=h.getNext();let v;l?v=qf(o,e.getCompare()):v=Yl;const y=e.toString(),w={...this.indexSet_};w[y]=e;const C={...this.indexes_};return C[y]=v,new Dr(C,w)}addToIndexes(e,n){const o=Uf(this.indexes_,(l,h)=>{const m=su(this.indexSet_,h);if(Ee(m,"Missing index implementation for "+h),l===Yl)if(m.isDefinedOn(e.node)){const v=[],y=n.getIterator(Ye.Wrap);let w=y.getNext();for(;w;)w.name!==e.name&&v.push(w),w=y.getNext();return v.push(e),qf(v,m.getCompare())}else return Yl;else{const v=n.get(e.name);let y=l;return v&&(y=y.remove(new Ye(e.name,v))),y.insert(e,e.node)}});return new Dr(o,this.indexSet_)}removeFromIndexes(e,n){const o=Uf(this.indexes_,l=>{if(l===Yl)return l;{const h=n.get(e.name);return h?l.remove(new Ye(e.name,h)):l}});return new Dr(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;class Ue{static get EMPTY_NODE(){return Sc||(Sc=new Ue(new ai(Cg),null,Dr.Default))}constructor(e,n,o){this.children_=e,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&AS(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sc}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Sc:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(It(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ee(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const o=new Ye(e,n);let l,h;n.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),h=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?Sc:this.priorityNode_;return new Ue(l,m,h)}}updateChild(e,n){const o=et(e);if(o===null)return n;{Ee(et(e)!==".priority"||na(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(It(e),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let o=0,l=0,h=!0;if(this.forEachChild(qt,(m,v)=>{n[m]=v.val(e),o++,h&&Ue.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):h=!1}),!e&&h&&l<2*o){const m=[];for(const v in n)m[v]=n[v];return m}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+RS(this.getPriority().val())+":"),this.forEachChild(qt,(n,o)=>{const l=o.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":nS(e)}return this.lazyHash_}getPredecessorChildName(e,n,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new Ye(e,n));return h?h.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ye(n,this.children_.get(n)):null}forEachChild(e,n){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ye.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rh?-1:0}withIndex(e){if(e===Jl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(qt),l=n.getIterator(qt);let h=o.getNext(),m=l.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=l.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(e){return e===Jl?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NN extends Ue{constructor(){super(new ai(Cg),Ue.EMPTY_NODE,Dr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const rh=new NN;Object.defineProperties(Ye,{MIN:{value:new Ye(ru,Ue.EMPTY_NODE)},MAX:{value:new Ye(el,rh)}});CS.__EMPTY_NODE=Ue.EMPTY_NODE;_n.__childrenNodeConstructor=Ue;EN(rh);xN(rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=!0;function on(i,e=null){if(i===null)return Ue.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new _n(n,on(e))}if(!(i instanceof Array)&&ON){const n=[];let o=!1;if(An(i,(m,v)=>{if(m.substring(0,1)!=="."){const y=on(v);y.isEmpty()||(o=o||!y.getPriority().isEmpty(),n.push(new Ye(m,y)))}}),n.length===0)return Ue.EMPTY_NODE;const h=qf(n,SN,m=>m.name,Cg);if(o){const m=qf(n,qt.getCompare());return new Ue(h,on(e),new Dr({".priority":m},{".priority":qt}))}else return new Ue(h,on(e),Dr.Default)}else{let n=Ue.EMPTY_NODE;return An(i,(o,l)=>{if(sr(i,o)&&o.substring(0,1)!=="."){const h=on(l);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(on(e))}}TN(on);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN extends pd{constructor(e){super(),this.indexPath_=e,Ee(!Je(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const o=this.extractChild(e.node),l=this.extractChild(n.node),h=o.compareTo(l);return h===0?ol(e.name,n.name):h}makePost(e,n){const o=on(e),l=Ue.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ye(n,l)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,rh);return new Ye(el,e)}toString(){return Hc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends pd{compare(e,n){const o=e.node.compareTo(n.node);return o===0?ol(e.name,n.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(e,n){const o=on(e);return new Ye(n,o)}toString(){return".value"}}const LN=new PN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(i){return{type:"value",snapshotNode:i}}function ou(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function qc(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Vc(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function MN(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.index_=e}updateChild(e,n,o,l,h,m){Ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(n);return v.getChild(l).equals(o.getChild(l))&&v.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?e.hasChild(n)?m.trackChildChange(qc(n,v)):Ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(ou(n,o)):m.trackChildChange(Vc(n,o,v))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(e,n,o){return o!=null&&(e.isLeafNode()||e.forEachChild(qt,(l,h)=>{n.hasChild(l)||o.trackChildChange(qc(l,h))}),n.isLeafNode()||n.forEachChild(qt,(l,h)=>{if(e.hasChild(l)){const m=e.getImmediateChild(l);m.equals(h)||o.trackChildChange(Vc(l,h,m))}else o.trackChildChange(ou(l,h))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.indexedFilter_=new Rg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fc.getStartPost_(e),this.endPost_=Fc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&o}updateChild(e,n,o,l,h,m){return this.matches(new Ye(n,o))||(o=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,o,l,h,m)}updateFullNode(e,n,o){n.isLeafNode()&&(n=Ue.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ue.EMPTY_NODE);const h=this;return n.forEachChild(qt,(m,v)=>{h.matches(new Ye(m,v))||(l=l.updateImmediateChild(m,Ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Fc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,o,l,h,m){return this.rangedFilter_.matches(new Ye(n,o))||(o=Ue.EMPTY_NODE),e.getImmediateChild(n).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,o,l,h,m):this.fullLimitUpdateChild_(e,n,o,h,m)}updateFullNode(e,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ue.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const v=h.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))l=l.updateImmediateChild(v.name,v.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ue.EMPTY_NODE);let h;this.reverse_?h=l.getReverseIterator(this.index_):h=l.getIterator(this.index_);let m=0;for(;h.hasNext();){const v=h.getNext();m<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?m++:l=l.updateImmediateChild(v.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,o,l,h){let m;if(this.reverse_){const A=this.index_.getCompare();m=(O,Z)=>A(Z,O)}else m=this.index_.getCompare();const v=e;Ee(v.numChildren()===this.limit_,"");const y=new Ye(n,o),w=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),C=this.rangedFilter_.matches(y);if(v.hasChild(n)){const A=v.getImmediateChild(n);let O=l.getChildAfterChild(this.index_,w,this.reverse_);for(;O!=null&&(O.name===n||v.hasChild(O.name));)O=l.getChildAfterChild(this.index_,O,this.reverse_);const Z=O==null?1:m(O,y);if(C&&!o.isEmpty()&&Z>=0)return h?.trackChildChange(Vc(n,o,A)),v.updateImmediateChild(n,o);{h?.trackChildChange(qc(n,A));const te=v.updateImmediateChild(n,Ue.EMPTY_NODE);return O!=null&&this.rangedFilter_.matches(O)?(h?.trackChildChange(ou(O.name,O.node)),te.updateImmediateChild(O.name,O.node)):te}}else return o.isEmpty()?e:C&&m(w,y)>=0?(h!=null&&(h.trackChildChange(qc(w.name,w.node)),h.trackChildChange(ou(n,o))),v.updateImmediateChild(n,o).updateImmediateChild(w.name,Ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ru}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:el}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qt}copy(){const e=new Ag;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kN(i){return i.loadsAllData()?new Rg(i.getIndex()):i.hasLimit()?new DN(i):new Fc(i)}function pw(i){const e={};if(i.isDefault())return e;let n;if(i.index_===qt?n="$priority":i.index_===LN?n="$value":i.index_===Jl?n="$key":(Ee(i.index_ instanceof IN,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=an(n),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";e[o]=an(i.indexStartValue_),i.startNameSet_&&(e[o]+=","+an(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";e[o]=an(i.indexEndValue_),i.endNameSet_&&(e[o]+=","+an(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function mw(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==qt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends wS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,o,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=sh("p:rest:"),this.listens_={}}listen(e,n,o,l){const h=e._path.toString();this.log_("Listen called for "+h+" "+e._queryIdentifier);const m=Vf.getListenId_(e,o),v={};this.listens_[m]=v;const y=pw(e._queryParams);this.restRequest_(h+".json",y,(w,C)=>{let A=C;if(w===404&&(A=null,w=null),w===null&&this.onDataUpdate_(h,A,!1,o),su(this.listens_,m)===v){let O;w?w===401?O="permission_denied":O="rest_error:"+w:O="ok",l(O,null)}})}unlisten(e,n){const o=Vf.getListenId_(e,n);delete this.listens_[o]}get(e){const n=pw(e._queryParams),o=e._path.toString(),l=new eh;return this.restRequest_(o+".json",n,(h,m)=>{let v=m;h===404&&(v=null,h=null),h===null?(this.onDataUpdate_(o,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(n.auth=l.accessToken),h&&h.token&&(n.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_u(n);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(o&&v.readyState===4){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let y=null;if(v.status>=200&&v.status<300){try{y=Uc(v.responseText)}catch{Xn("Failed to parse JSON response for "+m+": "+v.responseText)}o(null,y)}else v.status!==401&&v.status!==404&&Xn("Got unsuccessful REST response for "+m+" Status: "+v.status),o(v.status);o=null}},v.open("GET",m,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){return{value:null,children:new Map}}function PS(i,e,n){if(Je(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const o=et(e);i.children.has(o)||i.children.set(o,Ff());const l=i.children.get(o);e=It(e),PS(l,e,n)}}function Gm(i,e,n){i.value!==null?n(e,i.value):UN(i,(o,l)=>{const h=new St(e.toString()+"/"+o);Gm(l,h,n)})}function UN(i,e){i.children.forEach((n,o)=>{e(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&An(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=10*1e3,BN=30*1e3,HN=5*60*1e3;class qN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zN(e);const o=gw+(BN-gw)*Math.random();Ac(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),n={};let o=!1;An(e,(l,h)=>{h>0&&sr(this.statsToReport_,l)&&(n[l]=h,o=!0)}),o&&this.server_.reportStats(n),Ac(this.reportStats_.bind(this),Math.floor(Math.random()*2*HN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Es||(Es={}));function Ng(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Og(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ig(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,o){this.path=e,this.affectedTree=n,this.revert=o,this.type=Es.ACK_USER_WRITE,this.source=Ng()}operationForChild(e){if(Je(this.path)){if(this.affectedTree.value!=null)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(e));return new Gf(ut(),n,this.revert)}}else return Ee(et(this.path)===e,"operationForChild called for unrelated child."),new Gf(It(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.source=e,this.path=n,this.type=Es.LISTEN_COMPLETE}operationForChild(e){return Je(this.path)?new Gc(this.source,ut()):new Gc(this.source,It(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,o){this.source=e,this.path=n,this.snap=o,this.type=Es.OVERWRITE}operationForChild(e){return Je(this.path)?new tl(this.source,ut(),this.snap.getImmediateChild(e)):new tl(this.source,It(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,o){this.source=e,this.path=n,this.children=o,this.type=Es.MERGE}operationForChild(e){if(Je(this.path)){const n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new tl(this.source,ut(),n.value):new au(this.source,ut(),n)}else return Ee(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new au(this.source,It(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,o){this.node_=e,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FN(i,e,n,o){const l=[],h=[];return e.forEach(m=>{m.type==="child_changed"&&i.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(MN(m.childName,m.snapshotNode))}),Ec(i,l,"child_removed",e,o,n),Ec(i,l,"child_added",e,o,n),Ec(i,l,"child_moved",h,o,n),Ec(i,l,"child_changed",e,o,n),Ec(i,l,"value",e,o,n),l}function Ec(i,e,n,o,l,h){const m=o.filter(v=>v.type===n);m.sort((v,y)=>ZN(i,v,y)),m.forEach(v=>{const y=GN(i,v,h);l.forEach(w=>{w.respondsTo(v.type)&&e.push(w.createEvent(y,i.query_))})})}function GN(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function ZN(i,e,n){if(e.childName==null||n.childName==null)throw gu("Should only compare child_ events.");const o=new Ye(e.childName,e.snapshotNode),l=new Ye(n.childName,n.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(i,e){return{eventCache:i,serverCache:e}}function Nc(i,e,n,o){return md(new ia(e,n,o),i.serverCache)}function LS(i,e,n,o){return md(i.eventCache,new ia(e,n,o))}function Zf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function nl(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm;const WN=()=>(Tm||(Tm=new ai(IA)),Tm);class Ot{static fromObject(e){let n=new Ot(null);return An(e,(o,l)=>{n=n.set(new St(o),l)}),n}constructor(e,n=WN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(Je(e))return null;{const o=et(e),l=this.children.get(o);if(l!==null){const h=l.findRootMostMatchingPathAndValue(It(e),n);return h!=null?{path:Ht(new St(o),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const n=et(e),o=this.children.get(n);return o!==null?o.subtree(It(e)):new Ot(null)}}set(e,n){if(Je(e))return new Ot(n,this.children);{const o=et(e),h=(this.children.get(o)||new Ot(null)).set(It(e),n),m=this.children.insert(o,h);return new Ot(this.value,m)}}remove(e){if(Je(e))return this.children.isEmpty()?new Ot(null):new Ot(null,this.children);{const n=et(e),o=this.children.get(n);if(o){const l=o.remove(It(e));let h;return l.isEmpty()?h=this.children.remove(n):h=this.children.insert(n,l),this.value===null&&h.isEmpty()?new Ot(null):new Ot(this.value,h)}else return this}}get(e){if(Je(e))return this.value;{const n=et(e),o=this.children.get(n);return o?o.get(It(e)):null}}setTree(e,n){if(Je(e))return n;{const o=et(e),h=(this.children.get(o)||new Ot(null)).setTree(It(e),n);let m;return h.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,h),new Ot(this.value,m)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(Ht(e,l),n)}),n(e,this.value,o)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(Je(e))return null;{const h=et(e),m=this.children.get(h);return m?m.findOnPath_(It(e),Ht(n,h),o):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,o){if(Je(e))return this;{this.value&&o(n,this.value);const l=et(e),h=this.children.get(l);return h?h.foreachOnPath_(It(e),Ht(n,l),o):new Ot(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Ht(e,o),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,o)=>{o.value&&e(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.writeTree_=e}static empty(){return new Cs(new Ot(null))}}function Oc(i,e,n){if(Je(e))return new Cs(new Ot(n));{const o=i.writeTree_.findRootMostValueAndPath(e);if(o!=null){const l=o.path;let h=o.value;const m=Kn(l,e);return h=h.updateChild(m,n),new Cs(i.writeTree_.set(l,h))}else{const l=new Ot(n),h=i.writeTree_.setTree(e,l);return new Cs(h)}}}function Zm(i,e,n){let o=i;return An(n,(l,h)=>{o=Oc(o,Ht(e,l),h)}),o}function _w(i,e){if(Je(e))return Cs.empty();{const n=i.writeTree_.setTree(e,new Ot(null));return new Cs(n)}}function Wm(i,e){return al(i,e)!=null}function al(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function vw(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qt,(o,l)=>{e.push(new Ye(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&e.push(new Ye(o,l.value))}),e}function Qo(i,e){if(Je(e))return i;{const n=al(i,e);return n!=null?new Cs(new Ot(n)):new Cs(i.writeTree_.subtree(e))}}function Ym(i){return i.writeTree_.isEmpty()}function lu(i,e){return MS(ut(),i.writeTree_,e)}function MS(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let o=null;return e.children.inorderTraversal((l,h)=>{l===".priority"?(Ee(h.value!==null,"Priority writes must always be leaf nodes"),o=h.value):n=MS(Ht(i,l),h,n)}),!n.getChild(i).isEmpty()&&o!==null&&(n=n.updateChild(Ht(i,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i,e){return US(e,i)}function YN(i,e,n,o,l){Ee(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:o,visible:l}),l&&(i.visibleWrites=Oc(i.visibleWrites,e,n)),i.lastWriteId=o}function KN(i,e,n,o){Ee(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:n,writeId:o,visible:!0}),i.visibleWrites=Zm(i.visibleWrites,e,n),i.lastWriteId=o}function XN(i,e){for(let n=0;n<i.allWrites.length;n++){const o=i.allWrites[n];if(o.writeId===e)return o}return null}function $N(i,e){const n=i.allWrites.findIndex(v=>v.writeId===e);Ee(n>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[n];i.allWrites.splice(n,1);let l=o.visible,h=!1,m=i.allWrites.length-1;for(;l&&m>=0;){const v=i.allWrites[m];v.visible&&(m>=n&&QN(v,o.path)?l=!1:Xi(o.path,v.path)&&(h=!0)),m--}if(l){if(h)return JN(i),!0;if(o.snap)i.visibleWrites=_w(i.visibleWrites,o.path);else{const v=o.children;An(v,y=>{i.visibleWrites=_w(i.visibleWrites,Ht(o.path,y))})}return!0}else return!1}function QN(i,e){if(i.snap)return Xi(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Xi(Ht(i.path,n),e))return!0;return!1}function JN(i){i.visibleWrites=DS(i.allWrites,eO,ut()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function eO(i){return i.visible}function DS(i,e,n){let o=Cs.empty();for(let l=0;l<i.length;++l){const h=i[l];if(e(h)){const m=h.path;let v;if(h.snap)Xi(n,m)?(v=Kn(n,m),o=Oc(o,v,h.snap)):Xi(m,n)&&(v=Kn(m,n),o=Oc(o,ut(),h.snap.getChild(v)));else if(h.children){if(Xi(n,m))v=Kn(n,m),o=Zm(o,v,h.children);else if(Xi(m,n))if(v=Kn(m,n),Je(v))o=Zm(o,ut(),h.children);else{const y=su(h.children,et(v));if(y){const w=y.getChild(It(v));o=Oc(o,ut(),w)}}}else throw gu("WriteRecord should have .snap or .children")}}return o}function kS(i,e,n,o,l){if(!o&&!l){const h=al(i.visibleWrites,e);if(h!=null)return h;{const m=Qo(i.visibleWrites,e);if(Ym(m))return n;if(n==null&&!Wm(m,ut()))return null;{const v=n||Ue.EMPTY_NODE;return lu(m,v)}}}else{const h=Qo(i.visibleWrites,e);if(!l&&Ym(h))return n;if(!l&&n==null&&!Wm(h,ut()))return null;{const m=function(w){return(w.visible||l)&&(!o||!~o.indexOf(w.writeId))&&(Xi(w.path,e)||Xi(e,w.path))},v=DS(i.allWrites,m,e),y=n||Ue.EMPTY_NODE;return lu(v,y)}}}function tO(i,e,n){let o=Ue.EMPTY_NODE;const l=al(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(qt,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(n){const h=Qo(i.visibleWrites,e);return n.forEachChild(qt,(m,v)=>{const y=lu(Qo(h,new St(m)),v);o=o.updateImmediateChild(m,y)}),vw(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const h=Qo(i.visibleWrites,e);return vw(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function nO(i,e,n,o,l){Ee(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=Ht(e,n);if(Wm(i.visibleWrites,h))return null;{const m=Qo(i.visibleWrites,h);return Ym(m)?l.getChild(n):lu(m,l.getChild(n))}}function iO(i,e,n,o){const l=Ht(e,n),h=al(i.visibleWrites,l);if(h!=null)return h;if(o.isCompleteForChild(n)){const m=Qo(i.visibleWrites,l);return lu(m,o.getNode().getImmediateChild(n))}else return null}function sO(i,e){return al(i.visibleWrites,e)}function rO(i,e,n,o,l,h,m){let v;const y=Qo(i.visibleWrites,e),w=al(y,ut());if(w!=null)v=w;else if(n!=null)v=lu(y,n);else return[];if(v=v.withIndex(m),!v.isEmpty()&&!v.isLeafNode()){const C=[],A=m.getCompare(),O=h?v.getReverseIteratorFrom(o,m):v.getIteratorFrom(o,m);let Z=O.getNext();for(;Z&&C.length<l;)A(Z,o)!==0&&C.push(Z),Z=O.getNext();return C}else return[]}function oO(){return{visibleWrites:Cs.empty(),allWrites:[],lastWriteId:-1}}function Wf(i,e,n,o){return kS(i.writeTree,i.treePath,e,n,o)}function Pg(i,e){return tO(i.writeTree,i.treePath,e)}function yw(i,e,n,o){return nO(i.writeTree,i.treePath,e,n,o)}function Yf(i,e){return sO(i.writeTree,Ht(i.treePath,e))}function aO(i,e,n,o,l,h){return rO(i.writeTree,i.treePath,e,n,o,l,h)}function Lg(i,e,n){return iO(i.writeTree,i.treePath,e,n)}function jS(i,e){return US(Ht(i.treePath,e),i.writeTree)}function US(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,o=e.childName;Ee(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ee(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if(n==="child_added"&&h==="child_removed")this.changeMap.set(o,Vc(o,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&h==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&h==="child_changed")this.changeMap.set(o,qc(o,l.oldSnap));else if(n==="child_changed"&&h==="child_added")this.changeMap.set(o,ou(o,e.snapshotNode));else if(n==="child_changed"&&h==="child_changed")this.changeMap.set(o,Vc(o,e.snapshotNode,l.oldSnap));else throw gu("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{getCompleteChild(e){return null}getChildAfterChild(e,n,o){return null}}const zS=new uO;class Mg{constructor(e,n,o=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new ia(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lg(this.writes_,e,o)}}getChildAfterChild(e,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nl(this.viewCache_),h=aO(this.writes_,l,n,1,o,e);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(i){return{filter:i}}function hO(i,e){Ee(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ee(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function fO(i,e,n,o,l){const h=new lO;let m,v;if(n.type===Es.OVERWRITE){const w=n;w.source.fromUser?m=Km(i,e,w.path,w.snap,o,l,h):(Ee(w.source.fromServer,"Unknown source."),v=w.source.tagged||e.serverCache.isFiltered()&&!Je(w.path),m=Kf(i,e,w.path,w.snap,o,l,v,h))}else if(n.type===Es.MERGE){const w=n;w.source.fromUser?m=pO(i,e,w.path,w.children,o,l,h):(Ee(w.source.fromServer,"Unknown source."),v=w.source.tagged||e.serverCache.isFiltered(),m=Xm(i,e,w.path,w.children,o,l,v,h))}else if(n.type===Es.ACK_USER_WRITE){const w=n;w.revert?m=_O(i,e,w.path,o,l,h):m=mO(i,e,w.path,w.affectedTree,o,l,h)}else if(n.type===Es.LISTEN_COMPLETE)m=gO(i,e,n.path,o,h);else throw gu("Unknown operation type: "+n.type);const y=h.getChanges();return dO(e,m,y),{viewCache:m,changes:y}}function dO(i,e,n){const o=e.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Zf(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(IS(Zf(e)))}}function BS(i,e,n,o,l,h){const m=e.eventCache;if(Yf(o,n)!=null)return e;{let v,y;if(Je(n))if(Ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=nl(e),C=w instanceof Ue?w:Ue.EMPTY_NODE,A=Pg(o,C);v=i.filter.updateFullNode(e.eventCache.getNode(),A,h)}else{const w=Wf(o,nl(e));v=i.filter.updateFullNode(e.eventCache.getNode(),w,h)}else{const w=et(n);if(w===".priority"){Ee(na(n)===1,"Can't have a priority with additional path components");const C=m.getNode();y=e.serverCache.getNode();const A=yw(o,n,C,y);A!=null?v=i.filter.updatePriority(C,A):v=m.getNode()}else{const C=It(n);let A;if(m.isCompleteForChild(w)){y=e.serverCache.getNode();const O=yw(o,n,m.getNode(),y);O!=null?A=m.getNode().getImmediateChild(w).updateChild(C,O):A=m.getNode().getImmediateChild(w)}else A=Lg(o,w,e.serverCache);A!=null?v=i.filter.updateChild(m.getNode(),w,A,C,l,h):v=m.getNode()}}return Nc(e,v,m.isFullyInitialized()||Je(n),i.filter.filtersNodes())}}function Kf(i,e,n,o,l,h,m,v){const y=e.serverCache;let w;const C=m?i.filter:i.filter.getIndexedFilter();if(Je(n))w=C.updateFullNode(y.getNode(),o,null);else if(C.filtersNodes()&&!y.isFiltered()){const Z=y.getNode().updateChild(n,o);w=C.updateFullNode(y.getNode(),Z,null)}else{const Z=et(n);if(!y.isCompleteForPath(n)&&na(n)>1)return e;const F=It(n),Q=y.getNode().getImmediateChild(Z).updateChild(F,o);Z===".priority"?w=C.updatePriority(y.getNode(),Q):w=C.updateChild(y.getNode(),Z,Q,F,zS,null)}const A=LS(e,w,y.isFullyInitialized()||Je(n),C.filtersNodes()),O=new Mg(l,A,h);return BS(i,A,n,l,O,v)}function Km(i,e,n,o,l,h,m){const v=e.eventCache;let y,w;const C=new Mg(l,e,h);if(Je(n))w=i.filter.updateFullNode(e.eventCache.getNode(),o,m),y=Nc(e,w,!0,i.filter.filtersNodes());else{const A=et(n);if(A===".priority")w=i.filter.updatePriority(e.eventCache.getNode(),o),y=Nc(e,w,v.isFullyInitialized(),v.isFiltered());else{const O=It(n),Z=v.getNode().getImmediateChild(A);let F;if(Je(O))F=o;else{const te=C.getCompleteChild(A);te!=null?Tg(O)===".priority"&&te.getChild(ES(O)).isEmpty()?F=te:F=te.updateChild(O,o):F=Ue.EMPTY_NODE}if(Z.equals(F))y=e;else{const te=i.filter.updateChild(v.getNode(),A,F,O,C,m);y=Nc(e,te,v.isFullyInitialized(),i.filter.filtersNodes())}}}return y}function bw(i,e){return i.eventCache.isCompleteForChild(e)}function pO(i,e,n,o,l,h,m){let v=e;return o.foreach((y,w)=>{const C=Ht(n,y);bw(e,et(C))&&(v=Km(i,v,C,w,l,h,m))}),o.foreach((y,w)=>{const C=Ht(n,y);bw(e,et(C))||(v=Km(i,v,C,w,l,h,m))}),v}function ww(i,e,n){return n.foreach((o,l)=>{e=e.updateChild(o,l)}),e}function Xm(i,e,n,o,l,h,m,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y=e,w;Je(n)?w=o:w=new Ot(null).setTree(n,o);const C=e.serverCache.getNode();return w.children.inorderTraversal((A,O)=>{if(C.hasChild(A)){const Z=e.serverCache.getNode().getImmediateChild(A),F=ww(i,Z,O);y=Kf(i,y,new St(A),F,l,h,m,v)}}),w.children.inorderTraversal((A,O)=>{const Z=!e.serverCache.isCompleteForChild(A)&&O.value===null;if(!C.hasChild(A)&&!Z){const F=e.serverCache.getNode().getImmediateChild(A),te=ww(i,F,O);y=Kf(i,y,new St(A),te,l,h,m,v)}}),y}function mO(i,e,n,o,l,h,m){if(Yf(l,n)!=null)return e;const v=e.serverCache.isFiltered(),y=e.serverCache;if(o.value!=null){if(Je(n)&&y.isFullyInitialized()||y.isCompleteForPath(n))return Kf(i,e,n,y.getNode().getChild(n),l,h,v,m);if(Je(n)){let w=new Ot(null);return y.getNode().forEachChild(Jl,(C,A)=>{w=w.set(new St(C),A)}),Xm(i,e,n,w,l,h,v,m)}else return e}else{let w=new Ot(null);return o.foreach((C,A)=>{const O=Ht(n,C);y.isCompleteForPath(O)&&(w=w.set(C,y.getNode().getChild(O)))}),Xm(i,e,n,w,l,h,v,m)}}function gO(i,e,n,o,l){const h=e.serverCache,m=LS(e,h.getNode(),h.isFullyInitialized()||Je(n),h.isFiltered());return BS(i,m,n,o,zS,l)}function _O(i,e,n,o,l,h){let m;if(Yf(o,n)!=null)return e;{const v=new Mg(o,e,l),y=e.eventCache.getNode();let w;if(Je(n)||et(n)===".priority"){let C;if(e.serverCache.isFullyInitialized())C=Wf(o,nl(e));else{const A=e.serverCache.getNode();Ee(A instanceof Ue,"serverChildren would be complete if leaf node"),C=Pg(o,A)}C=C,w=i.filter.updateFullNode(y,C,h)}else{const C=et(n);let A=Lg(o,C,e.serverCache);A==null&&e.serverCache.isCompleteForChild(C)&&(A=y.getImmediateChild(C)),A!=null?w=i.filter.updateChild(y,C,A,It(n),v,h):e.eventCache.getNode().hasChild(C)?w=i.filter.updateChild(y,C,Ue.EMPTY_NODE,It(n),v,h):w=y,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(m=Wf(o,nl(e)),m.isLeafNode()&&(w=i.filter.updateFullNode(w,m,h)))}return m=e.serverCache.isFullyInitialized()||Yf(o,ut())!=null,Nc(e,w,m,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Rg(o.getIndex()),h=kN(o);this.processor_=cO(h);const m=n.serverCache,v=n.eventCache,y=l.updateFullNode(Ue.EMPTY_NODE,m.getNode(),null),w=h.updateFullNode(Ue.EMPTY_NODE,v.getNode(),null),C=new ia(y,m.isFullyInitialized(),l.filtersNodes()),A=new ia(w,v.isFullyInitialized(),h.filtersNodes());this.viewCache_=md(A,C),this.eventGenerator_=new VN(this.query_)}get query(){return this.query_}}function yO(i){return i.viewCache_.serverCache.getNode()}function bO(i){return Zf(i.viewCache_)}function wO(i,e){const n=nl(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!Je(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function Sw(i){return i.eventRegistrations_.length===0}function SO(i,e){i.eventRegistrations_.push(e)}function Ew(i,e,n){const o=[];if(n){Ee(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(n,l);m&&o.push(m)})}if(e){let l=[];for(let h=0;h<i.eventRegistrations_.length;++h){const m=i.eventRegistrations_[h];if(!m.matches(e))l.push(m);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(h+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Tw(i,e,n,o){e.type===Es.MERGE&&e.source.queryId!==null&&(Ee(nl(i.viewCache_),"We should always have a full cache before handling merges"),Ee(Zf(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,h=fO(i.processor_,l,e,n,o);return hO(i.processor_,h.viewCache),Ee(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=h.viewCache,HS(i,h.changes,h.viewCache.eventCache.getNode(),null)}function EO(i,e){const n=i.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qt,(h,m)=>{o.push(ou(h,m))}),n.isFullyInitialized()&&o.push(IS(n.getNode())),HS(i,o,n.getNode(),e)}function HS(i,e,n,o){const l=o?[o]:i.eventRegistrations_;return FN(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;class qS{constructor(){this.views=new Map}}function TO(i){Ee(!Xf,"__referenceConstructor has already been defined"),Xf=i}function xO(){return Ee(Xf,"Reference.ts has not been loaded"),Xf}function CO(i){return i.views.size===0}function Dg(i,e,n,o){const l=e.source.queryId;if(l!==null){const h=i.views.get(l);return Ee(h!=null,"SyncTree gave us an op for an invalid query."),Tw(h,e,n,o)}else{let h=[];for(const m of i.views.values())h=h.concat(Tw(m,e,n,o));return h}}function VS(i,e,n,o,l){const h=e._queryIdentifier,m=i.views.get(h);if(!m){let v=Wf(n,l?o:null),y=!1;v?y=!0:o instanceof Ue?(v=Pg(n,o),y=!1):(v=Ue.EMPTY_NODE,y=!1);const w=md(new ia(v,y,!1),new ia(o,l,!1));return new vO(e,w)}return m}function RO(i,e,n,o,l,h){const m=VS(i,e,o,l,h);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,m),SO(m,n),EO(m,n)}function AO(i,e,n,o){const l=e._queryIdentifier,h=[];let m=[];const v=sa(i);if(l==="default")for(const[y,w]of i.views.entries())m=m.concat(Ew(w,n,o)),Sw(w)&&(i.views.delete(y),w.query._queryParams.loadsAllData()||h.push(w.query));else{const y=i.views.get(l);y&&(m=m.concat(Ew(y,n,o)),Sw(y)&&(i.views.delete(l),y.query._queryParams.loadsAllData()||h.push(y.query)))}return v&&!sa(i)&&h.push(new(xO())(e._repo,e._path)),{removed:h,events:m}}function FS(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Jo(i,e){let n=null;for(const o of i.views.values())n=n||wO(o,e);return n}function GS(i,e){if(e._queryParams.loadsAllData())return _d(i);{const o=e._queryIdentifier;return i.views.get(o)}}function ZS(i,e){return GS(i,e)!=null}function sa(i){return _d(i)!=null}function _d(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;function NO(i){Ee(!$f,"__referenceConstructor has already been defined"),$f=i}function OO(){return Ee($f,"Reference.ts has not been loaded"),$f}let IO=1;class xw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ot(null),this.pendingWriteTree_=oO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WS(i,e,n,o,l){return YN(i.pendingWriteTree_,e,n,o,l),l?yu(i,new tl(Ng(),e,n)):[]}function PO(i,e,n,o){KN(i.pendingWriteTree_,e,n,o);const l=Ot.fromObject(n);return yu(i,new au(Ng(),e,l))}function Ko(i,e,n=!1){const o=XN(i.pendingWriteTree_,e);if($N(i.pendingWriteTree_,e)){let h=new Ot(null);return o.snap!=null?h=h.set(ut(),!0):An(o.children,m=>{h=h.set(new St(m),!0)}),yu(i,new Gf(o.path,h,n))}else return[]}function oh(i,e,n){return yu(i,new tl(Og(),e,n))}function LO(i,e,n){const o=Ot.fromObject(n);return yu(i,new au(Og(),e,o))}function MO(i,e){return yu(i,new Gc(Og(),e))}function DO(i,e,n){const o=jg(i,n);if(o){const l=Ug(o),h=l.path,m=l.queryId,v=Kn(h,e),y=new Gc(Ig(m),v);return zg(i,h,y)}else return[]}function YS(i,e,n,o,l=!1){const h=e._path,m=i.syncPointTree_.get(h);let v=[];if(m&&(e._queryIdentifier==="default"||ZS(m,e))){const y=AO(m,e,n,o);CO(m)&&(i.syncPointTree_=i.syncPointTree_.remove(h));const w=y.removed;if(v=y.events,!l){const C=w.findIndex(O=>O._queryParams.loadsAllData())!==-1,A=i.syncPointTree_.findOnPath(h,(O,Z)=>sa(Z));if(C&&!A){const O=i.syncPointTree_.subtree(h);if(!O.isEmpty()){const Z=zO(O);for(let F=0;F<Z.length;++F){const te=Z[F],Q=te.query,J=QS(i,te);i.listenProvider_.startListening(Ic(Q),Zc(i,Q),J.hashFn,J.onComplete)}}}!A&&w.length>0&&!o&&(C?i.listenProvider_.stopListening(Ic(e),null):w.forEach(O=>{const Z=i.queryToTagMap.get(vd(O));i.listenProvider_.stopListening(Ic(O),Z)}))}BO(i,w)}return v}function KS(i,e,n,o){const l=jg(i,o);if(l!=null){const h=Ug(l),m=h.path,v=h.queryId,y=Kn(m,e),w=new tl(Ig(v),y,n);return zg(i,m,w)}else return[]}function kO(i,e,n,o){const l=jg(i,o);if(l){const h=Ug(l),m=h.path,v=h.queryId,y=Kn(m,e),w=Ot.fromObject(n),C=new au(Ig(v),y,w);return zg(i,m,C)}else return[]}function jO(i,e,n,o=!1){const l=e._path;let h=null,m=!1;i.syncPointTree_.foreachOnPath(l,(O,Z)=>{const F=Kn(O,l);h=h||Jo(Z,F),m=m||sa(Z)});let v=i.syncPointTree_.get(l);v?(m=m||sa(v),h=h||Jo(v,ut())):(v=new qS,i.syncPointTree_=i.syncPointTree_.set(l,v));let y;h!=null?y=!0:(y=!1,h=Ue.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((Z,F)=>{const te=Jo(F,ut());te&&(h=h.updateImmediateChild(Z,te))}));const w=ZS(v,e);if(!w&&!e._queryParams.loadsAllData()){const O=vd(e);Ee(!i.queryToTagMap.has(O),"View does not exist, but we have a tag");const Z=HO();i.queryToTagMap.set(O,Z),i.tagToQueryMap.set(Z,O)}const C=gd(i.pendingWriteTree_,l);let A=RO(v,e,n,C,h,y);if(!w&&!m&&!o){const O=GS(v,e);A=A.concat(qO(i,e,O))}return A}function kg(i,e,n){const l=i.pendingWriteTree_,h=i.syncPointTree_.findOnPath(e,(m,v)=>{const y=Kn(m,e),w=Jo(v,y);if(w)return w});return kS(l,e,h,n,!0)}function UO(i,e){const n=e._path;let o=null;i.syncPointTree_.foreachOnPath(n,(w,C)=>{const A=Kn(w,n);o=o||Jo(C,A)});let l=i.syncPointTree_.get(n);l?o=o||Jo(l,ut()):(l=new qS,i.syncPointTree_=i.syncPointTree_.set(n,l));const h=o!=null,m=h?new ia(o,!0,!1):null,v=gd(i.pendingWriteTree_,e._path),y=VS(l,e,v,h?m.getNode():Ue.EMPTY_NODE,h);return bO(y)}function yu(i,e){return XS(e,i.syncPointTree_,null,gd(i.pendingWriteTree_,ut()))}function XS(i,e,n,o){if(Je(i.path))return $S(i,e,n,o);{const l=e.get(ut());n==null&&l!=null&&(n=Jo(l,ut()));let h=[];const m=et(i.path),v=i.operationForChild(m),y=e.children.get(m);if(y&&v){const w=n?n.getImmediateChild(m):null,C=jS(o,m);h=h.concat(XS(v,y,w,C))}return l&&(h=h.concat(Dg(l,i,o,n))),h}}function $S(i,e,n,o){const l=e.get(ut());n==null&&l!=null&&(n=Jo(l,ut()));let h=[];return e.children.inorderTraversal((m,v)=>{const y=n?n.getImmediateChild(m):null,w=jS(o,m),C=i.operationForChild(m);C&&(h=h.concat($S(C,v,y,w)))}),l&&(h=h.concat(Dg(l,i,o,n))),h}function QS(i,e){const n=e.query,o=Zc(i,n);return{hashFn:()=>(yO(e)||Ue.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?DO(i,n._path,o):MO(i,n._path);{const h=MA(l,n);return YS(i,n,null,h)}}}}function Zc(i,e){const n=vd(e);return i.queryToTagMap.get(n)}function vd(i){return i._path.toString()+"$"+i._queryIdentifier}function jg(i,e){return i.tagToQueryMap.get(e)}function Ug(i){const e=i.indexOf("$");return Ee(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new St(i.substr(0,e))}}function zg(i,e,n){const o=i.syncPointTree_.get(e);Ee(o,"Missing sync point for query tag that we're tracking");const l=gd(i.pendingWriteTree_,e);return Dg(o,n,l,null)}function zO(i){return i.fold((e,n,o)=>{if(n&&sa(n))return[_d(n)];{let l=[];return n&&(l=FS(n)),An(o,(h,m)=>{l=l.concat(m)}),l}})}function Ic(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(OO())(i._repo,i._path):i}function BO(i,e){for(let n=0;n<e.length;++n){const o=e[n];if(!o._queryParams.loadsAllData()){const l=vd(o),h=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(h)}}}function HO(){return IO++}function qO(i,e,n){const o=e._path,l=Zc(i,e),h=QS(i,n),m=i.listenProvider_.startListening(Ic(e),l,h.hashFn,h.onComplete),v=i.syncPointTree_.subtree(o);if(l)Ee(!sa(v.value),"If we're adding a query, it shouldn't be shadowed");else{const y=v.fold((w,C,A)=>{if(!Je(w)&&C&&sa(C))return[_d(C).query];{let O=[];return C&&(O=O.concat(FS(C).map(Z=>Z.query))),An(A,(Z,F)=>{O=O.concat(F)}),O}});for(let w=0;w<y.length;++w){const C=y[w];i.listenProvider_.stopListening(Ic(C),Zc(i,C))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bg(n)}node(){return this.node_}}class Hg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ht(this.path_,e);return new Hg(this.syncTree_,n)}node(){return kg(this.syncTree_,this.path_)}}const VO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Cw=function(i,e,n){if(!i||typeof i!="object")return i;if(Ee(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return FO(i[".sv"],e,n);if(typeof i[".sv"]=="object")return GO(i[".sv"],e);Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},FO=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:Ee(!1,"Unexpected server value: "+i)}},GO=function(i,e,n){i.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&Ee(!1,"Unexpected increment value: "+o);const l=e.node();if(Ee(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},JS=function(i,e,n,o){return qg(e,new Hg(n,i),o)},eE=function(i,e,n){return qg(i,new Bg(e),n)};function qg(i,e,n){const o=i.getPriority().val(),l=Cw(o,e.getImmediateChild(".priority"),n);let h;if(i.isLeafNode()){const m=i,v=Cw(m.getValue(),e,n);return v!==m.getValue()||l!==m.getPriority().val()?new _n(v,on(l)):i}else{const m=i;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new _n(l))),m.forEachChild(qt,(v,y)=>{const w=qg(y,e.getImmediateChild(v),n);w!==y&&(h=h.updateImmediateChild(v,w))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e="",n=null,o={children:{},childCount:0}){this.name=e,this.parent=n,this.node=o}}function Fg(i,e){let n=e instanceof St?e:new St(e),o=i,l=et(n);for(;l!==null;){const h=su(o.node.children,l)||{children:{},childCount:0};o=new Vg(l,o,h),n=It(n),l=et(n)}return o}function bu(i){return i.node.value}function tE(i,e){i.node.value=e,$m(i)}function nE(i){return i.node.childCount>0}function ZO(i){return bu(i)===void 0&&!nE(i)}function yd(i,e){An(i.node.children,(n,o)=>{e(new Vg(n,i,o))})}function iE(i,e,n,o){n&&e(i),yd(i,l=>{iE(l,e,!0)})}function WO(i,e,n){let o=i.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function ah(i){return new St(i.parent===null?i.name:ah(i.parent)+"/"+i.name)}function $m(i){i.parent!==null&&YO(i.parent,i.name,i)}function YO(i,e,n){const o=ZO(n),l=sr(i.node.children,e);o&&l?(delete i.node.children[e],i.node.childCount--,$m(i)):!o&&!l&&(i.node.children[e]=n.node,i.node.childCount++,$m(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/[\[\].#$\/\u0000-\u001F\u007F]/,XO=/[\[\].#$\u0000-\u001F\u007F]/,xm=10*1024*1024,Gg=function(i){return typeof i=="string"&&i.length!==0&&!KO.test(i)},sE=function(i){return typeof i=="string"&&i.length!==0&&!XO.test(i)},$O=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),sE(i)},QO=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!yg(i)||i&&typeof i=="object"&&sr(i,".sv")},rE=function(i,e,n,o){o&&e===void 0||bd(cd(i,"value"),e,n)},bd=function(i,e,n){const o=n instanceof St?new pN(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+Za(o));if(typeof e=="function")throw new Error(i+"contains a function "+Za(o)+" with contents = "+e.toString());if(yg(e))throw new Error(i+"contains "+e.toString()+" "+Za(o));if(typeof e=="string"&&e.length>xm/3&&hd(e)>xm)throw new Error(i+"contains a string greater than "+xm+" utf8 bytes "+Za(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,h=!1;if(An(e,(m,v)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!Gg(m)))throw new Error(i+" contains an invalid key ("+m+") "+Za(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mN(o,m),bd(i,v,o),gN(o)}),l&&h)throw new Error(i+' contains ".value" child '+Za(o)+" in addition to actual children.")}},JO=function(i,e){let n,o;for(n=0;n<e.length;n++){o=e[n];const h=Hc(o);for(let m=0;m<h.length;m++)if(!(h[m]===".priority"&&m===h.length-1)){if(!Gg(h[m]))throw new Error(i+"contains an invalid key ("+h[m]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(dN);let l=null;for(n=0;n<e.length;n++){if(o=e[n],l!==null&&Xi(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},eI=function(i,e,n,o){const l=cd(i,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const h=[];An(e,(m,v)=>{const y=new St(m);if(bd(l,v,Ht(n,y)),Tg(y)===".priority"&&!QO(v))throw new Error(l+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(y)}),JO(l,h)},oE=function(i,e,n,o){if(!sE(n))throw new Error(cd(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tI=function(i,e,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oE(i,e,n)},Zg=function(i,e){if(et(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},nI=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$O(n))throw new Error(cd(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wg(i,e){let n=null;for(let o=0;o<e.length;o++){const l=e[o],h=l.getPath();n!==null&&!TS(h,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:h}),n.events.push(l)}n&&i.eventLists_.push(n)}function Ji(i,e,n){Wg(i,n),sI(i,o=>Xi(o,e)||Xi(e,o))}function sI(i,e){i.recursionDepth_++;let n=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const h=l.path;e(h)?(rI(i.eventLists_[o]),i.eventLists_[o]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function rI(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const o=n.getEventRunner();Rc&&Cn("event: "+n.toString()),vu(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="repo_interrupt",aI=25;class lI{constructor(e,n,o,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ff(),this.transactionQueueTree_=new Vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uI(i,e,n){if(i.stats_=Sg(i.repoInfo_),i.forceRestClient_||UA())i.server_=new Vf(i.repoInfo_,(o,l,h,m)=>{Rw(i,o,l,h,m)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Aw(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new zr(i.repoInfo_,e,(o,l,h,m)=>{Rw(i,o,l,h,m)},o=>{Aw(i,o)},o=>{cI(i,o)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=VA(i.repoInfo_,()=>new qN(i.stats_,i.server_)),i.infoData_=new jN,i.infoSyncTree_=new xw({startListening:(o,l,h,m)=>{let v=[];const y=i.infoData_.getNode(o._path);return y.isEmpty()||(v=oh(i.infoSyncTree_,o._path,y),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),Yg(i,"connected",!1),i.serverSyncTree_=new xw({startListening:(o,l,h,m)=>(i.server_.listen(o,h,l,(v,y)=>{const w=m(v,y);Ji(i.eventQueue_,o._path,w)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function aE(i){const n=i.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wd(i){return VO({timestamp:aE(i)})}function Rw(i,e,n,o,l){i.dataUpdateCount++;const h=new St(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let m=[];if(l)if(o){const y=Uf(n,w=>on(w));m=kO(i.serverSyncTree_,h,y,l)}else{const y=on(n);m=KS(i.serverSyncTree_,h,y,l)}else if(o){const y=Uf(n,w=>on(w));m=LO(i.serverSyncTree_,h,y)}else{const y=on(n);m=oh(i.serverSyncTree_,h,y)}let v=h;m.length>0&&(v=uu(i,h)),Ji(i.eventQueue_,v,m)}function Aw(i,e){Yg(i,"connected",e),e===!1&&pI(i)}function cI(i,e){An(e,(n,o)=>{Yg(i,n,o)})}function Yg(i,e,n){const o=new St("/.info/"+e),l=on(n);i.infoData_.updateSnapshot(o,l);const h=oh(i.infoSyncTree_,o,l);Ji(i.eventQueue_,o,h)}function Kg(i){return i.nextWriteId_++}function hI(i,e,n){const o=UO(i.serverSyncTree_,e);return o!=null?Promise.resolve(o):i.server_.get(e).then(l=>{const h=on(l).withIndex(e._queryParams.getIndex());jO(i.serverSyncTree_,e,n,!0);let m;if(e._queryParams.loadsAllData())m=oh(i.serverSyncTree_,e._path,h);else{const v=Zc(i.serverSyncTree_,e);m=KS(i.serverSyncTree_,e._path,h,v)}return Ji(i.eventQueue_,e._path,m),YS(i.serverSyncTree_,e,n,null,!0),h},l=>(lh(i,"get for query "+an(e)+" failed: "+l),Promise.reject(new Error(l))))}function fI(i,e,n,o,l){lh(i,"set",{path:e.toString(),value:n,priority:o});const h=wd(i),m=on(n,o),v=kg(i.serverSyncTree_,e),y=eE(m,v,h),w=Kg(i),C=WS(i.serverSyncTree_,e,y,w,!0);Wg(i.eventQueue_,C),i.server_.put(e.toString(),m.val(!0),(O,Z)=>{const F=O==="ok";F||Xn("set at "+e+" failed: "+O);const te=Ko(i.serverSyncTree_,w,!F);Ji(i.eventQueue_,e,te),Qm(i,l,O,Z)});const A=$g(i,e);uu(i,A),Ji(i.eventQueue_,A,[])}function dI(i,e,n,o){lh(i,"update",{path:e.toString(),value:n});let l=!0;const h=wd(i),m={};if(An(n,(v,y)=>{l=!1,m[v]=JS(Ht(e,v),on(y),i.serverSyncTree_,h)}),l)Cn("update() called with empty data.  Don't do anything."),Qm(i,o,"ok",void 0);else{const v=Kg(i),y=PO(i.serverSyncTree_,e,m,v);Wg(i.eventQueue_,y),i.server_.merge(e.toString(),n,(w,C)=>{const A=w==="ok";A||Xn("update at "+e+" failed: "+w);const O=Ko(i.serverSyncTree_,v,!A),Z=O.length>0?uu(i,e):e;Ji(i.eventQueue_,Z,O),Qm(i,o,w,C)}),An(n,w=>{const C=$g(i,Ht(e,w));uu(i,C)}),Ji(i.eventQueue_,e,[])}}function pI(i){lh(i,"onDisconnectEvents");const e=wd(i),n=Ff();Gm(i.onDisconnect_,ut(),(l,h)=>{const m=JS(l,h,i.serverSyncTree_,e);PS(n,l,m)});let o=[];Gm(n,ut(),(l,h)=>{o=o.concat(oh(i.serverSyncTree_,l,h));const m=$g(i,l);uu(i,m)}),i.onDisconnect_=Ff(),Ji(i.eventQueue_,ut(),o)}function mI(i){i.persistentConnection_&&i.persistentConnection_.interrupt(oI)}function lh(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),Cn(n,...e)}function Qm(i,e,n,o){e&&vu(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,e(m)}})}function lE(i,e,n){return kg(i.serverSyncTree_,e,n)||Ue.EMPTY_NODE}function Xg(i,e=i.transactionQueueTree_){if(e||Sd(i,e),bu(e)){const n=cE(i,e);Ee(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&gI(i,ah(e),n)}else nE(e)&&yd(e,n=>{Xg(i,n)})}function gI(i,e,n){const o=n.map(w=>w.currentWriteId),l=lE(i,e,o);let h=l;const m=l.hash();for(let w=0;w<n.length;w++){const C=n[w];Ee(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const A=Kn(e,C.path);h=h.updateChild(A,C.currentOutputSnapshotRaw)}const v=h.val(!0),y=e;i.server_.put(y.toString(),v,w=>{lh(i,"transaction put response",{path:y.toString(),status:w});let C=[];if(w==="ok"){const A=[];for(let O=0;O<n.length;O++)n[O].status=2,C=C.concat(Ko(i.serverSyncTree_,n[O].currentWriteId)),n[O].onComplete&&A.push(()=>n[O].onComplete(null,!0,n[O].currentOutputSnapshotResolved)),n[O].unwatcher();Sd(i,Fg(i.transactionQueueTree_,e)),Xg(i,i.transactionQueueTree_),Ji(i.eventQueue_,e,C);for(let O=0;O<A.length;O++)vu(A[O])}else{if(w==="datastale")for(let A=0;A<n.length;A++)n[A].status===3?n[A].status=4:n[A].status=0;else{Xn("transaction at "+y.toString()+" failed: "+w);for(let A=0;A<n.length;A++)n[A].status=4,n[A].abortReason=w}uu(i,e)}},m)}function uu(i,e){const n=uE(i,e),o=ah(n),l=cE(i,n);return _I(i,l,o),o}function _I(i,e,n){if(e.length===0)return;const o=[];let l=[];const m=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const y=e[v],w=Kn(n,y.path);let C=!1,A;if(Ee(w!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)C=!0,A=y.abortReason,l=l.concat(Ko(i.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=aI)C=!0,A="maxretry",l=l.concat(Ko(i.serverSyncTree_,y.currentWriteId,!0));else{const O=lE(i,y.path,m);y.currentInputSnapshot=O;const Z=e[v].update(O.val());if(Z!==void 0){bd("transaction failed: Data returned ",Z,y.path);let F=on(Z);typeof Z=="object"&&Z!=null&&sr(Z,".priority")||(F=F.updatePriority(O.getPriority()));const Q=y.currentWriteId,J=wd(i),G=eE(F,O,J);y.currentOutputSnapshotRaw=F,y.currentOutputSnapshotResolved=G,y.currentWriteId=Kg(i),m.splice(m.indexOf(Q),1),l=l.concat(WS(i.serverSyncTree_,y.path,G,y.currentWriteId,y.applyLocally)),l=l.concat(Ko(i.serverSyncTree_,Q,!0))}else C=!0,A="nodata",l=l.concat(Ko(i.serverSyncTree_,y.currentWriteId,!0))}Ji(i.eventQueue_,n,l),l=[],C&&(e[v].status=2,function(O){setTimeout(O,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(A==="nodata"?o.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):o.push(()=>e[v].onComplete(new Error(A),!1,null))))}Sd(i,i.transactionQueueTree_);for(let v=0;v<o.length;v++)vu(o[v]);Xg(i,i.transactionQueueTree_)}function uE(i,e){let n,o=i.transactionQueueTree_;for(n=et(e);n!==null&&bu(o)===void 0;)o=Fg(o,n),e=It(e),n=et(e);return o}function cE(i,e){const n=[];return hE(i,e,n),n.sort((o,l)=>o.order-l.order),n}function hE(i,e,n){const o=bu(e);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);yd(e,l=>{hE(i,l,n)})}function Sd(i,e){const n=bu(e);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,tE(e,n.length>0?n:void 0)}yd(e,o=>{Sd(i,o)})}function $g(i,e){const n=ah(uE(i,e)),o=Fg(i.transactionQueueTree_,e);return WO(o,l=>{Cm(i,l)}),Cm(i,o),iE(o,l=>{Cm(i,l)}),n}function Cm(i,e){const n=bu(e);if(n){const o=[];let l=[],h=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(Ee(h===m-1,"All SENT items should be at beginning of queue."),h=m,n[m].status=3,n[m].abortReason="set"):(Ee(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Ko(i.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?tE(e,void 0):n.length=h+1,Ji(i.eventQueue_,ah(e),l);for(let m=0;m<o.length;m++)vu(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){let e="";const n=i.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function yI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Xn(`Invalid query segment '${n}' in query '${i}'`)}return e}const Nw=function(i,e){const n=bI(i),o=n.namespace;n.domain==="firebase.com"&&Vr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||NA();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pS(n.host,n.secure,o,l,e,"",o!==n.subdomain),path:new St(n.pathString)}},bI=function(i){let e="",n="",o="",l="",h="",m=!0,v="https",y=443;if(typeof i=="string"){let w=i.indexOf("//");w>=0&&(v=i.substring(0,w-1),i=i.substring(w+2));let C=i.indexOf("/");C===-1&&(C=i.length);let A=i.indexOf("?");A===-1&&(A=i.length),e=i.substring(0,Math.min(C,A)),C<A&&(l=vI(i.substring(C,A)));const O=yI(i.substring(Math.min(i.length,A)));w=e.indexOf(":"),w>=0?(m=v==="https"||v==="wss",y=parseInt(e.substring(w+1),10)):w=e.length;const Z=e.slice(0,w);if(Z.toLowerCase()==="localhost")n="localhost";else if(Z.split(".").length<=2)n=Z;else{const F=e.indexOf(".");o=e.substring(0,F).toLowerCase(),n=e.substring(F+1),h=o}"ns"in O&&(h=O.ns)}return{host:e,port:y,domain:n,subdomain:o,secure:m,scheme:v,pathString:l,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wI=function(){let i=0;const e=[];return function(n){const o=n===i;i=n;let l;const h=new Array(8);for(l=7;l>=0;l--)h[l]=Ow.charAt(n%64),n=Math.floor(n/64);Ee(n===0,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)m+=Ow.charAt(e[l]);return Ee(m.length===20,"nextPushId: Length should be 20."),m}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,o,l){this.eventType=e,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+an(this.snapshot.exportVal())}}class EI{constructor(e,n,o){this.eventRegistration=e,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,o,l){this._repo=e,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return Je(this._path)?null:Tg(this._path)}get ref(){return new Wr(this._repo,this._path)}get _queryIdentifier(){const e=mw(this._queryParams),n=bg(e);return n==="{}"?"default":n}get _queryObject(){return mw(this._queryParams)}isEqual(e){if(e=Nn(e),!(e instanceof Qg))return!1;const n=this._repo===e._repo,o=TS(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+fN(this._path)}}class Wr extends Qg{constructor(e,n){super(e,n,new Ag,!1)}get parent(){const e=ES(this._path);return e===null?null:new Wr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wc{constructor(e,n,o){this._node=e,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new St(e),o=Yc(this.ref,e);return new Wc(this._node.getChild(n),o,qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>e(new Wc(l,Yc(this.ref,o),qt)))}hasChild(e){const n=new St(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tr(i,e){return i=Nn(i),i._checkNotDeleted("ref"),e!==void 0?Yc(i._root,e):i._root}function Yc(i,e){return i=Nn(i),et(i._path)===null?tI("child","path",e):oE("child","path",e),new Wr(i._repo,Ht(i._path,e))}function fE(i,e){i=Nn(i),Zg("push",i._path),rE("push",e,i._path,!0);const n=aE(i._repo),o=wI(n),l=Yc(i,o),h=Yc(i,o);let m;return m=Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}function xI(i){return Zg("remove",i._path),Qf(i,null)}function Qf(i,e){i=Nn(i),Zg("set",i._path),rE("set",e,i._path,!1);const n=new eh;return fI(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function CI(i,e){eI("update",e,i._path);const n=new eh;return dI(i._repo,i._path,e,n.wrapCallback(()=>{})),n.promise}function ll(i){i=Nn(i);const e=new TI(()=>{}),n=new Jg(e);return hI(i._repo,i,n).then(o=>new Wc(o,new Wr(i._repo,i._path),i._queryParams.getIndex()))}class Jg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const o=n._queryParams.getIndex();return new SI("value",this,new Wc(e.snapshotNode,new Wr(n._repo,n._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new EI(this,e,n):null}matches(e){return e instanceof Jg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}TO(Wr);NO(Wr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FIREBASE_DATABASE_EMULATOR_HOST",Jm={};let AI=!1;function NI(i,e,n,o){const l=e.lastIndexOf(":"),h=e.substring(0,l),m=Zr(h);i.repoInfo_=new pS(e,m,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),o&&(i.authTokenProvider_=o)}function OI(i,e,n,o,l){let h=o||i.options.databaseURL;h===void 0&&(i.options.projectId||Vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cn("Using default host for project ",i.options.projectId),h=`${i.options.projectId}-default-rtdb.firebaseio.com`);let m=Nw(h,l),v=m.repoInfo,y;typeof process<"u"&&$b&&(y=$b[RI]),y?(h=`http://${y}?ns=${v.namespace}`,m=Nw(h,l),v=m.repoInfo):m.repoInfo.secure;const w=new BA(i.name,i.options,e);nI("Invalid Firebase Database URL",m),Je(m.path)||Vr("Database URL must point to the root of a Firebase Database (not including a child path).");const C=PI(v,i,w,new zA(i,n));return new LI(C,i)}function II(i,e){const n=Jm[e];(!n||n[i.key]!==i)&&Vr(`Database ${e}(${i.repoInfo_}) has already been deleted.`),mI(i),delete n[i.key]}function PI(i,e,n,o){let l=Jm[e.name];l||(l={},Jm[e.name]=l);let h=l[i.toURLString()];return h&&Vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new lI(i,AI,n,o),l[i.toURLString()]=h,h}class LI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wr(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(II(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vr("Cannot call "+e+" on a deleted database.")}}function MI(i=dd(),e){const n=nh(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const o=mg("database");o&&DI(n,...o)}return n}function DI(i,e,n,o={}){i=Nn(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,h=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&ea(o,h.repoInfo_.emulatorOptions))return;Vr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)o.mockUserToken&&Vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new Nf(Nf.OWNER);else if(o.mockUserToken){const v=typeof o.mockUserToken=="string"?o.mockUserToken:gg(o.mockUserToken,i.app.options.projectId);m=new Nf(v)}Zr(e)&&(ld(e),ud("Database",!0)),NI(h,l,o,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(i){EA(aa),ta(new Hr("database",(e,{instanceIdentifier:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),h=e.getProvider("app-check-internal");return OI(o,l,h,n)},"PUBLIC").setMultipleInstances(!0)),$i(Qb,Jb,i),$i(Qb,Jb,"esm2020")}zr.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};zr.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};kI();var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,R){function P(){}P.prototype=R.prototype,H.D=R.prototype,H.prototype=new P,H.prototype.constructor=H,H.C=function(z,j,I){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return R.prototype[j].apply(z,D)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,R,P){P||(P=0);var z=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)z[j]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(j=0;16>j;++j)z[j]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=H.g[0],P=H.g[1],j=H.g[2];var I=H.g[3],D=R+(I^P&(j^I))+z[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=I+(j^R&(P^j))+z[1]+3905402710&4294967295,I=R+(D<<12&4294967295|D>>>20),D=j+(P^I&(R^P))+z[2]+606105819&4294967295,j=I+(D<<17&4294967295|D>>>15),D=P+(R^j&(I^R))+z[3]+3250441966&4294967295,P=j+(D<<22&4294967295|D>>>10),D=R+(I^P&(j^I))+z[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=I+(j^R&(P^j))+z[5]+1200080426&4294967295,I=R+(D<<12&4294967295|D>>>20),D=j+(P^I&(R^P))+z[6]+2821735955&4294967295,j=I+(D<<17&4294967295|D>>>15),D=P+(R^j&(I^R))+z[7]+4249261313&4294967295,P=j+(D<<22&4294967295|D>>>10),D=R+(I^P&(j^I))+z[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=I+(j^R&(P^j))+z[9]+2336552879&4294967295,I=R+(D<<12&4294967295|D>>>20),D=j+(P^I&(R^P))+z[10]+4294925233&4294967295,j=I+(D<<17&4294967295|D>>>15),D=P+(R^j&(I^R))+z[11]+2304563134&4294967295,P=j+(D<<22&4294967295|D>>>10),D=R+(I^P&(j^I))+z[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=I+(j^R&(P^j))+z[13]+4254626195&4294967295,I=R+(D<<12&4294967295|D>>>20),D=j+(P^I&(R^P))+z[14]+2792965006&4294967295,j=I+(D<<17&4294967295|D>>>15),D=P+(R^j&(I^R))+z[15]+1236535329&4294967295,P=j+(D<<22&4294967295|D>>>10),D=R+(j^I&(P^j))+z[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=I+(P^j&(R^P))+z[6]+3225465664&4294967295,I=R+(D<<9&4294967295|D>>>23),D=j+(R^P&(I^R))+z[11]+643717713&4294967295,j=I+(D<<14&4294967295|D>>>18),D=P+(I^R&(j^I))+z[0]+3921069994&4294967295,P=j+(D<<20&4294967295|D>>>12),D=R+(j^I&(P^j))+z[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=I+(P^j&(R^P))+z[10]+38016083&4294967295,I=R+(D<<9&4294967295|D>>>23),D=j+(R^P&(I^R))+z[15]+3634488961&4294967295,j=I+(D<<14&4294967295|D>>>18),D=P+(I^R&(j^I))+z[4]+3889429448&4294967295,P=j+(D<<20&4294967295|D>>>12),D=R+(j^I&(P^j))+z[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=I+(P^j&(R^P))+z[14]+3275163606&4294967295,I=R+(D<<9&4294967295|D>>>23),D=j+(R^P&(I^R))+z[3]+4107603335&4294967295,j=I+(D<<14&4294967295|D>>>18),D=P+(I^R&(j^I))+z[8]+1163531501&4294967295,P=j+(D<<20&4294967295|D>>>12),D=R+(j^I&(P^j))+z[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=I+(P^j&(R^P))+z[2]+4243563512&4294967295,I=R+(D<<9&4294967295|D>>>23),D=j+(R^P&(I^R))+z[7]+1735328473&4294967295,j=I+(D<<14&4294967295|D>>>18),D=P+(I^R&(j^I))+z[12]+2368359562&4294967295,P=j+(D<<20&4294967295|D>>>12),D=R+(P^j^I)+z[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=I+(R^P^j)+z[8]+2272392833&4294967295,I=R+(D<<11&4294967295|D>>>21),D=j+(I^R^P)+z[11]+1839030562&4294967295,j=I+(D<<16&4294967295|D>>>16),D=P+(j^I^R)+z[14]+4259657740&4294967295,P=j+(D<<23&4294967295|D>>>9),D=R+(P^j^I)+z[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=I+(R^P^j)+z[4]+1272893353&4294967295,I=R+(D<<11&4294967295|D>>>21),D=j+(I^R^P)+z[7]+4139469664&4294967295,j=I+(D<<16&4294967295|D>>>16),D=P+(j^I^R)+z[10]+3200236656&4294967295,P=j+(D<<23&4294967295|D>>>9),D=R+(P^j^I)+z[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=I+(R^P^j)+z[0]+3936430074&4294967295,I=R+(D<<11&4294967295|D>>>21),D=j+(I^R^P)+z[3]+3572445317&4294967295,j=I+(D<<16&4294967295|D>>>16),D=P+(j^I^R)+z[6]+76029189&4294967295,P=j+(D<<23&4294967295|D>>>9),D=R+(P^j^I)+z[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=I+(R^P^j)+z[12]+3873151461&4294967295,I=R+(D<<11&4294967295|D>>>21),D=j+(I^R^P)+z[15]+530742520&4294967295,j=I+(D<<16&4294967295|D>>>16),D=P+(j^I^R)+z[2]+3299628645&4294967295,P=j+(D<<23&4294967295|D>>>9),D=R+(j^(P|~I))+z[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=I+(P^(R|~j))+z[7]+1126891415&4294967295,I=R+(D<<10&4294967295|D>>>22),D=j+(R^(I|~P))+z[14]+2878612391&4294967295,j=I+(D<<15&4294967295|D>>>17),D=P+(I^(j|~R))+z[5]+4237533241&4294967295,P=j+(D<<21&4294967295|D>>>11),D=R+(j^(P|~I))+z[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=I+(P^(R|~j))+z[3]+2399980690&4294967295,I=R+(D<<10&4294967295|D>>>22),D=j+(R^(I|~P))+z[10]+4293915773&4294967295,j=I+(D<<15&4294967295|D>>>17),D=P+(I^(j|~R))+z[1]+2240044497&4294967295,P=j+(D<<21&4294967295|D>>>11),D=R+(j^(P|~I))+z[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=I+(P^(R|~j))+z[15]+4264355552&4294967295,I=R+(D<<10&4294967295|D>>>22),D=j+(R^(I|~P))+z[6]+2734768916&4294967295,j=I+(D<<15&4294967295|D>>>17),D=P+(I^(j|~R))+z[13]+1309151649&4294967295,P=j+(D<<21&4294967295|D>>>11),D=R+(j^(P|~I))+z[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=I+(P^(R|~j))+z[11]+3174756917&4294967295,I=R+(D<<10&4294967295|D>>>22),D=j+(R^(I|~P))+z[2]+718787259&4294967295,j=I+(D<<15&4294967295|D>>>17),D=P+(I^(j|~R))+z[9]+3951481745&4294967295,H.g[0]=H.g[0]+R&4294967295,H.g[1]=H.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,H.g[2]=H.g[2]+j&4294967295,H.g[3]=H.g[3]+I&4294967295}o.prototype.u=function(H,R){R===void 0&&(R=H.length);for(var P=R-this.blockSize,z=this.B,j=this.h,I=0;I<R;){if(j==0)for(;I<=P;)l(this,H,I),I+=this.blockSize;if(typeof H=="string"){for(;I<R;)if(z[j++]=H.charCodeAt(I++),j==this.blockSize){l(this,z),j=0;break}}else for(;I<R;)if(z[j++]=H[I++],j==this.blockSize){l(this,z),j=0;break}}this.h=j,this.o+=R},o.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var R=1;R<H.length-8;++R)H[R]=0;var P=8*this.o;for(R=H.length-8;R<H.length;++R)H[R]=P&255,P/=256;for(this.u(H),H=Array(16),R=P=0;4>R;++R)for(var z=0;32>z;z+=8)H[P++]=this.g[R]>>>z&255;return H};function h(H,R){var P=v;return Object.prototype.hasOwnProperty.call(P,H)?P[H]:P[H]=R(H)}function m(H,R){this.h=R;for(var P=[],z=!0,j=H.length-1;0<=j;j--){var I=H[j]|0;z&&I==R||(P[j]=I,z=!1)}this.g=P}var v={};function y(H){return-128<=H&&128>H?h(H,function(R){return new m([R|0],0>R?-1:0)}):new m([H|0],0>H?-1:0)}function w(H){if(isNaN(H)||!isFinite(H))return A;if(0>H)return Q(w(-H));for(var R=[],P=1,z=0;H>=P;z++)R[z]=H/P|0,P*=4294967296;return new m(R,0)}function C(H,R){if(H.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(H.charAt(0)=="-")return Q(C(H.substring(1),R));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=w(Math.pow(R,8)),z=A,j=0;j<H.length;j+=8){var I=Math.min(8,H.length-j),D=parseInt(H.substring(j,j+I),R);8>I?(I=w(Math.pow(R,I)),z=z.j(I).add(w(D))):(z=z.j(P),z=z.add(w(D)))}return z}var A=y(0),O=y(1),Z=y(16777216);i=m.prototype,i.m=function(){if(te(this))return-Q(this).m();for(var H=0,R=1,P=0;P<this.g.length;P++){var z=this.i(P);H+=(0<=z?z:4294967296+z)*R,R*=4294967296}return H},i.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(F(this))return"0";if(te(this))return"-"+Q(this).toString(H);for(var R=w(Math.pow(H,6)),P=this,z="";;){var j=me(P,R).g;P=J(P,j.j(R));var I=((0<P.g.length?P.g[0]:P.h)>>>0).toString(H);if(P=j,F(P))return I+z;for(;6>I.length;)I="0"+I;z=I+z}},i.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function F(H){if(H.h!=0)return!1;for(var R=0;R<H.g.length;R++)if(H.g[R]!=0)return!1;return!0}function te(H){return H.h==-1}i.l=function(H){return H=J(this,H),te(H)?-1:F(H)?0:1};function Q(H){for(var R=H.g.length,P=[],z=0;z<R;z++)P[z]=~H.g[z];return new m(P,~H.h).add(O)}i.abs=function(){return te(this)?Q(this):this},i.add=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],z=0,j=0;j<=R;j++){var I=z+(this.i(j)&65535)+(H.i(j)&65535),D=(I>>>16)+(this.i(j)>>>16)+(H.i(j)>>>16);z=D>>>16,I&=65535,D&=65535,P[j]=D<<16|I}return new m(P,P[P.length-1]&-2147483648?-1:0)};function J(H,R){return H.add(Q(R))}i.j=function(H){if(F(this)||F(H))return A;if(te(this))return te(H)?Q(this).j(Q(H)):Q(Q(this).j(H));if(te(H))return Q(this.j(Q(H)));if(0>this.l(Z)&&0>H.l(Z))return w(this.m()*H.m());for(var R=this.g.length+H.g.length,P=[],z=0;z<2*R;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<H.g.length;j++){var I=this.i(z)>>>16,D=this.i(z)&65535,ce=H.i(j)>>>16,B=H.i(j)&65535;P[2*z+2*j]+=D*B,G(P,2*z+2*j),P[2*z+2*j+1]+=I*B,G(P,2*z+2*j+1),P[2*z+2*j+1]+=D*ce,G(P,2*z+2*j+1),P[2*z+2*j+2]+=I*ce,G(P,2*z+2*j+2)}for(z=0;z<R;z++)P[z]=P[2*z+1]<<16|P[2*z];for(z=R;z<2*R;z++)P[z]=0;return new m(P,0)};function G(H,R){for(;(H[R]&65535)!=H[R];)H[R+1]+=H[R]>>>16,H[R]&=65535,R++}function X(H,R){this.g=H,this.h=R}function me(H,R){if(F(R))throw Error("division by zero");if(F(H))return new X(A,A);if(te(H))return R=me(Q(H),R),new X(Q(R.g),Q(R.h));if(te(R))return R=me(H,Q(R)),new X(Q(R.g),R.h);if(30<H.g.length){if(te(H)||te(R))throw Error("slowDivide_ only works with positive integers.");for(var P=O,z=R;0>=z.l(H);)P=ae(P),z=ae(z);var j=$(P,1),I=$(z,1);for(z=$(z,2),P=$(P,2);!F(z);){var D=I.add(z);0>=D.l(H)&&(j=j.add(P),I=D),z=$(z,1),P=$(P,1)}return R=J(H,j.j(R)),new X(j,R)}for(j=A;0<=H.l(R);){for(P=Math.max(1,Math.floor(H.m()/R.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),I=w(P),D=I.j(R);te(D)||0<D.l(H);)P-=z,I=w(P),D=I.j(R);F(I)&&(I=O),j=j.add(I),H=J(H,D)}return new X(j,H)}i.A=function(H){return me(this,H).h},i.and=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],z=0;z<R;z++)P[z]=this.i(z)&H.i(z);return new m(P,this.h&H.h)},i.or=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],z=0;z<R;z++)P[z]=this.i(z)|H.i(z);return new m(P,this.h|H.h)},i.xor=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],z=0;z<R;z++)P[z]=this.i(z)^H.i(z);return new m(P,this.h^H.h)};function ae(H){for(var R=H.g.length+1,P=[],z=0;z<R;z++)P[z]=H.i(z)<<1|H.i(z-1)>>>31;return new m(P,H.h)}function $(H,R){var P=R>>5;R%=32;for(var z=H.g.length-P,j=[],I=0;I<z;I++)j[I]=0<R?H.i(I+P)>>>R|H.i(I+P+1)<<32-R:H.i(I+P);return new m(j,H.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=w,m.fromString=C,e_=m}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var o=n(this);function l(f,b){if(b)e:{var T=o;f=f.split(".");for(var k=0;k<f.length-1;k++){var ie=f[k];if(!(ie in T))break e;T=T[ie]}f=f[f.length-1],k=T[f],b=b(k),b!=k&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function h(f,b){f instanceof String&&(f+="");var T=0,k=!1,ie={next:function(){if(!k&&T<f.length){var pe=T++;return{value:b(pe,f[pe]),done:!1}}return k=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}l("Array.prototype.values",function(f){return f||function(){return h(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},v=this||self;function y(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function w(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function C(f,b,T){return f.call.apply(f.bind,arguments)}function A(f,b,T){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,k),f.apply(b,ie)}}return function(){return f.apply(b,arguments)}}function O(f,b,T){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:A,O.apply(null,arguments)}function Z(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function F(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(k,ie,pe){for(var Se=Array(arguments.length-2),at=2;at<arguments.length;at++)Se[at-2]=arguments[at];return b.prototype[ie].apply(k,Se)}}function te(f){const b=f.length;if(0<b){const T=Array(b);for(let k=0;k<b;k++)T[k]=f[k];return T}return[]}function Q(f,b){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(y(k)){const ie=f.length||0,pe=k.length||0;f.length=ie+pe;for(let Se=0;Se<pe;Se++)f[ie+Se]=k[Se]}else f.push(k)}}class J{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function G(f){return/^[\s\xa0]*$/.test(f)}function X(){var f=v.navigator;return f&&(f=f.userAgent)?f:""}function me(f){return me[" "](f),f}me[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function $(f,b,T){for(const k in f)b.call(T,f[k],k,f)}function H(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function R(f){const b={};for(const T in f)b[T]=f[T];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(f,b){let T,k;for(let ie=1;ie<arguments.length;ie++){k=arguments[ie];for(T in k)f[T]=k[T];for(let pe=0;pe<P.length;pe++)T=P[pe],Object.prototype.hasOwnProperty.call(k,T)&&(f[T]=k[T])}}function j(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function I(f){v.setTimeout(()=>{throw f},0)}function D(){var f=Ce;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ce{constructor(){this.h=this.g=null}add(b,T){const k=B.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new J(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,re=!1,Ce=new ce,U=()=>{const f=v.Promise.resolve(void 0);se=()=>{f.then(ue)}};var ue=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){I(T)}var b=B;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}re=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};v.addEventListener("test",T,b),v.removeEventListener("test",T,b)}catch{}return f}();function Ae(f,b){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(ae){e:{try{me(b.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}F(Ae,ye);var xe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function li(f,b,T,k,ie){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=ie,this.key=++Ke,this.da=this.fa=!1}function Ii(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ui(f){this.src=f,this.g={},this.h=0}ui.prototype.add=function(f,b,T,k,ie){var pe=f.toString();f=this.g[pe],f||(f=this.g[pe]=[],this.h++);var Se=ts(f,b,k,ie);return-1<Se?(b=f[Se],T||(b.fa=!1)):(b=new li(b,this.src,pe,!!k,ie),b.fa=T,f.push(b)),b};function ci(f,b){var T=b.type;if(T in f.g){var k=f.g[T],ie=Array.prototype.indexOf.call(k,b,void 0),pe;(pe=0<=ie)&&Array.prototype.splice.call(k,ie,1),pe&&(Ii(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ts(f,b,T,k){for(var ie=0;ie<f.length;++ie){var pe=f[ie];if(!pe.da&&pe.listener==b&&pe.capture==!!T&&pe.ha==k)return ie}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),Yr={};function la(f,b,T,k,ie){if(Array.isArray(b)){for(var pe=0;pe<b.length;pe++)la(f,b[pe],T,k,ie);return null}return T=cl(T),f&&f[pt]?f.K(b,T,w(k)?!!k.capture:!1,ie):On(f,b,T,!1,k,ie)}function On(f,b,T,k,ie,pe){if(!b)throw Error("Invalid event type");var Se=w(ie)?!!ie.capture:!!ie,at=ar(f);if(at||(f[rr]=at=new ui(f)),T=at.add(b,T,k,Se,pe),T.proxy)return T;if(k=Kr(),T.proxy=k,k.src=f,k.listener=T,f.addEventListener)Te||(ie=Se),ie===void 0&&(ie=!1),f.addEventListener(b.toString(),k,ie);else if(f.attachEvent)f.attachEvent(ns(b.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Kr(){function f(T){return b.call(f.src,f.listener,T)}const b=ul;return f}function ua(f,b,T,k,ie){if(Array.isArray(b))for(var pe=0;pe<b.length;pe++)ua(f,b[pe],T,k,ie);else k=w(k)?!!k.capture:!!k,T=cl(T),f&&f[pt]?(f=f.i,b=String(b).toString(),b in f.g&&(pe=f.g[b],T=ts(pe,T,k,ie),-1<T&&(Ii(pe[T]),Array.prototype.splice.call(pe,T,1),pe.length==0&&(delete f.g[b],f.h--)))):f&&(f=ar(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ts(b,T,k,ie)),(T=-1<f?b[f]:null)&&or(T))}function or(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[pt])ci(b.i,f);else{var T=f.type,k=f.proxy;b.removeEventListener?b.removeEventListener(T,k,f.capture):b.detachEvent?b.detachEvent(ns(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=ar(b))?(ci(T,f),T.h==0&&(T.src=null,b[rr]=null)):Ii(f)}}}function ns(f){return f in Yr?Yr[f]:Yr[f]="on"+f}function ul(f,b){if(f.da)f=!0;else{b=new Ae(b,this);var T=f.listener,k=f.ha||f.src;f.fa&&or(f),f=T.call(k,b)}return f}function ar(f){return f=f[rr],f instanceof ui?f:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(f){return typeof f=="function"?f:(f[ca]||(f[ca]=function(b){return f.handleEvent(b)}),f[ca])}function Tt(){be.call(this),this.i=new ui(this),this.M=this,this.F=null}F(Tt,be),Tt.prototype[pt]=!0,Tt.prototype.removeEventListener=function(f,b,T,k){ua(this,f,b,T,k)};function ot(f,b){var T,k=f.F;if(k)for(T=[];k;k=k.F)T.push(k);if(f=f.M,k=b.type||b,typeof b=="string")b=new ye(b,f);else if(b instanceof ye)b.target=b.target||f;else{var ie=b;b=new ye(k,f),z(b,ie)}if(ie=!0,T)for(var pe=T.length-1;0<=pe;pe--){var Se=b.g=T[pe];ie=In(Se,k,!0,b)&&ie}if(Se=b.g=f,ie=In(Se,k,!0,b)&&ie,ie=In(Se,k,!1,b)&&ie,T)for(pe=0;pe<T.length;pe++)Se=b.g=T[pe],ie=In(Se,k,!1,b)&&ie}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],k=0;k<T.length;k++)Ii(T[k]);delete f.g[b],f.h--}}this.F=null},Tt.prototype.K=function(f,b,T,k){return this.i.add(String(f),b,!1,T,k)},Tt.prototype.L=function(f,b,T,k){return this.i.add(String(f),b,!0,T,k)};function In(f,b,T,k){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var ie=!0,pe=0;pe<b.length;++pe){var Se=b[pe];if(Se&&!Se.da&&Se.capture==T){var at=Se.listener,Rt=Se.ha||Se.src;Se.fa&&ci(f.i,Se),ie=at.call(Rt,k)!==!1&&ie}}return ie&&!k.defaultPrevented}function ln(f,b,T){if(typeof f=="function")T&&(f=O(f,T));else if(f&&typeof f.handleEvent=="function")f=O(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:v.setTimeout(f,b||0)}function ha(f){f.g=ln(()=>{f.g=null,f.i&&(f.i=!1,ha(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class hl extends be{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(f){be.call(this),this.h=f,this.g={}}F(lr,be);var Ns=[];function is(f){$(f.g,function(b,T){this.g.hasOwnProperty(T)&&or(b)},f),f.g={}}lr.prototype.N=function(){lr.aa.N.call(this),is(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=v.JSON.stringify,Xr=v.JSON.parse,hi=class{stringify(f){return v.JSON.stringify(f,void 0)}parse(f){return v.JSON.parse(f,void 0)}};function fa(){}fa.prototype.h=null;function da(f){return f.h||(f.h=f.i())}function pa(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ye.call(this,"d")}F(Li,ye);function ma(){ye.call(this,"c")}F(ma,ye);var ss={},ga=null;function ur(){return ga=ga||new Tt}ss.La="serverreachability";function $r(f){ye.call(this,ss.La,f)}F($r,ye);function Os(f){const b=ur();ot(b,new $r(b))}ss.STAT_EVENT="statevent";function Qr(f,b){ye.call(this,ss.STAT_EVENT,f),this.stat=b}F(Qr,ye);function xt(f){const b=ur();ot(b,new Qr(b,f))}ss.Ma="timingevent";function Gt(f,b){ye.call(this,ss.Ma,f),this.size=b}F(Gt,ye);function zt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){f()},b)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Pn(f,b,T,k,ie,pe){f.info(function(){if(f.g)if(pe)for(var Se="",at=pe.split("&"),Rt=0;Rt<at.length;Rt++){var Xe=at[Rt].split("=");if(1<Xe.length){var Xt=Xe[0];Xe=Xe[1];var dt=Xt.split("_");Se=2<=dt.length&&dt[1]=="type"?Se+(Xt+"="+Xe+"&"):Se+(Xt+"=redacted&")}}else Se=null;else Se=pe;return"XMLHTTP REQ ("+k+") [attempt "+ie+"]: "+b+`
`+T+`
`+Se})}function Pe(f,b,T,k,ie,pe,Se){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ie+"]: "+b+`
`+T+`
`+pe+" "+Se})}function rs(f,b,T,k){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Is(f,T)+(k?" "+k:"")})}function _a(f,b){f.info(function(){return"TIMEOUT: "+b})}Jn.prototype.info=function(){};function Is(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var k=T[f];if(!(2>k.length)){var ie=k[1];if(Array.isArray(ie)&&!(1>ie.length)){var pe=ie[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Se=1;Se<ie.length;Se++)ie[Se]=""}}}}return Qn(T)}catch{return b}}var Ps={NO_ERROR:0,TIMEOUT:8},Mi={},fi;function yn(){}F(yn,fa),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},fi=new yn;function un(f,b,T,k){this.j=f,this.i=b,this.l=T,this.R=k||1,this.U=new lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var va={},Jr={};function di(f,b,T){f.L=1,f.v=Bn(Ct(b)),f.m=T,f.P=!0,Di(f,null)}function Di(f,b){f.F=Date.now(),hr(f),f.A=Ct(f.v);var T=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),wa(T.i,"t",k),f.C=0,T=f.j.J,f.h=new kt,f.g=_l(f.j,T?b:null,!f.m),0<f.O&&(f.M=new hl(O(f.Y,f,f.g),f.O)),b=f.U,T=f.g,k=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ns[0]=ie.toString()),ie=Ns);for(var pe=0;pe<ie.length;pe++){var Se=la(T,ie[pe],k||b.handleEvent,!1,b.h||b);if(!Se)break;b.g[Se.key]=Se}b=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Os(),Pn(f.i,f.u,f.A,f.l,f.R,f.m)}un.prototype.ca=function(f){f=f.target;const b=this.M;b&&fn(f)==3?b.j():this.Y(f)},un.prototype.Y=function(f){try{if(f==this.g)e:{const dt=fn(this.g);var b=this.g.Ba();const kn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||dt!=4||b==7||(b==8||0>=kn?Os(3):Os(2)),Ls(this);var T=this.g.Z();this.X=T;t:if(fl(this)){var k=Sa(this.g);f="";var ie=k.length,pe=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),ki(this);var Se="";break t}this.h.i=new v.TextDecoder}for(b=0;b<ie;b++)this.h.h=!0,f+=this.h.i.decode(k[b],{stream:!(pe&&b==ie-1)});k.length=0,this.h.g+=f,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=T==200,Pe(this.i,this.u,this.A,this.l,this.R,dt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Rt=this.g;if((at=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(at)){var Xe=at;break t}}Xe=null}if(T=Xe)rs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,T);else{this.o=!1,this.s=3,xt(12),tn(this),ki(this);break e}}if(this.P){T=!0;let jn;for(;!this.J&&this.C<Se.length;)if(jn=cr(this,Se),jn==Jr){dt==4&&(this.s=4,xt(14),T=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==va){this.s=4,xt(15),rs(this.i,this.l,Se,"[Invalid Chunk]"),T=!1;break}else rs(this.i,this.l,jn,null),os(this,jn);if(fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||Se.length!=0||this.h.h||(this.s=1,xt(16),T=!1),this.o=this.o&&T,!T)rs(this.i,this.l,Se,"[Invalid Chunked Response]"),tn(this),ki(this);else if(0<Se.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),zs(Xt),Xt.M=!0,xt(11))}}else rs(this.i,this.l,Se,null),os(this,Se);dt==4&&tn(this),this.o&&!this.J&&(dt==4?Ta(this.j,this):(this.o=!1,hr(this)))}else Su(this.g),T==400&&0<Se.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),tn(this),ki(this)}}}catch{}finally{}};function fl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function cr(f,b){var T=f.C,k=b.indexOf(`
`,T);return k==-1?Jr:(T=Number(b.substring(T,k)),isNaN(T)?va:(k+=1,k+T>b.length?Jr:(b=b.slice(k,k+T),f.C=k+T,b)))}un.prototype.cancel=function(){this.J=!0,tn(this)};function hr(f){f.S=Date.now()+f.I,dl(f,f.I)}function dl(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=zt(O(f.ba,f),b)}function Ls(f){f.B&&(v.clearTimeout(f.B),f.B=null)}un.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(_a(this.i,this.A),this.L!=2&&(Os(),xt(17)),tn(this),this.s=2,ki(this)):dl(this,this.S-f)};function ki(f){f.j.G==0||f.J||Ta(f.j,f)}function tn(f){Ls(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,is(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function os(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||Ze(T.h,f))){if(!f.K&&Ze(T.h,f)&&T.G==3){try{var k=T.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ie=k;if(ie[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)lo(T),ro(T);else break e;oo(T),xt(18)}}else T.za=ie[1],0<T.za-T.T&&37500>ie[2]&&T.F&&T.v==0&&!T.C&&(T.C=zt(O(T.Za,T),6e3));if(1>=Ui(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fs(T,11)}else if((f.K||T.g==f)&&lo(T),!G(b))for(ie=T.Da.g.parse(b),b=0;b<ie.length;b++){let Xe=ie[b];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Xt=Xe[3];Xt!=null&&(T.la=Xt,T.j.info("VER="+T.la));const dt=Xe[4];dt!=null&&(T.Aa=dt,T.j.info("SVER="+T.Aa));const kn=Xe[5];kn!=null&&typeof kn=="number"&&0<kn&&(k=1.5*kn,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const jn=f.g;if(jn){const $t=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var pe=k.h;pe.g||$t.indexOf("spdy")==-1&&$t.indexOf("quic")==-1&&$t.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(ft(pe,pe.h),pe.h=null))}if(k.D){const ds=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(k.ya=ds,je(k.I,k.D,ds))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var Se=f;if(k.qa=co(k,k.J?k.ia:null,k.W),Se.K){Kt(k.h,Se);var at=Se,Rt=k.L;Rt&&(at.I=Rt),at.B&&(Ls(at),hr(at)),k.g=Se}else yi(k);0<T.i.length&&Us(T)}else Xe[0]!="stop"&&Xe[0]!="close"||fs(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?fs(T,7):so(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}Os(4)}catch{}}var Ms=class{constructor(f,b){this.g=f,this.map=b}};function ji(f){this.l=f||10,v.PerformanceNavigationTiming?(f=v.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Ze(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function ft(f,b){f.g?f.g.add(b):f.h=b}function Kt(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}ji.prototype.cancel=function(){if(this.i=zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function zi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return te(f.i)}function Ds(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var b=[],T=f.length,k=0;k<T;k++)b.push(f[k]);return b}b=[],T=0;for(k in f)b[T++]=f[k];return b}function ks(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const k in f)b[T++]=k;return b}}}function qe(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=ks(f),k=Ds(f),ie=k.length,pe=0;pe<ie;pe++)b.call(void 0,k[pe],T&&T[pe],f)}var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var k=f[T].indexOf("="),ie=null;if(0<=k){var pe=f[T].substring(0,k);ie=f[T].substring(k+1)}else pe=f[T];b(pe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Pt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pt){this.h=f.h,dr(this,f.j),this.o=f.o,this.g=f.g,pi(this,f.s),this.l=f.l;var b=f.i,T=new gi;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),bn(this,T),this.m=f.m}else f&&(b=String(f).match(mt))?(this.h=!1,dr(this,b[1]||"",!0),this.o=cn(b[2]||""),this.g=cn(b[3]||"",!0),pi(this,b[4]),this.l=cn(b[5]||"",!0),bn(this,b[6]||"",!0),this.m=cn(b[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Pt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(mi(b,as,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(mi(b,as,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(mi(T,T.charAt(0)=="/"?ba:pr,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",mi(T,js)),f.join("")};function Ct(f){return new Pt(f)}function dr(f,b,T){f.j=T?cn(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function pi(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function bn(f,b,T){b instanceof gi?(f.i=b,Hn(f.i,f.h)):(T||(b=mi(b,to)),f.i=new gi(b,f.h))}function je(f,b,T){f.i.set(b,T)}function Bn(f){return je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function cn(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function mi(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,eo),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function eo(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var as=/[#\/\?@]/g,pr=/[#\?:]/g,ba=/[#\?]/g,to=/[#\?@]/g,js=/#/g;function gi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&ya(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}i=gi.prototype,i.add=function(f,b){wn(this),this.i=null,f=Me(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function Bi(f,b){wn(f),b=Me(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function _i(f,b){return wn(f),b=Me(f,b),f.g.has(b)}i.forEach=function(f,b){wn(this),this.g.forEach(function(T,k){T.forEach(function(ie){f.call(b,ie,k,this)},this)},this)},i.na=function(){wn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let k=0;k<b.length;k++){const ie=f[k];for(let pe=0;pe<ie.length;pe++)T.push(b[k])}return T},i.V=function(f){wn(this);let b=[];if(typeof f=="string")_i(this,f)&&(b=b.concat(this.g.get(Me(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},i.set=function(f,b){return wn(this),this.i=null,f=Me(this,f),_i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},i.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function wa(f,b,T){Bi(f,b),0<T.length&&(f.i=null,f.g.set(Me(f,b),te(T)),f.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var k=b[T];const pe=encodeURIComponent(String(k)),Se=this.V(k);for(k=0;k<Se.length;k++){var ie=pe;Se[k]!==""&&(ie+="="+encodeURIComponent(String(Se[k]))),f.push(ie)}}return this.i=f.join("&")};function Me(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Hn(f,b){b&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(T,k){var ie=k.toLowerCase();k!=ie&&(Bi(this,k),wa(this,ie,T))},f)),f.j=b}function tt(f,b){const T=new Jn;if(v.Image){const k=new Image;k.onload=Z(Ln,T,"TestLoadImage: loaded",!0,b,k),k.onerror=Z(Ln,T,"TestLoadImage: error",!1,b,k),k.onabort=Z(Ln,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=Z(Ln,T,"TestLoadImage: timeout",!1,b,k),v.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else b(!1)}function ei(f,b){const T=new Jn,k=new AbortController,ie=setTimeout(()=>{k.abort(),Ln(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:k.signal}).then(pe=>{clearTimeout(ie),pe.ok?Ln(T,"TestPingServer: ok",!0,b):Ln(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ie),Ln(T,"TestPingServer: error",!1,b)})}function Ln(f,b,T,k,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),k(T)}catch{}}function ls(){this.g=new hi}function ti(f,b,T){const k=T||"";try{qe(f,function(ie,pe){let Se=ie;w(ie)&&(Se=Qn(ie)),b.push(k+pe+"="+encodeURIComponent(Se))})}catch(ie){throw b.push(k+"type="+encodeURIComponent("_badmap")),ie}}function Mn(f){this.l=f.Ub||null,this.j=f.eb||!1}F(Mn,fa),Mn.prototype.g=function(){return new vi(this.l,this.j)},Mn.prototype.i=function(f){return function(){return f}}({});function vi(f,b){Tt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(vi,Tt),i=vi.prototype,i.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,hn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||v).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vt(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;us(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function us(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?vt(this):hn(this),this.readyState==3&&us(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,vt(this))},i.Qa=function(f){this.g&&(this.response=f,vt(this))},i.ga=function(){this.g&&vt(this)};function vt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,hn(f)}i.setRequestHeader=function(f,b){this.u.append(f,b)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function hn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function no(f){let b="";return $(f,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function Zt(f,b,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=no(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):je(f,b,T))}function ct(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ct,Tt);var mr=/^https?$/i,cs=["POST","PUT"];i=ct.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?da(this.o):da(fi),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(pe){pl(this,pe);return}if(f=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ie in k)T.set(ie,k[ie]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const pe of k.keys())T.set(pe,k.get(pe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(pe=>pe.toLowerCase()=="content-type"),ie=v.FormData&&f instanceof v.FormData,!(0<=Array.prototype.indexOf.call(cs,b,void 0))||k||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Se]of T)this.g.setRequestHeader(pe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(f),this.u=!1}catch(pe){pl(this,pe)}};function pl(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,gr(f),Hi(f)}function gr(f){f.A||(f.A=!0,ot(f,"complete"),ot(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ot(this,"complete"),ot(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ve(this):this.bb())},i.bb=function(){Ve(this)};function Ve(f){if(f.h&&typeof m<"u"&&(!f.v[1]||fn(f)!=4||f.Z()!=2)){if(f.u&&fn(f)==4)ln(f.Ea,0,f);else if(ot(f,"readystatechange"),fn(f)==4){f.h=!1;try{const Se=f.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var k;if(k=Se===0){var ie=String(f.D).match(mt)[1]||null;!ie&&v.self&&v.self.location&&(ie=v.self.location.protocol.slice(0,-1)),k=!mr.test(ie?ie.toLowerCase():"")}T=k}if(T)ot(f,"complete"),ot(f,"success");else{f.m=6;try{var pe=2<fn(f)?f.g.statusText:""}catch{pe=""}f.l=pe+" ["+f.Z()+"]",gr(f)}}finally{Hi(f)}}}}function Hi(f,b){if(f.g){nn(f);const T=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ot(f,"ready");try{T.onreadystatechange=k}catch{}}}function nn(f){f.I&&(v.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function fn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Xr(b)}};function Sa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Su(f){const b={};f=(f.g&&2<=fn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(G(f[k]))continue;var T=j(f[k]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const pe=b[ie]||[];b[ie]=pe,pe.push(T)}H(b,function(k){return k.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function io(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,f),this.cb=hs("retryDelaySeedMs",1e4,f),this.Wa=hs("forwardChannelMaxRetries",2,f),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(f&&f.concurrentRequestLimit),this.Da=new ls,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=io.prototype,i.la=8,i.G=1,i.connect=function(f,b,T,k){xt(0),this.W=f,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=co(this,null,this.W),Us(this)};function so(f){if(ml(f),f.G==3){var b=f.U++,T=Ct(f.I);if(je(T,"SID",f.K),je(T,"RID",b),je(T,"TYPE","terminate"),_r(f,T),b=new un(f,f.j,b),b.L=2,b.v=Bn(Ct(T)),T=!1,v.navigator&&v.navigator.sendBeacon)try{T=v.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&v.Image&&(new Image().src=b.v,T=!0),T||(b.g=_l(b.j,null),b.g.ea(b.v)),b.F=Date.now(),hr(b)}gl(f)}function ro(f){f.g&&(zs(f),f.g.cancel(),f.g=null)}function ml(f){ro(f),f.u&&(v.clearTimeout(f.u),f.u=null),lo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&v.clearTimeout(f.s),f.s=null)}function Us(f){if(!fr(f.h)&&!f.s){f.s=!0;var b=f.Ga;se||U(),re||(se(),re=!0),Ce.add(b,f),f.B=0}}function Eu(f,b){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=zt(O(f.Ga,f,b),uo(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new un(this,this.j,f);let pe=this.o;if(this.S&&(pe?(pe=R(pe),z(pe,this.S)):pe=this.S),this.m!==null||this.O||(ie.H=pe,pe=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Ea(this,ie,b),T=Ct(this.I),je(T,"RID",f),je(T,"CVER",22),this.D&&je(T,"X-HTTP-Session-Id",this.D),_r(this,T),pe&&(this.O?b="headers="+encodeURIComponent(String(no(pe)))+"&"+b:this.m&&Zt(T,this.m,pe)),ft(this.h,ie),this.Ua&&je(T,"TYPE","init"),this.P?(je(T,"$req",b),je(T,"SID","null"),ie.T=!0,di(ie,T,null)):di(ie,T,b),this.G=2}}else this.G==3&&(f?Dn(this,f):this.i.length==0||fr(this.h)||Dn(this))};function Dn(f,b){var T;b?T=b.l:T=f.U++;const k=Ct(f.I);je(k,"SID",f.K),je(k,"RID",T),je(k,"AID",f.T),_r(f,k),f.m&&f.o&&Zt(k,f.m,f.o),T=new un(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Ea(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ft(f.h,T),di(T,k,b)}function _r(f,b){f.H&&$(f.H,function(T,k){je(b,k,T)}),f.l&&qe({},function(T,k){je(b,k,T)})}function Ea(f,b,T){T=Math.min(f.i.length,T);var k=f.l?O(f.l.Na,f.l,f):null;e:{var ie=f.i;let pe=-1;for(;;){const Se=["count="+T];pe==-1?0<T?(pe=ie[0].g,Se.push("ofs="+pe)):pe=0:Se.push("ofs="+pe);let at=!0;for(let Rt=0;Rt<T;Rt++){let Xe=ie[Rt].g;const Xt=ie[Rt].map;if(Xe-=pe,0>Xe)pe=Math.max(0,ie[Rt].g-100),at=!1;else try{ti(Xt,Se,"req"+Xe+"_")}catch{k&&k(Xt)}}if(at){k=Se.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,k}function yi(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;se||U(),re||(se(),re=!0),Ce.add(b,f),f.v=0}}function oo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=zt(O(f.Fa,f),uo(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=zt(O(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),ro(this),ao(this))};function zs(f){f.A!=null&&(v.clearTimeout(f.A),f.A=null)}function ao(f){f.g=new un(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Ct(f.qa);je(b,"RID","rpc"),je(b,"SID",f.K),je(b,"AID",f.T),je(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&je(b,"TO",f.ja),je(b,"TYPE","xmlhttp"),_r(f,b),f.m&&f.o&&Zt(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Bn(Ct(b)),T.m=null,T.P=!0,Di(T,f)}i.Za=function(){this.C!=null&&(this.C=null,ro(this),oo(this),xt(19))};function lo(f){f.C!=null&&(v.clearTimeout(f.C),f.C=null)}function Ta(f,b){var T=null;if(f.g==b){lo(f),zs(f),f.g=null;var k=2}else if(Ze(f.h,b))T=b.D,Kt(f.h,b),k=1;else return;if(f.G!=0){if(b.o)if(k==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var ie=f.B;k=ur(),ot(k,new Gt(k,T)),Us(f)}else yi(f);else if(ie=b.s,ie==3||ie==0&&0<b.X||!(k==1&&Eu(f,b)||k==2&&oo(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),ie){case 1:fs(f,5);break;case 4:fs(f,10);break;case 3:fs(f,6);break;default:fs(f,2)}}}function uo(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function fs(f,b){if(f.j.info("Error code "+b),b==2){var T=O(f.fb,f),k=f.Xa;const ie=!k;k=new Pt(k||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||dr(k,"https"),Bn(k),ie?tt(k.toString(),T):ei(k.toString(),T)}else xt(2);f.G=0,f.l&&f.l.sa(b),gl(f),ml(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function gl(f){if(f.G=0,f.ka=[],f.l){const b=zi(f.h);(b.length!=0||f.i.length!=0)&&(Q(f.ka,b),Q(f.ka,f.i),f.h.i.length=0,te(f.i),f.i.length=0),f.l.ra()}}function co(f,b,T){var k=T instanceof Pt?Ct(T):new Pt(T);if(k.g!="")b&&(k.g=b+"."+k.g),pi(k,k.s);else{var ie=v.location;k=ie.protocol,b=b?b+"."+ie.hostname:ie.hostname,ie=+ie.port;var pe=new Pt(null);k&&dr(pe,k),b&&(pe.g=b),ie&&pi(pe,ie),T&&(pe.l=T),k=pe}return T=f.D,b=f.ya,T&&b&&je(k,T,b),je(k,"VER",f.la),_r(f,k),k}function _l(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new ct(new Mn({eb:T})):new ct(f.pa),b.Ha(f.J),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xa(){}i=xa.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sn(f,b){Tt.call(this),this.g=new io(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!G(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!G(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Bs(this)}F(Sn,Tt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){so(this.g)},Sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Qn(f),f=T);b.i.push(new Ms(b.Ya++,f)),b.G==3&&Us(b)},Sn.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,Sn.aa.N.call(this)};function vr(f){Li.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}F(vr,Li);function qi(){ma.call(this),this.status=1}F(qi,ma);function Bs(f){this.g=f}F(Bs,xa),Bs.prototype.ua=function(){ot(this.g,"a")},Bs.prototype.ta=function(f){ot(this.g,new vr(f))},Bs.prototype.sa=function(f){ot(this.g,new qi)},Bs.prototype.ra=function(){ot(this.g,"b")},Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Mi.COMPLETE="complete",pa.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",Lw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new fd("@firebase/firestore");function Ts(i,...e){if(cu.logLevel<=ht.DEBUG){const n=e.map(t_);cu.debug(`Firestore (${uh}): ${i}`,...n)}}function dE(i,...e){if(cu.logLevel<=ht.ERROR){const n=e.map(t_);cu.error(`Firestore (${uh}): ${i}`,...n)}}function jI(i,...e){if(cu.logLevel<=ht.WARN){const n=e.map(t_);cu.warn(`Firestore (${uh}): ${i}`,...n)}}function t_(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(i,e,n){let o="Unexpected state";typeof e=="string"?o=e:n=e,pE(i,o,n)}function pE(i,e,n){let o=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw dE(o),new Error(o)}function Pc(i,e,n,o){let l="Unexpected state";typeof n=="string"?l=n:o=n,i||pE(e,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class rt extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class zI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BI{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pc(this.o===void 0,42304);let o=this.i;const l=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let h=new Lc;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Lc,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},v=y=>{Ts("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(y=>v(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Ts("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Lc)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ts("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Pc(typeof o.accessToken=="string",31837,{l:o}),new mE(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pc(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class HI{constructor(e,n,o){this.P=e,this.T=n,this.I=o,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qI{constructor(e,n,o){this.P=e,this.T=n,this.I=o}getToken(){return Promise.resolve(new HI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pc(this.o===void 0,3512);const o=h=>{h.error!=null&&Ts("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Ts("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{Ts("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Ts("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=FI(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<n&&(o+=e.charAt(l[h]%62))}return o}}function ra(i,e){return i<e?-1:i>e?1:0}function ZI(i,e){const n=Math.min(i.length,e.length);for(let o=0;o<n;o++){const l=i.charAt(o),h=e.charAt(o);if(l!==h)return Rm(l)===Rm(h)?ra(l,h):Rm(l)?1:-1}return ra(i.length,e.length)}const WI=55296,YI=57343;function Rm(i){const e=i.charCodeAt(0);return e>=WI&&e<=YI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__name__";class Ks{constructor(e,n,o){n===void 0?n=0:n>e.length&&Kc(637,{offset:n,range:e.length}),o===void 0?o=e.length-n:o>e.length-n&&Kc(1746,{length:o,range:e.length-n}),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ks?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const h=Ks.compareSegments(e.get(l),n.get(l));if(h!==0)return h}return ra(e.length,n.length)}static compareSegments(e,n){const o=Ks.isNumericId(e),l=Ks.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?Ks.extractNumericId(e).compare(Ks.extractNumericId(n)):ZI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return e_.fromString(e.substring(4,e.length-2))}}class ws extends Ks{construct(e,n,o){return new ws(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new rt(st.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new ws(n)}static emptyPath(){return new ws([])}}const KI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wa extends Ks{construct(e,n,o){return new Wa(e,n,o)}static isValidIdentifier(e){return KI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dw}static keyField(){return new Wa([Dw])}static fromServerFormat(e){const n=[];let o="",l=0;const h=()=>{if(o.length===0)throw new rt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;l<e.length;){const v=e[l];if(v==="\\"){if(l+1===e.length)throw new rt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(o+=v,l++):(h(),l++)}if(h(),m)throw new rt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wa(n)}static emptyPath(){return new Wa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.path=e}static fromPath(e){return new Ka(ws.fromString(e))}static fromName(e){return new Ka(ws.fromString(e).popFirst(5))}static empty(){return new Ka(ws.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ws.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ws.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ka(new ws(e.slice()))}}function XI(i,e,n,o){if(e===!0&&o===!0)throw new rt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $I(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function QI(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Kc(12329,{type:typeof i})}function JI(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new rt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QI(i);throw new rt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(i,e){const n={typeString:i};return e&&(n.value=e),n}function ch(i,e){if(!$I(i))throw new rt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in e)if(e[o]){const l=e[o].typeString,h="value"in e[o]?{value:e[o].value}:void 0;if(!(o in i)){n=`JSON missing required field: '${o}'`;break}const m=i[o];if(l&&typeof m!==l){n=`JSON field '${o}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${o}' field to equal '${h.value}'`;break}}if(n)throw new rt(st.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=-62135596800,jw=1e6;class Xs{static now(){return Xs.fromMillis(Date.now())}static fromDate(e){return Xs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*jw);return new Xs(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kw)throw new rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jw}_compareTo(e){return this.seconds===e.seconds?ra(this.nanoseconds,e.nanoseconds):ra(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ch(e,Xs._jsonSchema))return new Xs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xs._jsonSchemaVersion="firestore/timestamp/1.0",Xs._jsonSchema={type:en("string",Xs._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};function e2(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new t2("Invalid base64 string: "+h):h}}(e);return new il(n)}static fromUint8Array(e){const n=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new il(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ra(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}il.EMPTY_BYTE_STRING=new il("");const eg="(default)";class Jf{constructor(e,n){this.projectId=e,this.database=n||eg}static empty(){return new Jf("","")}get isDefaultDatabase(){return this.database===eg}isEqual(e){return e instanceof Jf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,o=[],l=[],h=null,m="F",v=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i2(i){return new n2(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw,it;(it=Uw||(Uw={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new e_([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1048576;function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,o=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=n,this.d_=o,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-o);l>0&&Ts("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,o,l,h){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new Lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,h){const m=Date.now()+o,v=new n_(e,n,m,l,h);return v.start(o),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var zw,Bw;(Bw=zw||(zw={})).Ma="default",Bw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firestore.googleapis.com",qw=!0;class Vw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gE,this.ssl=qw}else this.host=e.host,this.ssl=e.ssl??qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r2)throw new rt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a2(e.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _E{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new UI;switch(o.type){case"firstParty":return new qI(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new rt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Hw.get(n);o&&(Ts("ComponentProvider","Removing Datastore"),Hw.delete(n),o.terminate())}(this),Promise.resolve()}}function l2(i,e,n,o={}){i=JI(i,_E);const l=Zr(e),h=i._getSettings(),m={...h,emulatorOptions:i._getEmulatorOptions()},v=`${e}:${n}`;l&&(ld(`https://${v}`),ud("Firestore",!0)),h.host!==gE&&h.host!==v&&jI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:o};if(!ea(y,m)&&(i._setSettings(y),o.mockUserToken)){let w,C;if(typeof o.mockUserToken=="string")w=o.mockUserToken,C=Yn.MOCK_USER;else{w=gg(o.mockUserToken,i._app?.options.projectId);const A=o.mockUserToken.sub||o.mockUserToken.user_id;if(!A)throw new rt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Yn(A)}i._authCredentials=new zI(new mE(w,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new i_(this.firestore,e,this._query)}}class $s{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}toJSON(){return{type:$s._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,o){if(ch(n,$s._jsonSchema))return new $s(e,o||null,new Ka(ws.fromString(n.referencePath)))}}$s._jsonSchemaVersion="firestore/documentReference/1.0",$s._jsonSchema={type:en("string",$s._jsonSchemaVersion),referencePath:en("string")};class s_ extends i_{constructor(e,n,o){super(e,n,i2(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new Ka(e))}withConverter(e){return new s_(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="AsyncQueue";class Gw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o2(this,"async_queue_retry"),this._c=()=>{const o=Am();o&&Ts(Fw,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Lc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!e2(e))throw e;Ts(Fw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(o=>{throw this.nc=o,this.rc=!1,dE("INTERNAL UNHANDLED ERROR: ",Zw(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=n,n}enqueueAfterDelay(e,n,o){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=n_.createAndSchedule(this,e,n,o,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&Kc(47125,{Pc:Zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zw(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class u2 extends _E{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new Gw,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function c2(i,e){const n=typeof i=="object"?i:dd(),o=typeof i=="string"?i:eg,l=nh(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=mg("firestore");h&&l2(l,...h)}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(il.fromBase64String(e))}catch(n){throw new rt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(il.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ch(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:en("string",Lr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new rt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ra(this._lat,e._lat)||ra(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xa._jsonSchemaVersion}}static fromJSON(e){if(ch(e,Xa._jsonSchema))return new Xa(e.latitude,e.longitude)}}Xa._jsonSchemaVersion="firestore/geoPoint/1.0",Xa._jsonSchema={type:en("string",Xa._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==l[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ch(e,$a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $a(e.vectorValues);throw new rt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$a._jsonSchemaVersion="firestore/vectorValue/1.0",$a._jsonSchema={type:en("string",$a._jsonSchemaVersion),vectorValues:en("object")};const h2=new RegExp("[~\\*/\\[\\]]");function f2(i,e,n){if(e.search(h2)>=0)throw Ww(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new vE(...e.split("."))._internalPath}catch{throw Ww(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function Ww(i,e,n,o,l){let h=`Function ${e}() called with invalid data`;h+=". ";let m="";return new rt(st.INVALID_ARGUMENT,h+i+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,o,l,h){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d2 extends yE{data(){return super.data()}}function bE(i,e){return typeof e=="string"?f2(i,e):e instanceof vE?e._internalPath:e._delegate._internalPath}class Ef{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends yE{constructor(e,n,o,l,h,m){super(e,n,o,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(bE("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",eu._jsonSchema={type:en("string",eu._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Of extends eu{data(e={}){return super.data(e)}}class Mc{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ef(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Of(this._firestore,this._userDataWriter,o.key,o,new Ef(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(v=>{const y=new Of(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Ef(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(v=>h||v.type!==3).map(v=>{const y=new Of(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Ef(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,C=-1;return v.type!==0&&(w=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),C=m.indexOf(v.doc.key)),{type:p2(v.type),doc:y,oldIndex:w,newIndex:C}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=GI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(n.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kc(61501,{type:i})}}Mc._jsonSchemaVersion="firestore/querySnapshot/1.0",Mc._jsonSchema={type:en("string",Mc._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};(function(e,n=!0){(function(l){uh=l})(aa),ta(new Hr("firestore",(o,{instanceIdentifier:l,options:h})=>{const m=o.getProvider("app").getImmediate(),v=new u2(new BI(o.getProvider("auth-internal")),new VI(m,o.getProvider("app-check-internal")),function(w,C){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new rt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(w.options.projectId,C)}(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v},"PUBLIC").setMultipleInstances(!0)),$i(Pw,Lw,e),$i(Pw,Lw,"esm2020")})();function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m2=wE,SE=new th("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new fd("@firebase/auth");function g2(i,...e){ed.logLevel<=ht.WARN&&ed.warn(`Auth (${aa}): ${i}`,...e)}function If(i,...e){ed.logLevel<=ht.ERROR&&ed.error(`Auth (${aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,...e){throw r_(i,...e)}function Js(i,...e){return r_(i,...e)}function EE(i,e,n){const o={...m2(),[e]:n};return new th("auth","Firebase",o).create(e,{appName:i.name})}function Qa(i){return EE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(i,...e){if(typeof i!="string"){const n=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=i.name),i._errorFactory.create(n,...o)}return SE.create(i,...e)}function He(i,e,...n){if(!i)throw r_(e,...n)}function kr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw If(e),new Error(e)}function Gr(i,e){i||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){return typeof self<"u"&&self.location?.href||""}function _2(){return Yw()==="http:"||Yw()==="https:"}function Yw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||QC()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=_g()||W0()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(i,e){Gr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{static initialize(e,n,o){this.fetchImpl=e,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S2=new hh(3e4,6e4);function a_(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function wu(i,e,n,o,l={}){return xE(i,l,async()=>{let h={},m={};o&&(e==="GET"?m=o:h={body:JSON.stringify(o)});const v=_u({key:i.config.apiKey,...m}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const w={method:e,headers:y,...h};return $C()||(w.referrerPolicy="no-referrer"),i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(w.credentials="include"),TE.fetch()(await CE(i,i.config.apiHost,n,v),w)})}async function xE(i,e,n){i._canInitEmulator=!1;const o={...b2,...e};try{const l=new T2(i),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw Tf(i,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,w]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(i,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Tf(i,"email-already-in-use",m);if(y==="USER_DISABLED")throw Tf(i,"user-disabled",m);const C=o[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw EE(i,C,w);Fr(i,C)}}catch(l){if(l instanceof ir)throw l;Fr(i,"network-request-failed",{message:String(l)})}}async function E2(i,e,n,o,l={}){const h=await wu(i,e,n,o,l);return"mfaPendingCredential"in h&&Fr(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function CE(i,e,n,o){const l=`${e}${n}?${o}`,h=i,m=h.config.emulator?o_(i.config,l):`${i.config.apiScheme}://${l}`;return w2.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class T2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Js(this.auth,"network-request-failed")),S2.get())})}}function Tf(i,e,n){const o={appName:i.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const l=Js(i,e,o);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i,e){return wu(i,"POST","/v1/accounts:delete",e)}async function td(i,e){return wu(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(i,e=!1){const n=Nn(i),o=await n.getIdToken(e),l=l_(o);He(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:o,authTime:Dc(Nm(l.auth_time)),issuedAtTime:Dc(Nm(l.iat)),expirationTime:Dc(Nm(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Nm(i){return Number(i)*1e3}function l_(i){const[e,n,o]=i.split(".");if(e===void 0||n===void 0||o===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const l=jf(n);return l?JSON.parse(l):(If("Failed to decode base64 JWT payload"),null)}catch(l){return If("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Kw(i){const e=l_(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(i,e,n=!1){if(n)return e;try{return await e}catch(o){throw o instanceof ir&&R2(o)&&i.auth.currentUser===i&&await i.auth.signOut(),o}}function R2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(i){const e=i.auth,n=await i.getIdToken(),o=await Xc(i,td(e,{idToken:n}));He(o?.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?RE(l.providerUserInfo):[],m=O2(i.providerData,h),v=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!m?.length,w=v?y:!1,C={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ng(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,C)}async function N2(i){const e=Nn(i);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O2(i,e){return[...i.filter(o=>!e.some(l=>l.providerId===o.providerId)),...e]}function RE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(i,e){const n=await xE(i,{},async()=>{const o=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,m=await CE(i,l,"/v1/token",`key=${h}`),v=await i._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:o};return i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(y.credentials="include"),TE.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P2(i,e){return wu(i,"POST","/v2/accounts:revokeToken",a_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Kw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:o,refreshToken:l,expiresIn:h}=await I2(e,n);this.updateTokensAndExpiration(o,l,Number(h))}updateTokensAndExpiration(e,n,o){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,n){const{refreshToken:o,accessToken:l,expirationTime:h}=n,m=new tu;return o&&(He(typeof o=="string","internal-error",{appName:e}),m.refreshToken=o),l&&(He(typeof l=="string","internal-error",{appName:e}),m.accessToken=l),h&&(He(typeof h=="number","internal-error",{appName:e}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class xs{constructor({uid:e,auth:n,stsTokenManager:o,...l}){this.providerId="firebase",this.proactiveRefresh=new A2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ng(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return N2(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Xc(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const o=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,w=n.createdAt??void 0,C=n.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:Z,providerData:F,stsTokenManager:te}=n;He(A&&te,e,"internal-error");const Q=tu.fromJSON(this.name,te);He(typeof A=="string",e,"internal-error"),Vo(o,e.name),Vo(l,e.name),He(typeof O=="boolean",e,"internal-error"),He(typeof Z=="boolean",e,"internal-error"),Vo(h,e.name),Vo(m,e.name),Vo(v,e.name),Vo(y,e.name),Vo(w,e.name),Vo(C,e.name);const J=new xs({uid:A,auth:e,email:l,emailVerified:O,displayName:o,isAnonymous:Z,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:Q,createdAt:w,lastLoginAt:C});return F&&Array.isArray(F)&&(J.providerData=F.map(G=>({...G}))),y&&(J._redirectEventId=y),J}static async _fromIdTokenResponse(e,n,o=!1){const l=new tu;l.updateFromServerResponse(n);const h=new xs({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:o});return await nd(h),h}static async _fromGetAccountInfoResponse(e,n,o){const l=n.users[0];He(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?RE(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new tu;v.updateFromIdToken(o);const y=new xs({uid:l.localId,auth:e,stsTokenManager:v,isAnonymous:m}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new ng(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,w),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;function jr(i){Gr(i instanceof Function,"Expected a class definition");let e=Xw.get(i);return e?(Gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Xw.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AE.type="NONE";const $w=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(i,e,n){return`firebase:${i}:${e}:${n}`}class nu{constructor(e,n,o){this.persistence=e,this.auth=n,this.userKey=o;const{config:l,name:h}=this.auth;this.fullUserKey=Pf(this.userKey,l.apiKey,h),this.fullPersistenceKey=Pf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?xs._fromGetAccountInfoResponse(this.auth,n,e):null}return xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,o="authUser"){if(!n.length)return new nu(jr($w),e,o);const l=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let h=l[0]||jr($w);const m=Pf(o,e.config.apiKey,e.name);let v=null;for(const w of n)try{const C=await w._get(m);if(C){let A;if(typeof C=="string"){const O=await td(e,{idToken:C}).catch(()=>{});if(!O)break;A=await xs._fromGetAccountInfoResponse(e,O,C)}else A=xs._fromJSON(e,C);w!==h&&(v=A),h=w;break}}catch{}const y=l.filter(w=>w._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new nu(h,e,o):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async w=>{if(w!==h)try{await w._remove(m)}catch{}})),new nu(h,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ME(e))return"Blackberry";if(DE(e))return"Webos";if(OE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=i.match(n);if(o?.length===2)return o[1]}return"Other"}function NE(i=$n()){return/firefox\//i.test(i)}function OE(i=$n()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(i=$n()){return/crios\//i.test(i)}function PE(i=$n()){return/iemobile/i.test(i)}function LE(i=$n()){return/android/i.test(i)}function ME(i=$n()){return/blackberry/i.test(i)}function DE(i=$n()){return/webos/i.test(i)}function u_(i=$n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function L2(i=$n()){return u_(i)&&!!window.navigator?.standalone}function M2(){return JC()&&document.documentMode===10}function kE(i=$n()){return u_(i)||LE(i)||DE(i)||ME(i)||/windows phone/i.test(i)||PE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i,e=[]){let n;switch(i){case"Browser":n=Qw($n());break;case"Worker":n=`${Qw($n())}-${i}`;break;default:n=i}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const o=h=>new Promise((m,v)=>{try{const y=e(h);m(y)}catch(y){v(y)}});o.onAbort=n,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const o of this.queue)await o(e),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e={}){return wu(i,"GET","/v2/passwordPolicy",a_(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=6;class U2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=e.length>=o),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let l=0;l<e.length;l++)o=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,n,o,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,o,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new D2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),o=await xs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ki(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,v=await this.tryRedirectSignIn(e);(!h||h===m)&&v?.user&&(o=v.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(Qa(this));const n=e?Nn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k2(this),n=new U2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new th("auth","Firebase",e())}onAuthStateChanged(e,n,o){return this.registerStateListener(this.authStateSubscription,e,n,o)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,o){return this.registerStateListener(this.idTokenSubscription,e,n,o)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await P2(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const o=await this.getOrInitRedirectPersistenceManager(n);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,o,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,o,l);return()=>{m=!0,y()}}else{const y=e.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function c_(i){return Nn(i)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(i){h_=i}function H2(i){return h_.loadJS(i)}function q2(){return h_.gapiScript}function V2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i,e){const n=nh(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(ea(h,e??{}))return l;Fr(l,"already-initialized")}return n.initialize({options:e})}function G2(i,e){const n=e?.persistence||[],o=(Array.isArray(n)?n:[n]).map(jr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(o,e?.popupRedirectResolver)}function Z2(i,e,n){const o=c_(i);He(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const l=!1,h=UE(e),{host:m,port:v}=W2(e),y=v===null?"":`:${v}`,w={url:`${h}//${m}${y}/`},C=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!o._canInitEmulator){He(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),He(ea(w,o.config.emulator)&&ea(C,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=C,o.settings.appVerificationDisabledForTesting=!0,Zr(m)?(ld(`${h}//${m}${y}`),ud("Auth",!0)):Y2()}function UE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function W2(i){const e=UE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const h=l[1];return{host:h,port:e0(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:e0(m)}}}function e0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Y2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(i,e){return E2(i,"POST","/v1/accounts:signInWithIdp",a_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="http://localhost";class sl extends zE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:l,...h}=n;if(!o||!l)return null;const m=new sl(o,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(e){const n=this.buildRequest();return iu(e,n)}_linkToIdToken(e,n){const o=this.buildRequest();return o.idToken=n,iu(e,o)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,iu(e,n)}buildRequest(){const e={requestUri:K2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends fh{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:o}=e;if(!n&&!o)return null;try{return Go.credential(n,o)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends fh{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends fh{constructor(){super("twitter.com")}static credential(e,n){return sl._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=e;if(!n||!o)return null;try{return Wo.credential(n,o)}catch{return null}}}Wo.TWITTER_SIGN_IN_METHOD="twitter.com";Wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,o,l=!1){const h=await xs._fromIdTokenResponse(e,o,l),m=t0(o);return new hu({user:h,providerId:m,_tokenResponse:o,operationType:n})}static async _forOperation(e,n,o){await e._updateTokensIfNecessary(o,!0);const l=t0(o);return new hu({user:e,providerId:l,_tokenResponse:o,operationType:n})}}function t0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends ir{constructor(e,n,o,l){super(n.code,n.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,n,o,l){return new id(e,n,o,l)}}function HE(i,e,n,o){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(i,h,e,o):h})}async function X2(i,e,n=!1){const o=await Xc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return hu._forOperation(i,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(i,e,n=!1){const{auth:o}=i;if(Ki(o.app))return Promise.reject(Qa(o));const l="reauthenticate";try{const h=await Xc(i,HE(o,l,e,i),n);He(h.idToken,o,"internal-error");const m=l_(h.idToken);He(m,o,"internal-error");const{sub:v}=m;return He(i.uid===v,o,"user-mismatch"),hu._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Fr(o,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(i,e,n=!1){if(Ki(i.app))return Promise.reject(Qa(i));const o="signIn",l=await HE(i,o,e),h=await hu._fromIdTokenResponse(i,o,l);return n||await i._updateCurrentUser(h.user),h}function J2(i,e,n,o){return Nn(i).onIdTokenChanged(e,n,o)}function eP(i,e,n){return Nn(i).beforeAuthStateChanged(e,n)}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e3,nP=10;class VE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&e(n,l,o)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const o=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(o);!n&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);M2()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,nP):l()}notifyListeners(e,n){this.localCache[e]=n;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:o}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const iP=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FE.type="SESSION";const GE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const o=new Ed(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:o,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const v=Array.from(m).map(async w=>w(n.origin,h)),y=await sP(v);n.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(i="",e=10){let n="";for(let o=0;o<e;o++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const w=f_("",20);l.port1.start();const C=setTimeout(()=>{y(new Error("unsupported_event"))},o);m={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===w)switch(O.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(O.data.response);break;default:clearTimeout(C),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:w,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function oP(i){er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function aP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){return navigator?.serviceWorker?.controller||null}function uP(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",cP=1,rd="firebaseLocalStorage",YE="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Td(i,e){return i.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function hP(){const i=indexedDB.deleteDatabase(WE);return new dh(i).toPromise()}function ig(){const i=indexedDB.open(WE,cP);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const o=i.result;try{o.createObjectStore(rd,{keyPath:YE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const o=i.result;o.objectStoreNames.contains(rd)?e(o):(o.close(),await hP(),e(await ig()))})})}async function n0(i,e,n){const o=Td(i,!0).put({[YE]:e,value:n});return new dh(o).toPromise()}async function fP(i,e){const n=Td(i,!1).get(e),o=await new dh(n).toPromise();return o===void 0?null:o.value}function i0(i,e){const n=Td(i,!0).delete(e);return new dh(n).toPromise()}const dP=800,pP=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(n++>pP)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(uP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aP(),!this.activeServiceWorker)return;this.sender=new rP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await n0(e,sd,"1"),await i0(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>n0(o,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(o=>fP(o,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=Td(l,!1).getAll();return new dh(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const mP=KE;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(i,e){return e?jr(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends zE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _P(i){return Q2(i.auth,new d_(i),i.bypassAuthState)}function vP(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),$2(n,new d_(i),i.bypassAuthState)}async function yP(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),X2(n,new d_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,o,l,h=!1){this.auth=e,this.resolver=o,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:o,postBody:l,tenantId:h,error:m,type:v}=e;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:o,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return yP;case"reauthViaPopup":case"reauthViaRedirect":return vP;default:Fr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new hh(2e3,1e4);class $l extends XE{constructor(e,n,o,l,h){super(e,n,l,h),this.provider=o,this.authWindow=null,this.pollId=null,$l.currentPopupAction&&$l.currentPopupAction.cancel(),$l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$l.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bP.get())};e()}}$l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="pendingRedirect",Lf=new Map;class SP extends XE{constructor(e,n,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const o=await EP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(i,e){const n=CP(e),o=xP(i);if(!await o._isAvailable())return!1;const l=await o._get(n)==="true";return await o._remove(n),l}function TP(i,e){Lf.set(i._key(),e)}function xP(i){return jr(i._redirectPersistence)}function CP(i){return Pf(wP,i.config.apiKey,i.name)}async function RP(i,e,n=!1){if(Ki(i.app))return Promise.reject(Qa(i));const o=c_(i),l=gP(o,e),m=await new SP(o,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,e)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=10*60*1e3;class NP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(n=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$E(e)){const o=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Js(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const o=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function $E({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function OP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(i,e={}){return wu(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LP=/^https?/;async function MP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IP(i);for(const n of e)try{if(DP(n))return}catch{}Fr(i,"unauthorized-domain")}function DP(i){const e=tg(),{protocol:n,hostname:o}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&o===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===o}if(!LP.test(n))return!1;if(PP.test(i))return o===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new hh(3e4,6e4);function r0(){const i=er().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function jP(i){return new Promise((e,n)=>{function o(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(Js(i,"network-request-failed"))},timeout:kP.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)o();else{const l=V2("iframefcb");return er()[l]=()=>{gapi.load?o():n(Js(i,"network-request-failed"))},H2(`${q2()}?onload=${l}`).catch(h=>n(h))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function UP(i){return Mf=Mf||jP(i),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new hh(5e3,15e3),BP="__/auth/iframe",HP="emulator/auth/iframe",qP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?o_(e,HP):`https://${i.config.authDomain}/${BP}`,o={apiKey:e.apiKey,appName:i.name,v:aa},l=VP.get(i.config.apiHost);l&&(o.eid=l);const h=i._getFrameworks();return h.length&&(o.fw=h.join(",")),`${n}?${_u(o).slice(1)}`}async function GP(i){const e=await UP(i),n=er().gapi;return He(n,i,"internal-error"),e.open({where:document.body,url:FP(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qP,dontclear:!0},o=>new Promise(async(l,h)=>{await o.restyle({setHideOnLeave:!1});const m=Js(i,"network-request-failed"),v=er().setTimeout(()=>{h(m)},zP.get());function y(){er().clearTimeout(v),l(o)}o.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WP=500,YP=600,KP="_blank",XP="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $P(i,e,n,o=WP,l=YP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let v="";const y={...ZP,width:o.toString(),height:l.toString(),top:h,left:m},w=$n().toLowerCase();n&&(v=IE(w)?KP:n),NE(w)&&(e=e||XP,y.scrollbars="yes");const C=Object.entries(y).reduce((O,[Z,F])=>`${O}${Z}=${F},`,"");if(L2(w)&&v!=="_self")return QP(e||"",v),new o0(null);const A=window.open(e||"",v,C);He(A,i,"popup-blocked");try{A.focus()}catch{}return new o0(A)}function QP(i,e){const n=document.createElement("a");n.href=i,n.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="__/auth/handler",eL="emulator/auth/handler",tL=encodeURIComponent("fac");async function a0(i,e,n,o,l,h){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:o,v:aa,eventId:l};if(e instanceof BE){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",km(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,A]of Object.entries({}))m[C]=A}if(e instanceof fh){const C=e.getScopes().filter(A=>A!=="");C.length>0&&(m.scopes=C.join(","))}i.tenantId&&(m.tid=i.tenantId);const v=m;for(const C of Object.keys(v))v[C]===void 0&&delete v[C];const y=await i._getAppCheckToken(),w=y?`#${tL}=${encodeURIComponent(y)}`:"";return`${nL(i)}?${_u(v).slice(1)}${w}`}function nL({config:i}){return i.emulator?o_(i,eL):`https://${i.authDomain}/${JP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class iL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=RP,this._overrideRedirectResult=TP}async _openPopup(e,n,o,l){Gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await a0(e,n,o,tg(),l);return $P(e,h,f_())}async _openRedirect(e,n,o,l){await this._originValidation(e);const h=await a0(e,n,o,tg(),l);return oP(h),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Gr(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(e){const n=await GP(e),o=new NP(e);return n.register("authEvent",l=>(He(l?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=n,o}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},l=>{const h=l?.[0]?.[Om];h!==void 0&&n(!!h),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kE()||OE()||u_()}}const sL=iL;var l0="@firebase/auth",u0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aL(i){ta(new Hr("auth",(e,{options:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=o.options;He(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const y={apiKey:m,authDomain:v,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(i)},w=new z2(o,l,h,y);return G2(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,o)=>{e.getProvider("auth-internal").initialize()})),ta(new Hr("auth-internal",e=>{const n=c_(e.getProvider("auth").getImmediate());return(o=>new rL(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(l0,u0,oL(i)),$i(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=5*60,uL=Z0("authIdTokenMaxAge")||lL;let c0=null;const cL=i=>async e=>{const n=e&&await e.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>uL)return;const l=n?.token;c0!==l&&(c0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hL(i=dd()){const e=nh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(i,{popupRedirectResolver:sL,persistence:[mP,iP,GE]}),o=Z0("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=cL(h.toString());eP(n,m,()=>m(n.currentUser)),J2(n,v=>m(v))}}const l=F0("auth");return l&&Z2(n,`http://${l}`),n}function fL(){return document.getElementsByTagName("head")?.[0]??document}B2({loadJS(i){return new Promise((e,n)=>{const o=document.createElement("script");o.setAttribute("src",i),o.onload=e,o.onerror=l=>{const h=Js("internal-error");h.customData=l,n(h)},o.type="text/javascript",o.charset="UTF-8",fL().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebasestorage.googleapis.com",JE="storageBucket",dL=2*60*1e3,pL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends ir{constructor(e,n,o=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function Im(i){return"storage/"+i}function p_(){const i="An unknown error occurred, please check the error payload for server response.";return new Ft(Vt.UNKNOWN,i)}function mL(i){return new Ft(Vt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function gL(i){return new Ft(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _L(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Vt.UNAUTHENTICATED,i)}function vL(){return new Ft(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yL(i){return new Ft(Vt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function bL(){return new Ft(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wL(){return new Ft(Vt.CANCELED,"User canceled the upload/download.")}function SL(i){return new Ft(Vt.INVALID_URL,"Invalid URL '"+i+"'.")}function EL(i){return new Ft(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function TL(){return new Ft(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JE+"' property when initializing the app?")}function xL(){return new Ft(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CL(){return new Ft(Vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RL(i){return new Ft(Vt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sg(i){return new Ft(Vt.INVALID_ARGUMENT,i)}function eT(){return new Ft(Vt.APP_DELETED,"The Firebase app was deleted.")}function AL(i){return new Ft(Vt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kc(i,e){return new Ft(Vt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Tc(i){throw new Ft(Vt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let o;try{o=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(o.path==="")return o;throw EL(e)}static makeFromUrl(e,n){let o=null;const l="([A-Za-z0-9.\\-_]+)";function h(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const m="(/(.*))?$",v=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function w(me){me.path_=decodeURIComponent(me.path)}const C="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",Z=new RegExp(`^https?://${A}/${C}/b/${l}/o${O}`,"i"),F={bucket:1,path:3},te=n===QE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Q="([^?#]*)",J=new RegExp(`^https?://${te}/${l}/${Q}`,"i"),X=[{regex:v,indices:y,postModify:h},{regex:Z,indices:F,postModify:w},{regex:J,indices:{bucket:1,path:2},postModify:w}];for(let me=0;me<X.length;me++){const ae=X[me],$=ae.regex.exec(e);if($){const H=$[ae.indices.bucket];let R=$[ae.indices.path];R||(R=""),o=new Oi(H,R),ae.postModify(o);break}}if(o==null)throw SL(e);return o}}class NL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(i,e,n){let o=1,l=null,h=null,m=!1,v=0;function y(){return v===2}let w=!1;function C(...Q){w||(w=!0,e.apply(null,Q))}function A(Q){l=setTimeout(()=>{l=null,i(Z,y())},Q)}function O(){h&&clearTimeout(h)}function Z(Q,...J){if(w){O();return}if(Q){O(),C.call(null,Q,...J);return}if(y()||m){O(),C.call(null,Q,...J);return}o<64&&(o*=2);let X;v===1?(v=2,X=0):X=(o+Math.random())*1e3,A(X)}let F=!1;function te(Q){F||(F=!0,O(),!w&&(l!==null?(Q||(v=2),clearTimeout(l),A(0)):Q||(v=1)))}return A(0),h=setTimeout(()=>{m=!0,te(!0)},n),te}function IL(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(i){return i!==void 0}function LL(i){return typeof i=="object"&&!Array.isArray(i)}function m_(i){return typeof i=="string"||i instanceof String}function h0(i){return g_()&&i instanceof Blob}function g_(){return typeof Blob<"u"}function f0(i,e,n,o){if(o<e)throw sg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(o>n)throw sg(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(i,e,n){let o=e;return n==null&&(o=`https://${e}`),`${n}://${o}/v0${i}`}function tT(i){const e=encodeURIComponent;let n="?";for(const o in i)if(i.hasOwnProperty(o)){const l=e(o)+"="+e(i[o]);n=n+l+"&"}return n=n.slice(0,-1),n}var Ja;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(i,e){const n=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,h=e.indexOf(i)!==-1;return n||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,o,l,h,m,v,y,w,C,A,O=!0,Z=!1){this.url_=e,this.method_=n,this.headers_=o,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=v,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=C,this.connectionFactory_=A,this.retry=O,this.isUsingEmulator=Z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,te)=>{this.resolve_=F,this.reject_=te,this.start_()})}start_(){const e=(o,l)=>{if(l){o(!1,new xf(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=v=>{const y=v.loaded,w=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,w)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const v=h.getErrorCode()===Ja.NO_ERROR,y=h.getStatus();if(!v||ML(y,this.additionalRetryCodes_)&&this.retry){const C=h.getErrorCode()===Ja.ABORT;o(!1,new xf(!1,null,C));return}const w=this.successCodes_.indexOf(y)!==-1;o(!0,new xf(w,h))})},n=(o,l)=>{const h=this.resolve_,m=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(v,v.getResponse());PL(y)?h(y):h()}catch(y){m(y)}else if(v!==null){const y=p_();y.serverResponse=v.getErrorText(),this.errorCallback_?m(this.errorCallback_(v,y)):m(y)}else if(l.canceled){const y=this.appDelete_?eT():wL();m(y)}else{const y=bL();m(y)}};this.canceled_?n(!1,new xf(!1,null,!0)):this.backoffId_=OL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xf{constructor(e,n,o){this.wasSuccessCode=e,this.connection=n,this.canceled=!!o}}function kL(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function jL(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UL(i,e){e&&(i["X-Firebase-GMPID"]=e)}function zL(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function BL(i,e,n,o,l,h,m=!0,v=!1){const y=tT(i.urlParams),w=i.url+y,C=Object.assign({},i.headers);return UL(C,e),kL(C,n),jL(C,h),zL(C,o),new DL(w,i.method,C,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,m,v)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qL(...i){const e=HL();if(e!==void 0){const n=new e;for(let o=0;o<i.length;o++)n.append(i[o]);return n.getBlob()}else{if(g_())return new Blob(i);throw new Ft(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VL(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(i){if(typeof atob>"u")throw RL("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pm{constructor(e,n){this.data=e,this.contentType=n||null}}function GL(i,e){switch(i){case Qs.RAW:return new Pm(nT(e));case Qs.BASE64:case Qs.BASE64URL:return new Pm(iT(i,e));case Qs.DATA_URL:return new Pm(WL(e),YL(e))}throw p_()}function nT(i){const e=[];for(let n=0;n<i.length;n++){let o=i.charCodeAt(n);if(o<=127)e.push(o);else if(o<=2047)e.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const h=o,m=i.charCodeAt(++n);o=65536|(h&1023)<<10|m&1023,e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(e)}function ZL(i){let e;try{e=decodeURIComponent(i)}catch{throw kc(Qs.DATA_URL,"Malformed data URL.")}return nT(e)}function iT(i,e){switch(i){case Qs.BASE64:{const l=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(l||h)throw kc(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const l=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(l||h)throw kc(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FL(e)}catch(l){throw l.message.includes("polyfill")?l:kc(i,"Invalid character found")}const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}class sT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kc(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=n[1]||null;o!=null&&(this.base64=KL(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}function WL(i){const e=new sT(i);return e.base64?iT(Qs.BASE64,e.rest):ZL(e.rest)}function YL(i){return new sT(i).contentType}function KL(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){let o=0,l="";h0(e)?(this.data_=e,o=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(h0(this.data_)){const o=this.data_,l=VL(o,e,n);return l===null?null:new Yo(l)}else{const o=new Uint8Array(this.data_.buffer,e,n-e);return new Yo(o,!0)}}static getBlob(...e){if(g_()){const n=e.map(o=>o instanceof Yo?o.data_:o);return new Yo(qL.apply(null,n))}else{const n=e.map(m=>m_(m)?GL(Qs.RAW,m).data:m.data_);let o=0;n.forEach(m=>{o+=m.byteLength});const l=new Uint8Array(o);let h=0;return n.forEach(m=>{for(let v=0;v<m.length;v++)l[h++]=m[v]}),new Yo(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i){let e;try{e=JSON.parse(i)}catch{return null}return LL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function $L(i,e){const n=e.split("/").filter(o=>o.length>0).join("/");return i.length===0?n:i+"/"+n}function oT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(i,e){return e}class Wn{constructor(e,n,o,l){this.server=e,this.local=n||e,this.writable=!!o,this.xform=l||QL}}let Cf=null;function JL(i){return!m_(i)||i.length<2?i:oT(i)}function aT(){if(Cf)return Cf;const i=[];i.push(new Wn("bucket")),i.push(new Wn("generation")),i.push(new Wn("metageneration")),i.push(new Wn("name","fullPath",!0));function e(h,m){return JL(m)}const n=new Wn("name");n.xform=e,i.push(n);function o(h,m){return m!==void 0?Number(m):m}const l=new Wn("size");return l.xform=o,i.push(l),i.push(new Wn("timeCreated")),i.push(new Wn("updated")),i.push(new Wn("md5Hash",null,!0)),i.push(new Wn("cacheControl",null,!0)),i.push(new Wn("contentDisposition",null,!0)),i.push(new Wn("contentEncoding",null,!0)),i.push(new Wn("contentLanguage",null,!0)),i.push(new Wn("contentType",null,!0)),i.push(new Wn("metadata","customMetadata",!0)),Cf=i,Cf}function eM(i,e){function n(){const o=i.bucket,l=i.fullPath,h=new Oi(o,l);return e._makeStorageReference(h)}Object.defineProperty(i,"ref",{get:n})}function tM(i,e,n){const o={};o.type="file";const l=n.length;for(let h=0;h<l;h++){const m=n[h];o[m.local]=m.xform(o,e[m.server])}return eM(o,i),o}function lT(i,e,n){const o=rT(e);return o===null?null:tM(i,o,n)}function nM(i,e,n,o){const l=rT(e);if(l===null||!m_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const m=encodeURIComponent;return h.split(",").map(w=>{const C=i.bucket,A=i.fullPath,O="/b/"+m(C)+"/o/"+m(A),Z=__(O,n,o),F=tT({alt:"media",token:w});return Z+F})[0]}function iM(i,e){const n={},o=e.length;for(let l=0;l<o;l++){const h=e[l];h.writable&&(n[h.server]=i[h.local])}return JSON.stringify(n)}class uT{constructor(e,n,o,l){this.url=e,this.method=n,this.handler=o,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){if(!i)throw p_()}function sM(i,e){function n(o,l){const h=lT(i,l,e);return cT(h!==null),h}return n}function rM(i,e){function n(o,l){const h=lT(i,l,e);return cT(h!==null),nM(h,l,i.host,i._protocol)}return n}function hT(i){function e(n,o){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=vL():l=_L():n.getStatus()===402?l=gL(i.bucket):n.getStatus()===403?l=yL(i.path):l=o,l.status=n.getStatus(),l.serverResponse=o.serverResponse,l}return e}function oM(i){const e=hT(i);function n(o,l){let h=e(o,l);return o.getStatus()===404&&(h=mL(i.path)),h.serverResponse=l.serverResponse,h}return n}function aM(i,e,n){const o=e.fullServerUrl(),l=__(o,i.host,i._protocol),h="GET",m=i.maxOperationRetryTime,v=new uT(l,h,rM(i,n),m);return v.errorHandler=oM(e),v}function lM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function uM(i,e,n){const o=Object.assign({},n);return o.fullPath=i.path,o.size=e.size(),o.contentType||(o.contentType=lM(null,e)),o}function cM(i,e,n,o,l){const h=e.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"};function v(){let X="";for(let me=0;me<2;me++)X=X+Math.random().toString().slice(2);return X}const y=v();m["Content-Type"]="multipart/related; boundary="+y;const w=uM(e,o,l),C=iM(w,n),A="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+C+`\r
--`+y+`\r
Content-Type: `+w.contentType+`\r
\r
`,O=`\r
--`+y+"--",Z=Yo.getBlob(A,o,O);if(Z===null)throw xL();const F={name:w.fullPath},te=__(h,i.host,i._protocol),Q="POST",J=i.maxUploadRetryTime,G=new uT(te,Q,sM(i,n),J);return G.urlParams=F,G.headers=m,G.body=Z.uploadData(),G.errorHandler=hT(e),G}class hM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,o,l,h){if(this.sent_)throw Tc("cannot .send() more than once");if(Zr(e)&&o&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),h!==void 0)for(const m in h)h.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,h[m].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fM extends hM{initXhr(){this.xhr_.responseType="text"}}function fT(){return new fM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rl(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oT(this._location.path)}get storage(){return this._service}get parent(){const e=XL(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new rl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AL(e)}}function dM(i,e,n){i._throwIfRoot("uploadBytes");const o=cM(i.storage,i._location,aT(),new Yo(e,!0),n);return i.storage.makeRequestWithTokens(o,fT).then(l=>({metadata:l,ref:i}))}function pM(i){i._throwIfRoot("getDownloadURL");const e=aM(i.storage,i._location,aT());return i.storage.makeRequestWithTokens(e,fT).then(n=>{if(n===null)throw CL();return n})}function mM(i,e){const n=$L(i._location.path,e),o=new Oi(i._location.bucket,n);return new rl(i.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i){return/^[A-Za-z]+:\/\//.test(i)}function _M(i,e){return new rl(i,e)}function dT(i,e){if(i instanceof v_){const n=i;if(n._bucket==null)throw TL();const o=new rl(n,n._bucket);return e!=null?dT(o,e):o}else return e!==void 0?mM(i,e):i}function vM(i,e){if(e&&gM(e)){if(i instanceof v_)return _M(i,e);throw sg("To use ref(service, url), the first argument must be a Storage instance.")}else return dT(i,e)}function d0(i,e){const n=e?.[JE];return n==null?null:Oi.makeFromBucketSpec(n,i)}function yM(i,e,n,o={}){i.host=`${e}:${n}`;const l=Zr(e);l&&(ld(`https://${i.host}/b`),ud("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:h}=o;h&&(i._overrideAuthToken=typeof h=="string"?h:gg(h,i.app.options.projectId))}class v_{constructor(e,n,o,l,h,m=!1){this.app=e,this._authProvider=n,this._appCheckProvider=o,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=QE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dL,this._maxUploadRetryTime=pL,this._requests=new Set,l!=null?this._bucket=Oi.makeFromBucketSpec(l,this._host):this._bucket=d0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=d0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rl(this,e)}_makeRequest(e,n,o,l,h=!0){if(this._deleted)return new NL(eT());{const m=BL(e,this._appId,o,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(e,n){const[o,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,o,l).getPromise()}}const p0="@firebase/storage",m0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="storage";function mT(i,e,n){return i=Nn(i),dM(i,e,n)}function gT(i){return i=Nn(i),pM(i)}function _T(i,e){return i=Nn(i),vM(i,e)}function bM(i=dd(),e){i=Nn(i);const o=nh(i,pT).getImmediate({identifier:e}),l=mg("storage");return l&&wM(o,...l),o}function wM(i,e,n,o={}){yM(i,e,n,o)}function SM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new v_(n,o,l,e,aa)}function EM(){ta(new Hr(pT,SM,"PUBLIC").setMultipleInstances(!0)),$i(p0,m0,""),$i(p0,m0,"esm2020")}EM();const TM={apiKey:"AIzaSyDY4x8s6HJO5O8zfR5oeJRjW8iy9mJakHo",authDomain:"komuni-app.firebaseapp.com",databaseURL:"https://komuni-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"komuni-app",storageBucket:"komuni-app.firebasestorage.app",messagingSenderId:"1039755494173",appId:"1:1039755494173:web:11e00b664e58cc9c46d7f4",measurementId:"G-W7KFF9QJLK"},xd=$0(TM),nr=MI(xd);c2(xd);const vT=bM(xd);hL(xd);async function xM(i){try{const e={...i,fecha:new Date().toISOString(),leido:!1},n=fE(tr(nr,"contactpage"));return await Qf(n,e),console.log("Mensaje de contacto enviado con ID:",n.key),n.key}catch(e){throw console.error("Error al enviar mensaje de contacto:",e),e}}async function yT(){try{const i=tr(nr,"contactpage"),e=await ll(i),n=[];return e.exists()&&e.forEach(o=>{n.push({id:o.key,...o.val()})}),n.sort((o,l)=>new Date(l.fecha).getTime()-new Date(o.fecha).getTime())}catch(i){throw console.error("Error al obtener mensajes de contacto:",i),i}}async function bT(){try{const i=tr(nr,"admins"),e=await ll(i);if(e.exists()){const n=e.val();return Object.values(n)}return[]}catch(i){throw console.error("Error al obtener administradores:",i),i}}async function CM(){try{const i=tr(nr,"usuarios"),e=await ll(i),n=[];return e.exists()&&e.forEach(o=>{n.push({uid:o.key,...o.val()})}),n}catch(i){throw console.error("Error al obtener usuarios:",i),i}}async function RM(){try{const[i,e,n,o]=await Promise.all([CM(),ll(tr(nr,"reportes")),yT(),bT()]),l=e.exists()?Object.keys(e.val()).length:0;return{totalUsers:i.length,totalReports:l,totalContacts:n.length,totalAdmins:o.length}}catch(i){return console.error("Error al obtener estadsticas:",i),{totalUsers:0,totalReports:0,totalContacts:0,totalAdmins:0}}}const AM=()=>{const[i,e]=K.useState([]),[n,o]=K.useState(!0),[l,h]=K.useState(null);return K.useEffect(()=>{(async()=>{try{o(!0),h(null);const v=await bT();e(v)}catch(v){console.error("Error al cargar el equipo:",v),h(v instanceof Error?v.message:"Ocurri un error desconocido")}finally{o(!1)}})()},[]),{equipo:i,loading:n,error:l}},NM=()=>{const{equipo:i}=AM();return S.jsxs("div",{className:"about-container",children:[" ",S.jsx("h1",{className:"about-title",children:"Sobre nuestro equipo"})," ",S.jsx("br",{}),S.jsxs("div",{className:"team-cards-container",children:[" ",i.map(e=>S.jsxs("div",{className:"team-member-card",children:[S.jsx("img",{src:e.imagen,alt:"Foto de perfil de "+e.nombre,className:"member-profile-pic"}),S.jsx("h3",{className:"member-name",children:e.nombre})," ",S.jsxs("p",{className:"member-description",children:[" ",e.descripcin]}),S.jsxs("div",{className:"social-icons-container",children:[" ",S.jsxs("a",{href:e.Github,target:"_blank",rel:"noopener noreferrer",children:[" ",S.jsx("img",{src:"/icons/github.png",alt:"Logo de Github",className:"social-icon"})]}),S.jsxs("a",{href:e.Linkedin,target:"_blank",rel:"noopener noreferrer",children:[" ",S.jsx("img",{src:"/icons/linkedin.png",alt:"Logo de Linkedin",className:"social-icon"})]})]})]},e.nombre))]}),S.jsxs("ul",{className:"mission-vision-values",children:[" ",S.jsxs("li",{className:"mision-item",children:[" ",S.jsx("h3",{className:"item-title",children:" Misin"})," ",S.jsxs("p",{className:"item-description",children:[" ","Crear una comunidad digital colaborativa que visibilice, reporte y mejore los espacios pblicos para personas con discapacidad o movilidad reducida, facilitando el acceso a informacin til, precisa y actualizada sobre zonas accesibles en tiempo real."]})]}),S.jsxs("li",{className:"vision-item",children:[" ",S.jsx("h3",{className:"item-title",children:" Visin"})," ",S.jsxs("p",{className:"item-description",children:[" ","Ser la plataforma lder en accesibilidad urbana, donde usuarios, entidades pblicas y organizaciones trabajen juntos para construir ciudades ms inclusivas, seguras y adaptadas para todos, sin importar sus capacidades fsicas."]})]}),S.jsxs("li",{className:"valores-item",children:[" ",S.jsx("h3",{className:"item-title",children:" Valores"})," ",S.jsxs("p",{className:"item-description",children:[" ","Compromiso con la inclusin, respeto por la diversidad, colaboracin entre ciudadanos y transparencia en la informacin. En KOMUNI creemos que el acceso equitativo al espacio pblico es un derecho, no un privilegio."]})]})]})]})};var xc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var OM=xc.exports,g0;function IM(){return g0||(g0=1,function(i,e){(function(n,o){o(e)})(OM,function(n){var o="1.9.4";function l(r){var u,d,_,E;for(d=1,_=arguments.length;d<_;d++){E=arguments[d];for(u in E)r[u]=E[u]}return r}var h=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function m(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var _=d.call(arguments,2);return function(){return r.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function w(r,u,d){var _,E,N,q;return q=function(){_=!1,E&&(N.apply(d,E),E=!1)},N=function(){_?E=arguments:(r.apply(d,arguments),setTimeout(q,u),_=!0)},N}function C(r,u,d){var _=u[1],E=u[0],N=_-E;return r===_&&d?r:((r-E)%N+N)%N+E}function A(){return!1}function O(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function Z(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function F(r){return Z(r).split(/\s+/)}function te(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function Q(r,u,d){var _=[];for(var E in r)_.push(encodeURIComponent(d?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function G(r,u){return r.replace(J,function(d,_){var E=u[_];if(E===void 0)throw new Error("No value provided for variable "+d);return typeof E=="function"&&(E=E(u)),E})}var X=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function me(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var H=0;function R(r){var u=+new Date,d=Math.max(0,16-(u-H));return H=u+d,window.setTimeout(r,d)}var P=window.requestAnimationFrame||$("RequestAnimationFrame")||R,z=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function j(r,u,d){if(d&&P===R)r.call(u);else return P.call(window,m(r,u))}function I(r){r&&z.call(window,r)}var D={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:w,wrapNum:C,falseFn:A,formatNum:O,trim:Z,splitWords:F,setOptions:te,getParamString:Q,template:G,isArray:X,indexOf:me,emptyImageUrl:ae,requestFn:P,cancelFn:z,requestAnimFrame:j,cancelAnimFrame:I};function ce(){}ce.extend=function(r){var u=function(){te(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return r.statics&&l(u,r.statics),r.includes&&(B(r.includes),l.apply(null,[_].concat(r.includes))),l(_,r),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,q=_._initHooks.length;N<q;N++)_._initHooks[N].call(this)}},u},ce.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},ce.mergeOptions=function(r){return l(this.prototype.options,r),this},ce.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function B(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=X(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u);else{r=F(r);for(var E=0,N=r.length;E<N;E++)this._on(r[E],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],u);else{r=F(r);for(var E=arguments.length===1,N=0,q=r.length;N<q;N++)E?this._off(r[N]):this._off(r[N],u,d)}return this},_on:function(r,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var E={fn:u,ctx:d};_&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,u,d){var _,E,N;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,N=_.length;E<N;E++)_[E].fn=A;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var q=this._listens(r,u,d);if(q!==!1){var ne=_[q];this._firingCount&&(ne.fn=A,this._events[r]=_=_.slice()),_.splice(q,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var _=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var N=0,q=E.length;N<q;N++){var ne=E[N],de=ne.fn;ne.once&&this.off(r,de,ne.ctx),de.call(ne.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(r,u,d,_){typeof r!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(_=!!u,E=void 0,d=void 0);var N=this._events&&this._events[r];if(N&&N.length&&this._listens(r,E,d)!==!1)return!0;if(_){for(var q in this._eventParents)if(this._eventParents[q].listens(r,u,d,_))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var _=this._events[r]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var E=0,N=_.length;E<N;E++)if(_[E].fn===u&&_[E].ctx===d)return E;return!1},once:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u,!0);else{r=F(r);for(var E=0,N=r.length;E<N;E++)this._on(r[E],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var se=ce.extend(W);function re(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var Ce=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new re(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new re(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(r){r=U(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function U(r,u,d){return r instanceof re?r:X(r)?new re(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new re(r.x,r.y):new re(r,u,d)}function ue(r,u){if(r)for(var d=u?[r,u]:r,_=0,E=d.length;_<E;_++)this.extend(d[_])}ue.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof re||typeof r[0]=="number"||"x"in r)u=d=U(r);else if(r=be(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof re?r=U(r):r=be(r),r instanceof ue?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=be(r);var u=this.min,d=this.max,_=r.min,E=r.max,N=E.x>=u.x&&_.x<=d.x,q=E.y>=u.y&&_.y<=d.y;return N&&q},overlaps:function(r){r=be(r);var u=this.min,d=this.max,_=r.min,E=r.max,N=E.x>u.x&&_.x<d.x,q=E.y>u.y&&_.y<d.y;return N&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*r,E=Math.abs(u.y-d.y)*r;return be(U(u.x-_,u.y-E),U(d.x+_,d.y+E))},equals:function(r){return r?(r=be(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function be(r,u){return!r||r instanceof ue?r:new ue(r,u)}function ye(r,u){if(r)for(var d=u?[r,u]:r,_=0,E=d.length;_<E;_++)this.extend(d[_])}ye.prototype={extend:function(r){var u=this._southWest,d=this._northEast,_,E;if(r instanceof Ae)_=r,E=r;else if(r instanceof ye){if(_=r._southWest,E=r._northEast,!_||!E)return this}else return r?this.extend(xe(r)||Te(r)):this;return!u&&!d?(this._southWest=new Ae(_.lat,_.lng),this._northEast=new Ae(E.lat,E.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(E.lat,d.lat),d.lng=Math.max(E.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*r,E=Math.abs(u.lng-d.lng)*r;return new ye(new Ae(u.lat-_,u.lng-E),new Ae(d.lat+_,d.lng+E))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ae||"lat"in r?r=xe(r):r=Te(r);var u=this._southWest,d=this._northEast,_,E;return r instanceof ye?(_=r.getSouthWest(),E=r.getNorthEast()):_=E=r,_.lat>=u.lat&&E.lat<=d.lat&&_.lng>=u.lng&&E.lng<=d.lng},intersects:function(r){r=Te(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),N=E.lat>=u.lat&&_.lat<=d.lat,q=E.lng>=u.lng&&_.lng<=d.lng;return N&&q},overlaps:function(r){r=Te(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),N=E.lat>u.lat&&_.lat<d.lat,q=E.lng>u.lng&&_.lng<d.lng;return N&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=Te(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(r,u){return r instanceof ye?r:new ye(r,u)}function Ae(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}Ae.prototype={equals:function(r,u){if(!r)return!1;r=xe(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+O(this.lat,r)+", "+O(this.lng,r)+")"},distanceTo:function(r){return Ke.distance(this,xe(r))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return Te([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function xe(r,u,d){return r instanceof Ae?r:X(r)&&typeof r[0]!="object"?r.length===3?new Ae(r[0],r[1],r[2]):r.length===2?new Ae(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ae(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Ae(r,u,d)}var pt={latLngToPoint:function(r,u){var d=this.projection.project(r),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(r,u){var d=this.scale(u),_=this.transformation.untransform(r,d);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),_=this.transformation.transform(u.min,d),E=this.transformation.transform(u.max,d);return new ue(_,E)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new Ae(d,u,_)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,E=u.lng-d.lng;if(_===0&&E===0)return r;var N=r.getSouthWest(),q=r.getNorthEast(),ne=new Ae(N.lat-_,N.lng-E),de=new Ae(q.lat-_,q.lng-E);return new ye(ne,de)}},Ke=l({},pt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,_=r.lat*d,E=u.lat*d,N=Math.sin((u.lat-r.lat)*d/2),q=Math.sin((u.lng-r.lng)*d/2),ne=N*N+Math.cos(_)*Math.cos(E)*q*q,de=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*de}}),li=6378137,Ii={R:li,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,r.lat),-d),E=Math.sin(_*u);return new re(this.R*r.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var u=180/Math.PI;return new Ae((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=li*Math.PI;return new ue([-r,-r],[r,r])}()};function ui(r,u,d,_){if(X(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=_}ui.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new re((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function ci(r,u,d,_){return new ui(r,u,d,_)}var ts=l({},Ke,{code:"EPSG:3857",projection:Ii,transformation:function(){var r=.5/(Math.PI*Ii.R);return ci(r,.5,-r,.5)}()}),rr=l({},ts,{code:"EPSG:900913"});function Yr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function la(r,u){var d="",_,E,N,q,ne,de;for(_=0,N=r.length;_<N;_++){for(ne=r[_],E=0,q=ne.length;E<q;E++)de=ne[E],d+=(E?"L":"M")+de.x+" "+de.y;d+=u?Pe.svg?"z":"x":""}return d||"M0 0"}var On=document.documentElement.style,Kr="ActiveXObject"in window,ua=Kr&&!document.addEventListener,or="msLaunchUri"in navigator&&!("documentMode"in document),ns=Pn("webkit"),ul=Pn("android"),ar=Pn("android 2")||Pn("android 3"),ca=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cl=ul&&Pn("Google")&&ca<537&&!("AudioNode"in window),Tt=!!window.opera,ot=!or&&Pn("chrome"),In=Pn("gecko")&&!ns&&!Tt&&!Kr,ln=!ot&&Pn("safari"),ha=Pn("phantom"),hl="OTransition"in On,lr=navigator.platform.indexOf("Win")===0,Ns=Kr&&"transition"in On,is="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ar,Qn="MozPerspective"in On,Xr=!window.L_DISABLE_3D&&(Ns||is||Qn)&&!hl&&!ha,hi=typeof orientation<"u"||Pn("mobile"),fa=hi&&ns,da=hi&&is,pa=!window.PointerEvent&&window.MSPointerEvent,Pi=!!(window.PointerEvent||pa),Li="ontouchstart"in window||!!window.TouchEvent,ma=!window.L_NO_TOUCH&&(Li||Pi),ss=hi&&Tt,ga=hi&&In,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$r=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return r}(),Os=function(){return!!document.createElement("canvas").getContext}(),Qr=!!(document.createElementNS&&Yr("svg").createSVGRect),xt=!!Qr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Gt=!Qr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),zt=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Pn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Pe={ie:Kr,ielt9:ua,edge:or,webkit:ns,android:ul,android23:ar,androidStock:cl,opera:Tt,chrome:ot,gecko:In,safari:ln,phantom:ha,opera12:hl,win:lr,ie3d:Ns,webkit3d:is,gecko3d:Qn,any3d:Xr,mobile:hi,mobileWebkit:fa,mobileWebkit3d:da,msPointer:pa,pointer:Pi,touch:ma,touchNative:Li,mobileOpera:ss,mobileGecko:ga,retina:ur,passiveEvents:$r,canvas:Os,svg:Qr,vml:Gt,inlineSvg:xt,mac:zt,linux:Jn},rs=Pe.msPointer?"MSPointerDown":"pointerdown",_a=Pe.msPointer?"MSPointerMove":"pointermove",Is=Pe.msPointer?"MSPointerUp":"pointerup",Ps=Pe.msPointer?"MSPointerCancel":"pointercancel",Mi={touchstart:rs,touchmove:_a,touchend:Is,touchcancel:Ps},fi={touchstart:hr,touchmove:cr,touchend:cr,touchcancel:cr},yn={},un=!1;function kt(r,u,d){return u==="touchstart"&&fl(),fi[u]?(d=fi[u].bind(this,d),r.addEventListener(Mi[u],d,!1),d):(console.warn("wrong event specified:",u),A)}function va(r,u,d){if(!Mi[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(Mi[u],d,!1)}function Jr(r){yn[r.pointerId]=r}function di(r){yn[r.pointerId]&&(yn[r.pointerId]=r)}function Di(r){delete yn[r.pointerId]}function fl(){un||(document.addEventListener(rs,Jr,!0),document.addEventListener(_a,di,!0),document.addEventListener(Is,Di,!0),document.addEventListener(Ps,Di,!0),un=!0)}function cr(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in yn)u.touches.push(yn[d]);u.changedTouches=[u],r(u)}}function hr(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&vt(u),cr(r,u)}function dl(r){var u={},d,_;for(_ in r)d=r[_],u[_]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Ls=200;function ki(r,u){r.addEventListener("dblclick",u);var d=0,_;function E(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var q=no(N);if(!(q.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!q.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var ne=Date.now();ne-d<=Ls?(_++,_===2&&u(dl(N))):_=1,d=ne}}}return r.addEventListener("click",E),{dblclick:u,simDblclick:E}}function tn(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var os=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ms=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ji=Ms==="webkitTransition"||Ms==="OTransition"?Ms+"End":"transitionend";function fr(r){return typeof r=="string"?document.getElementById(r):r}function Ui(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);d=_?_[u]:null}return d==="auto"?null:d}function Ze(r,u,d){var _=document.createElement(r);return _.className=u||"",d&&d.appendChild(_),_}function ft(r){var u=r.parentNode;u&&u.removeChild(r)}function Kt(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function zi(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Ds(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function ks(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Pt(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qe(r,u){if(r.classList!==void 0)for(var d=F(u),_=0,E=d.length;_<E;_++)r.classList.add(d[_]);else if(!ks(r,u)){var N=Pt(r);ya(r,(N?N+" ":"")+u)}}function mt(r,u){r.classList!==void 0?r.classList.remove(u):ya(r,Z((" "+Pt(r)+" ").replace(" "+u+" "," ")))}function ya(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Pt(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ct(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&dr(r,u)}function dr(r,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+_+"(opacity="+u+")"}function pi(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function bn(r,u,d){var _=u||new re(0,0);r.style[os]=(Pe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function je(r,u){r._leaflet_pos=u,Pe.any3d?bn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Bn(r){return r._leaflet_pos||new re(0,0)}var cn,mi,eo;if("onselectstart"in document)cn=function(){Me(window,"selectstart",vt)},mi=function(){tt(window,"selectstart",vt)};else{var as=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cn=function(){if(as){var r=document.documentElement.style;eo=r[as],r[as]="none"}},mi=function(){as&&(document.documentElement.style[as]=eo,eo=void 0)}}function pr(){Me(window,"dragstart",vt)}function ba(){tt(window,"dragstart",vt)}var to,js;function gi(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(wn(),to=r,js=r.style.outlineStyle,r.style.outlineStyle="none",Me(window,"keydown",wn))}function wn(){to&&(to.style.outlineStyle=js,to=void 0,js=void 0,tt(window,"keydown",wn))}function Bi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function _i(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var wa={__proto__:null,TRANSFORM:os,TRANSITION:Ms,TRANSITION_END:ji,get:fr,getStyle:Ui,create:Ze,remove:ft,empty:Kt,toFront:zi,toBack:Ds,hasClass:ks,addClass:qe,removeClass:mt,setClass:ya,getClass:Pt,setOpacity:Ct,testProp:pi,setTransform:bn,setPosition:je,getPosition:Bn,get disableTextSelection(){return cn},get enableTextSelection(){return mi},disableImageDrag:pr,enableImageDrag:ba,preventOutline:gi,restoreOutline:wn,getSizedParentNode:Bi,getScale:_i};function Me(r,u,d,_){if(u&&typeof u=="object")for(var E in u)ls(r,E,u[E],d);else{u=F(u);for(var N=0,q=u.length;N<q;N++)ls(r,u[N],d,_)}return this}var Hn="_leaflet_events";function tt(r,u,d,_){if(arguments.length===1)ei(r),delete r[Hn];else if(u&&typeof u=="object")for(var E in u)ti(r,E,u[E],d);else if(u=F(u),arguments.length===2)ei(r,function(ne){return me(u,ne)!==-1});else for(var N=0,q=u.length;N<q;N++)ti(r,u[N],d,_);return this}function ei(r,u){for(var d in r[Hn]){var _=d.split(/\d/)[0];(!u||u(_))&&ti(r,_,null,null,d)}}var Ln={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ls(r,u,d,_){var E=u+y(d)+(_?"_"+y(_):"");if(r[Hn]&&r[Hn][E])return this;var N=function(ne){return d.call(_||r,ne||window.event)},q=N;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?N=kt(r,u,N):Pe.touch&&u==="dblclick"?N=ki(r,N):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Ln[u]||u,N,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(N=function(ne){ne=ne||window.event,cs(r,ne)&&q(ne)},r.addEventListener(Ln[u],N,!1)):r.addEventListener(u,q,!1):r.attachEvent("on"+u,N),r[Hn]=r[Hn]||{},r[Hn][E]=N}function ti(r,u,d,_,E){E=E||u+y(d)+(_?"_"+y(_):"");var N=r[Hn]&&r[Hn][E];if(!N)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?va(r,u,N):Pe.touch&&u==="dblclick"?tn(r,N):"removeEventListener"in r?r.removeEventListener(Ln[u]||u,N,!1):r.detachEvent("on"+u,N),r[Hn][E]=null}function Mn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function vi(r){return ls(r,"wheel",Mn),this}function us(r){return Me(r,"mousedown touchstart dblclick contextmenu",Mn),r._leaflet_disable_click=!0,this}function vt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function hn(r){return vt(r),Mn(r),this}function no(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function Zt(r,u){if(!u)return new re(r.clientX,r.clientY);var d=_i(u),_=d.boundingClientRect;return new re((r.clientX-_.left)/d.x-u.clientLeft,(r.clientY-_.top)/d.y-u.clientTop)}var ct=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mr(r){return Pe.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/ct:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function cs(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var pl={__proto__:null,on:Me,off:tt,stopPropagation:Mn,disableScrollPropagation:vi,disableClickPropagation:us,preventDefault:vt,stop:hn,getPropagationPath:no,getMousePosition:Zt,getWheelDelta:mr,isExternalTarget:cs,addListener:Me,removeListener:tt},gr=se.extend({run:function(r,u,d,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Bn(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),je(this._el,d),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ve=se.extend({options:{crs:ts,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=te(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(xe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ms&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(xe(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var _=this.getZoomScale(u),E=this.getSize().divideBy(2),N=r instanceof re?r:this.latLngToContainerPoint(r),q=N.subtract(E).multiplyBy(1-1/_),ne=this.containerPointToLatLng(E.add(q));return this.setView(ne,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():Te(r);var d=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(r,!1,d.add(_));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var N=_.subtract(d).divideBy(2),q=this.project(r.getSouthWest(),E),ne=this.project(r.getNorthEast(),E),de=this.unproject(q.add(ne).divideBy(2).add(N),E);return{center:de,zoom:E}},fitBounds:function(r,u){if(r=Te(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=U(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qe(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Pe.any3d)return this.setView(r,u,d);this._stop();var _=this.project(this.getCenter()),E=this.project(r),N=this.getSize(),q=this._zoom;r=xe(r),u=u===void 0?q:u;var ne=Math.max(N.x,N.y),de=ne*this.getZoomScale(q,u),we=E.distanceTo(_)||1,Re=1.42,Ne=Re*Re;function Ie(Lt){var Gi=Lt?-1:1,gs=Lt?de:ne,Fs=de*de-ne*ne+Gi*Ne*Ne*we*we,_s=2*gs*Ne*we,ka=Fs/_s,Cl=Math.sqrt(ka*ka+1)-ka,ja=Cl<1e-9?-18:Math.log(Cl);return ja}function Be(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function At(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function jt(Lt){return Be(Lt)/At(Lt)}var dn=Ie(0);function ni(Lt){return ne*(At(dn)/At(dn+Re*Lt))}function bh(Lt){return ne*(At(dn)*jt(dn+Re*Lt)-Be(dn))/Ne}function wh(Lt){return 1-Math.pow(1-Lt,1.5)}var Da=Date.now(),wo=(Ie(1)-dn)/Re,Sh=d.duration?1e3*d.duration:1e3*wo*.8;function So(){var Lt=(Date.now()-Da)/Sh,Gi=wh(Lt)*wo;Lt<=1?(this._flyToFrame=j(So,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(bh(Gi)/we)),q),this.getScaleZoom(ne/ni(Gi),q),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),So.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=Te(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,Te(r));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),N=this.project(r),q=this.getPixelBounds(),ne=be([q.min.add(d),q.max.subtract(_)]),de=ne.getSize();if(!ne.contains(N)){this._enforcingBounds=!0;var we=N.subtract(ne.getCenter()),Re=ne.extend(N).getSize().subtract(de);E.x+=we.x<0?-Re.x:Re.x,E.y+=we.y<0?-Re.y:Re.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),E=d.divideBy(2).round(),N=_.subtract(E);return!N.x&&!N.y?this:(r.animate&&r.pan?this.panBy(N):(r.pan&&this._rawPanBy(N),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,_=new Ae(u,d),E=_.toBounds(r.coords.accuracy*2),N=this._locateOptions;if(N.setView){var q=this.getBoundsZoom(E);this.setView(_,N.maxZoom?Math.min(q,N.maxZoom):q)}var ne={latlng:_,bounds:E,timestamp:r.timestamp};for(var de in r.coords)typeof r.coords[de]=="number"&&(ne[de]=r.coords[de]);this.fire("locationfound",ne)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ft(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Ze("div",d,u||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ye(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=Te(r),d=U(d||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),N=this.getMaxZoom(),q=r.getNorthWest(),ne=r.getSouthEast(),de=this.getSize().subtract(d),we=be(this.project(ne,_),this.project(q,_)).getSize(),Re=Pe.any3d?this.options.zoomSnap:1,Ne=de.x/we.x,Ie=de.y/we.y,Be=u?Math.max(Ne,Ie):Math.min(Ne,Ie);return _=this.getScaleZoom(Be,_),Re&&(_=Math.round(_/(Re/100))*(Re/100),_=u?Math.ceil(_/Re)*Re:Math.floor(_/Re)*Re),Math.max(E,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new ue(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(r*d.scale(u));return isNaN(_)?1/0:_},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(xe(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(U(r),u)},layerPointToLatLng:function(r){var u=U(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(xe(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(xe(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Te(r))},distance:function(r,u){return this.options.crs.distance(xe(r),xe(u))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(r)))},mouseEventToContainerPoint:function(r){return Zt(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=fr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,qe(r,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),je(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qe(r.markerPane,"leaflet-zoom-hide"),qe(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){je(this._mapPane,new re(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,d)._move(r,u)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,_){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?d&&d.pinch&&this.fire("zoom",d):((E||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){je(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var u=r?tt:Me;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],_,E=u==="mouseout"||u==="mouseover",N=r.target||r.srcElement,q=!1;N;){if(_=this._targets[y(N)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){q=!0;break}if(_&&_.listens(u,!0)&&(E&&!cs(N,r)||(d.push(_),E))||N===this._container)break;N=N.parentNode}return!d.length&&!q&&!E&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&gi(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var _=l({},r);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var E=this._findEventTargets(r,u);if(d){for(var N=[],q=0;q<d.length;q++)d[q].listens(u,!0)&&N.push(d[q]);E=N.concat(E)}if(E.length){u==="contextmenu"&&vt(r);var ne=E[0],de={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var we=ne.getLatLng&&(!ne._radius||ne._radius<=10);de.containerPoint=we?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(r),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=we?ne.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(q=0;q<E.length;q++)if(E[q].fire(u,de,!0),de.originalEvent._stopped||E[q].options.bubblingMouseEvents===!1&&me(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Bn(this._mapPane)||new re(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return be([this.project(r.getSouthWest(),u)._subtract(_),this.project(r.getNorthWest(),u)._subtract(_),this.project(r.getSouthEast(),u)._subtract(_),this.project(r.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var _=this.project(r,u),E=this.getSize().divideBy(2),N=new ue(_.subtract(E),_.add(E)),q=this._getBoundsOffset(N,d,u);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(_.add(q),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),_=new ue(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(r,u,d){var _=be(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),E=_.min.subtract(r.min),N=_.max.subtract(r.max),q=this._rebound(E.x,-N.x),ne=this._rebound(E.y,-N.y);return new re(q,ne)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Pe.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=os,_=this._proxy.style[d];bn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();bn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),E=this._getCenterOffset(r)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(E)?!1:(j(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hi(r,u){return new Ve(r,u)}var nn=ce.extend({options:{position:"topright"},initialize:function(r){te(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),_=r._controlCorners[d];return qe(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),fn=function(r){return new nn(r)};Ve.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Ze("div",u+"control-container",this._container);function _(E,N){var q=u+E+" "+u+N;r[E+N]=Ze("div",q,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ft(this._controlCorners[r]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Sa=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(r,u,d){te(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Ze("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),us(u),vi(u);var _=this._section=Ze("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Me(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Ze("a",r+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),Me(E,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){vt(N),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ze("div",r+"-base",_),this._separator=Ze("div",r+"-separator",_),this._overlaysList=Ze("div",r+"-overlays",_),u.appendChild(_)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kt(this._baseLayersList),Kt(this._overlaysList),this._layerControlInputs=[];var r,u,d,_,E=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,r=r||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(y(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(r.layer),Me(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var N=document.createElement("span");u.appendChild(N),N.appendChild(_),N.appendChild(E);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,_=[],E=[];this._handlingClick=!0;for(var N=r.length-1;N>=0;N--)u=r[N],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||E.push(d);for(N=0;N<E.length;N++)this._map.hasLayer(E[N])&&this._map.removeLayer(E[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,_=this._map.getZoom(),E=r.length-1;E>=0;E--)u=r[E],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Me(r,"click",vt),this.expand();var u=this;setTimeout(function(){tt(r,"click",vt),u._preventClick=!1})}}),Su=function(r,u,d){return new Sa(r,u,d)},hs=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Ze("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,_,E){var N=Ze("a",d,_);return N.innerHTML=r,N.href="#",N.title=u,N.setAttribute("role","button"),N.setAttribute("aria-label",u),us(N),Me(N,"click",hn),Me(N,"click",E,this),Me(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";mt(this._zoomInButton,u),mt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hs,this.addControl(this.zoomControl))});var io=function(r){return new hs(r)},so=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Ze("div",u),_=this.options;return this._addScales(_,u+"-line",d),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Ze("div",u,d)),r.imperial&&(this._iScale=Ze("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,_,E;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),ro=function(r){return new so(r)},ml='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Us=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?ml+" ":"")+"Leaflet</a>"},initialize:function(r){te(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),us(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&new Us().addTo(this)});var Eu=function(r){return new Us(r)};nn.Layers=Sa,nn.Zoom=hs,nn.Scale=so,nn.Attribution=Us,fn.layers=Su,fn.zoom=io,fn.scale=ro,fn.attribution=Eu;var Dn=ce.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(r,u){return r.addHandler(u,this),this};var _r={Events:W},Ea=Pe.touch?"touchstart mousedown":"mousedown",yi=se.extend({options:{clickTolerance:3},initialize:function(r,u,d,_){te(this,_),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Me(this._dragStartTarget,Ea,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yi._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,Ea,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!ks(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){yi._dragging===this&&this.finishDrag();return}if(!(yi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(yi._dragging=this,this._preventOutline&&gi(this._element),pr(),cn(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=Bi(this._element);this._startPoint=new re(u.clientX,u.clientY),this._startPos=Bn(this._element),this._parentScale=_i(d);var _=r.type==="mousedown";Me(document,_?"mousemove":"touchmove",this._onMove,this),Me(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new re(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,vt(r),this._moved||(this.fire("dragstart"),this._moved=!0,qe(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),je(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),ba(),mi();var u=this._moved&&this._moving;this._moving=!1,yi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function oo(r,u,d){var _,E=[1,4,2,8],N,q,ne,de,we,Re,Ne,Ie;for(N=0,Re=r.length;N<Re;N++)r[N]._code=qi(r[N],u);for(ne=0;ne<4;ne++){for(Ne=E[ne],_=[],N=0,Re=r.length,q=Re-1;N<Re;q=N++)de=r[N],we=r[q],de._code&Ne?we._code&Ne||(Ie=vr(we,de,Ne,u,d),Ie._code=qi(Ie,u),_.push(Ie)):(we._code&Ne&&(Ie=vr(we,de,Ne,u,d),Ie._code=qi(Ie,u),_.push(Ie)),_.push(de));r=_}return r}function zs(r,u){var d,_,E,N,q,ne,de,we,Re;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ne=xe([0,0]),Ie=Te(r),Be=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Be<1700&&(Ne=ao(r));var At=r.length,jt=[];for(d=0;d<At;d++){var dn=xe(r[d]);jt.push(u.project(xe([dn.lat-Ne.lat,dn.lng-Ne.lng])))}for(ne=de=we=0,d=0,_=At-1;d<At;_=d++)E=jt[d],N=jt[_],q=E.y*N.x-N.y*E.x,de+=(E.x+N.x)*q,we+=(E.y+N.y)*q,ne+=q*3;ne===0?Re=jt[0]:Re=[de/ne,we/ne];var ni=u.unproject(U(Re));return xe([ni.lat+Ne.lat,ni.lng+Ne.lng])}function ao(r){for(var u=0,d=0,_=0,E=0;E<r.length;E++){var N=xe(r[E]);u+=N.lat,d+=N.lng,_++}return xe([u/_,d/_])}var lo={__proto__:null,clipPolygon:oo,polygonCenter:zs,centroid:ao};function Ta(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=_l(r,d),r=gl(r,d),r}function uo(r,u,d){return Math.sqrt(f(r,u,d,!0))}function fs(r,u,d){return f(r,u,d)}function gl(r,u){var d=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(d);E[0]=E[d-1]=1,co(r,E,u,0,d-1);var N,q=[];for(N=0;N<d;N++)E[N]&&q.push(r[N]);return q}function co(r,u,d,_,E){var N=0,q,ne,de;for(ne=_+1;ne<=E-1;ne++)de=f(r[ne],r[_],r[E],!0),de>N&&(q=ne,N=de);N>d&&(u[q]=1,co(r,u,d,_,q),co(r,u,d,q,E))}function _l(r,u){for(var d=[r[0]],_=1,E=0,N=r.length;_<N;_++)Bs(r[_],r[E])>u&&(d.push(r[_]),E=_);return E<N-1&&d.push(r[N-1]),d}var xa;function Sn(r,u,d,_,E){var N=_?xa:qi(r,d),q=qi(u,d),ne,de,we;for(xa=q;;){if(!(N|q))return[r,u];if(N&q)return!1;ne=N||q,de=vr(r,u,ne,d,E),we=qi(de,d),ne===N?(r=de,N=we):(u=de,q=we)}}function vr(r,u,d,_,E){var N=u.x-r.x,q=u.y-r.y,ne=_.min,de=_.max,we,Re;return d&8?(we=r.x+N*(de.y-r.y)/q,Re=de.y):d&4?(we=r.x+N*(ne.y-r.y)/q,Re=ne.y):d&2?(we=de.x,Re=r.y+q*(de.x-r.x)/N):d&1&&(we=ne.x,Re=r.y+q*(ne.x-r.x)/N),new re(we,Re,E)}function qi(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function Bs(r,u){var d=u.x-r.x,_=u.y-r.y;return d*d+_*_}function f(r,u,d,_){var E=u.x,N=u.y,q=d.x-E,ne=d.y-N,de=q*q+ne*ne,we;return de>0&&(we=((r.x-E)*q+(r.y-N)*ne)/de,we>1?(E=d.x,N=d.y):we>0&&(E+=q*we,N+=ne*we)),q=r.x-E,ne=r.y-N,_?q*q+ne*ne:new re(E,N)}function b(r){return!X(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function T(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),b(r)}function k(r,u){var d,_,E,N,q,ne,de,we;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Re=xe([0,0]),Ne=Te(r),Ie=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());Ie<1700&&(Re=ao(r));var Be=r.length,At=[];for(d=0;d<Be;d++){var jt=xe(r[d]);At.push(u.project(xe([jt.lat-Re.lat,jt.lng-Re.lng])))}for(d=0,_=0;d<Be-1;d++)_+=At[d].distanceTo(At[d+1])/2;if(_===0)we=At[0];else for(d=0,N=0;d<Be-1;d++)if(q=At[d],ne=At[d+1],E=q.distanceTo(ne),N+=E,N>_){de=(N-_)/E,we=[ne.x-de*(ne.x-q.x),ne.y-de*(ne.y-q.y)];break}var dn=u.unproject(U(we));return xe([dn.lat+Re.lat,dn.lng+Re.lng])}var ie={__proto__:null,simplify:Ta,pointToSegmentDistance:uo,closestPointOnSegment:fs,clipSegment:Sn,_getEdgeIntersection:vr,_getBitCode:qi,_sqClosestPointOnSegment:f,isFlat:b,_flat:T,polylineCenter:k},pe={project:function(r){return new re(r.lng,r.lat)},unproject:function(r){return new Ae(r.y,r.x)},bounds:new ue([-180,-90],[180,90])},Se={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,_=r.lat*u,E=this.R_MINOR/d,N=Math.sqrt(1-E*E),q=N*Math.sin(_),ne=Math.tan(Math.PI/4-_/2)/Math.pow((1-q)/(1+q),N/2);return _=-d*Math.log(Math.max(ne,1e-10)),new re(r.lng*u*d,_)},unproject:function(r){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,E=Math.sqrt(1-_*_),N=Math.exp(-r.y/d),q=Math.PI/2-2*Math.atan(N),ne=0,de=.1,we;ne<15&&Math.abs(de)>1e-7;ne++)we=E*Math.sin(q),we=Math.pow((1-we)/(1+we),E/2),de=Math.PI/2-2*Math.atan(N*we)-q,q+=de;return new Ae(q*u,r.x*u/d)}},at={__proto__:null,LonLat:pe,Mercator:Se,SphericalMercator:Ii},Rt=l({},Ke,{code:"EPSG:3395",projection:Se,transformation:function(){var r=.5/(Math.PI*Se.R);return ci(r,.5,-r,.5)}()}),Xe=l({},Ke,{code:"EPSG:4326",projection:pe,transformation:ci(1/180,1,-1/180,.5)}),Xt=l({},pt,{projection:pe,transformation:ci(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,_=u.lat-r.lat;return Math.sqrt(d*d+_*_)},infinite:!0});pt.Earth=Ke,pt.EPSG3395=Rt,pt.EPSG3857=ts,pt.EPSG900913=rr,pt.EPSG4326=Xe,pt.Simple=Xt;var dt=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=y(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?X(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=y(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=dt.extend({initialize:function(r,u){te(this,u),this._layers={};var d,_;if(r)for(d=0,_=r.length;d<_;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[r]&&_[r].apply(_,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),jn=function(r,u){return new kn(r,u)},$t=kn.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),kn.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),kn.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ye;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),ds=function(r,u){return new $t(r,u)},ho=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){te(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var E=U(_),N=U(u==="shadow"&&d.shadowAnchor||d.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),N&&(r.style.marginLeft=-N.x+"px",r.style.marginTop=-N.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Pe.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function vl(r){return new ho(r)}var fo=ho.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof fo.imagePath!="string"&&(fo.imagePath=this._detectIconPath()),(this.options.imagePath||fo.imagePath)+ho.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,_,E){var N=_.exec(d);return N&&N[E]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ze("div","leaflet-default-icon-path",document.body),u=Ui(r,"background-image")||Ui(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Tu=Dn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new yi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qe(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,N=Bn(u._icon),q=d.getPixelBounds(),ne=d.getPixelOrigin(),de=be(q.min._subtract(ne).add(E),q.max._subtract(ne).subtract(E));if(!de.contains(N)){var we=U((Math.max(de.max.x,N.x)-de.max.x)/(q.max.x-de.max.x)-(Math.min(de.min.x,N.x)-de.min.x)/(q.min.x-de.min.x),(Math.max(de.max.y,N.y)-de.max.y)/(q.max.y-de.max.y)-(Math.min(de.min.y,N.y)-de.min.y)/(q.min.y-de.min.y)).multiplyBy(_);d.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),je(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=j(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,_=Bn(u._icon),E=u._map.layerPointToLatLng(_);d&&je(d,_),u._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),po=dt.extend({options:{icon:new fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){te(this,u),this._latlng=xe(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=xe(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),qe(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(d,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),N=!1;E!==this._shadow&&(this._removeShadow(),N=!0),E&&(qe(E,u),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&N&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&je(this._icon,r),this._shadow&&je(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ct(this._icon,r),this._shadow&&Ct(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?U(u.iconSize):U(0,0),_=u.iconAnchor?U(u.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xu(r,u){return new po(r,u)}var ps=dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return te(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ca=ps.extend({options:{fill:!0,radius:10},initialize:function(r,u){te(this,u),this._latlng=xe(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=xe(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return ps.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),_=[r+d,u+d];this._pxBounds=new ue(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ph(r,u){return new Ca(r,u)}var Cu=Ca.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),te(this,u),this._latlng=xe(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ps.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Ke.distance){var E=Math.PI/180,N=this._mRadius/Ke.R/E,q=d.project([u+N,r]),ne=d.project([u-N,r]),de=q.add(ne).divideBy(2),we=d.unproject(de).lat,Re=Math.acos((Math.cos(N*E)-Math.sin(u*E)*Math.sin(we*E))/(Math.cos(u*E)*Math.cos(we*E)))/E;(isNaN(Re)||Re===0)&&(Re=N/Math.cos(Math.PI/180*u)),this._point=de.subtract(d.getPixelOrigin()),this._radius=isNaN(Re)?0:de.x-d.project([we,r-Re]).x,this._radiusY=de.y-q.y}else{var Ne=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ne).x}this._updateBounds()}});function Cd(r,u,d){return new Cu(r,u,d)}var ms=ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){te(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,_=f,E,N,q=0,ne=this._parts.length;q<ne;q++)for(var de=this._parts[q],we=1,Re=de.length;we<Re;we++){E=de[we-1],N=de[we];var Ne=_(r,E,N,!0);Ne<u&&(u=Ne,d=_(r,E,N))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=xe(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ye,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return b(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=b(r),_=0,E=r.length;_<E;_++)d?(u[_]=xe(r[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(r[_]);return u},_project:function(){var r=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new re(r,r);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var _=r[0]instanceof Ae,E=r.length,N,q;if(_){for(q=[],N=0;N<E;N++)q[N]=this._map.latLngToLayerPoint(r[N]),d.extend(q[N]);u.push(q)}else for(N=0;N<E;N++)this._projectLatlngs(r[N],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,E,N,q,ne,de;for(d=0,E=0,N=this._rings.length;d<N;d++)for(de=this._rings[d],_=0,q=de.length;_<q-1;_++)ne=Sn(de[_],de[_+1],r,_,!0),ne&&(u[E]=u[E]||[],u[E].push(ne[0]),(ne[1]!==de[_+1]||_===q-2)&&(u[E].push(ne[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,_=r.length;d<_;d++)r[d]=Ta(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,_,E,N,q,ne,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,N=this._parts.length;d<N;d++)for(ne=this._parts[d],_=0,q=ne.length,E=q-1;_<q;E=_++)if(!(!u&&_===0)&&uo(r,ne[E],ne[_])<=de)return!0;return!1}});function Rd(r,u){return new ms(r,u)}ms._flat=T;var mo=ms.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=ms.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof Ae&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){ms.prototype._setLatLngs.call(this,r),b(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return b(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new re(u,u);if(r=new ue(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,N;_<E;_++)N=oo(this._rings[_],r,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,_,E,N,q,ne,de,we;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(N=0,de=this._parts.length;N<de;N++)for(d=this._parts[N],q=0,we=d.length,ne=we-1;q<we;ne=q++)_=d[q],E=d[ne],_.y>r.y!=E.y>r.y&&r.x<(E.x-_.x)*(r.y-_.y)/(E.y-_.y)+_.x&&(u=!u);return u||ms.prototype._containsPoint.call(this,r,!0)}});function qn(r,u){return new mo(r,u)}var Vn=$t.extend({initialize:function(r,u){te(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=X(r)?r:r.features,d,_,E;if(u){for(d=0,_=u.length;d<_;d++)E=u[d],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var N=this.options;if(N.filter&&!N.filter(r))return this;var q=Ra(r,N);return q?(q.feature=go(r),q.defaultOptions=q.options,this.resetStyle(q),N.onEachFeature&&N.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function Ra(r,u){var d=r.type==="Feature"?r.geometry:r,_=d?d.coordinates:null,E=[],N=u&&u.pointToLayer,q=u&&u.coordsToLatLng||yl,ne,de,we,Re;if(!_&&!d)return null;switch(d.type){case"Point":return ne=q(_),Ru(N,r,ne,u);case"MultiPoint":for(we=0,Re=_.length;we<Re;we++)ne=q(_[we]),E.push(Ru(N,r,ne,u));return new $t(E);case"LineString":case"MultiLineString":return de=Aa(_,d.type==="LineString"?0:1,q),new ms(de,u);case"Polygon":case"MultiPolygon":return de=Aa(_,d.type==="Polygon"?1:2,q),new mo(de,u);case"GeometryCollection":for(we=0,Re=d.geometries.length;we<Re;we++){var Ne=Ra({geometry:d.geometries[we],type:"Feature",properties:r.properties},u);Ne&&E.push(Ne)}return new $t(E);case"FeatureCollection":for(we=0,Re=d.features.length;we<Re;we++){var Ie=Ra(d.features[we],u);Ie&&E.push(Ie)}return new $t(E);default:throw new Error("Invalid GeoJSON object.")}}function Ru(r,u,d,_){return r?r(u,d):new po(d,_&&_.markersInheritOptions&&_)}function yl(r){return new Ae(r[1],r[0],r[2])}function Aa(r,u,d){for(var _=[],E=0,N=r.length,q;E<N;E++)q=u?Aa(r[E],u-1,d):(d||yl)(r[E]),_.push(q);return _}function Na(r,u){return r=xe(r),r.alt!==void 0?[O(r.lng,u),O(r.lat,u),O(r.alt,u)]:[O(r.lng,u),O(r.lat,u)]}function bl(r,u,d,_){for(var E=[],N=0,q=r.length;N<q;N++)E.push(u?bl(r[N],b(r[N])?0:u-1,d,_):Na(r[N],_));return!u&&d&&E.length>0&&E.push(E[0].slice()),E}function bi(r,u){return r.feature?l({},r.feature,{geometry:u}):go(u)}function go(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var yr={toGeoJSON:function(r){return bi(this,{type:"Point",coordinates:Na(this.getLatLng(),r)})}};po.include(yr),Cu.include(yr),Ca.include(yr),ms.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=bl(this._latlngs,u?1:0,!1,r);return bi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),mo.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=u&&!b(this._latlngs[0]),_=bl(this._latlngs,d?2:u?1:0,!0,r);return u||(_=[_]),bi(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),kn.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),bi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var N=E.toGeoJSON(r);if(d)_.push(N.geometry);else{var q=go(N);q.type==="FeatureCollection"?_.push.apply(_,q.features):_.push(q)}}}),d?bi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function wl(r,u){return new Vn(r,u)}var mh=wl,Vi=dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=Te(u),te(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&zi(this._image),this},bringToBack:function(){return this._map&&Ds(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Te(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Ze("img");if(qe(u,"leaflet-image-layer"),this._zoomAnimated&&qe(u,"leaflet-zoom-animated"),this.options.className&&qe(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;bn(this._image,d,u)},_reset:function(){var r=this._image,u=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();je(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),_o=function(r,u,d){return new Vi(r,u,d)},Sl=Vi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Ze("video");if(qe(u,"leaflet-image-layer"),this._zoomAnimated&&qe(u,"leaflet-zoom-animated"),this.options.className&&qe(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=m(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),_=[],E=0;E<d.length;E++)_.push(d[E].src);this._url=d.length>0?_:[u.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var q=Ze("source");q.src=this._url[N],u.appendChild(q)}}});function gh(r,u,d){return new Sl(r,u,d)}var Hs=Vi.extend({_initImage:function(){var r=this._image=this._url;qe(r,"leaflet-image-layer"),this._zoomAnimated&&qe(r,"leaflet-zoom-animated"),this.options.className&&qe(r,this.options.className),r.onselectstart=A,r.onmousemove=A}});function _h(r,u,d){return new Hs(r,u,d)}var wi=dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Ae||X(r))?(this._latlng=xe(r),te(this,u)):(te(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(m(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=xe(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zi(this._container),this},bringToBack:function(){return this._map&&Ds(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof $t){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=U(this.options.offset),d=this._getAnchor();this._zoomAnimated?je(this._container,r.add(d)):u=u.add(r).add(d);var _=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ve.include({_initOverlay:function(r,u,d,_){var E=u;return E instanceof r||(E=new r(_).setContent(u)),d&&E.setLatLng(d),E}}),dt.include({_initOverlay:function(r,u,d,_){var E=d;return E instanceof r?(te(E,_),E._source=this):(E=u&&!_?u:new r(_,this),E.setContent(d)),E}});var Oa=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,wi.prototype.openOn.call(this,r)},onAdd:function(r){wi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ps||this._source.on("preclick",Mn))},onRemove:function(r){wi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ps||this._source.off("preclick",Mn))},getEvents:function(){var r=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ze("div",r+"-content-wrapper",u);if(this._contentNode=Ze("div",r+"-content",d),us(u),vi(this._contentNode),Me(u,"contextmenu",Mn),this._tipContainer=Ze("div",r+"-tip-container",u),this._tip=Ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ze("a",r+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Me(_,"click",function(E){vt(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=r.offsetHeight,E=this.options.maxHeight,N="leaflet-popup-scrolled";E&&_>E?(u.height=E+"px",qe(r,N)):mt(r,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();je(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,E=new re(this._containerLeft,-d-this._containerBottom);E._add(Bn(this._container));var N=r.layerPointToContainerPoint(E),q=U(this.options.autoPanPadding),ne=U(this.options.autoPanPaddingTopLeft||q),de=U(this.options.autoPanPaddingBottomRight||q),we=r.getSize(),Re=0,Ne=0;N.x+_+de.x>we.x&&(Re=N.x+_-we.x+de.x),N.x-Re-ne.x<0&&(Re=N.x-ne.x),N.y+d+de.y>we.y&&(Ne=N.y+d-we.y+de.y),N.y-Ne-ne.y<0&&(Ne=N.y-ne.y),(Re||Ne)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Re,Ne]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ad=function(r,u){return new Oa(r,u)};Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(r,u,d){return this._initOverlay(Oa,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),dt.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Oa,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){hn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var El=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){wi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){wi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=wi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,_=this._map,E=this._container,N=_.latLngToContainerPoint(_.getCenter()),q=_.layerPointToContainerPoint(r),ne=this.options.direction,de=E.offsetWidth,we=E.offsetHeight,Re=U(this.options.offset),Ne=this._getAnchor();ne==="top"?(u=de/2,d=we):ne==="bottom"?(u=de/2,d=0):ne==="center"?(u=de/2,d=we/2):ne==="right"?(u=0,d=we/2):ne==="left"?(u=de,d=we/2):q.x<N.x?(ne="right",u=0,d=we/2):(ne="left",u=de+(Re.x+Ne.x)*2,d=we/2),r=r.subtract(U(u,d,!0)).add(Re).add(Ne),mt(E,"leaflet-tooltip-right"),mt(E,"leaflet-tooltip-left"),mt(E,"leaflet-tooltip-top"),mt(E,"leaflet-tooltip-bottom"),qe(E,"leaflet-tooltip-"+ne),je(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ct(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nd=function(r,u){return new El(r,u)};Ve.include({openTooltip:function(r,u,d){return this._initOverlay(El,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),dt.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(El,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Me(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Me(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,_;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Au=ho.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Kt(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=U(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function vh(r){return new Au(r)}ho.Default=fo;var br=dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){te(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ft(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ds(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof re?r:new re(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),_=0,E=u.length,N;_<E;_++)N=u[_].style.zIndex,u[_]!==this._container&&N&&(d=r(d,+N));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Ct(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var N=Math.min(1,(r-E.loaded)/200);Ct(E.el,N),N<1?u=!0:(E.active?d=!0:this._onOpaqueTile(E),E.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(I(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(ft(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[r],E=this._map;return _||(_=this._levels[r]={},_.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,E.getCenter(),E.getZoom()),A(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ft(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,_){var E=Math.floor(r/2),N=Math.floor(u/2),q=d-1,ne=new re(+E,+N);ne.z=+q;var de=this._tileCoordsToKey(ne),we=this._tiles[de];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),q>_?this._retainParent(E,N,q,_):!1)},_retainChildren:function(r,u,d,_){for(var E=2*r;E<2*r+2;E++)for(var N=2*u;N<2*u+2;N++){var q=new re(E,N);q.z=d+1;var ne=this._tileCoordsToKey(q),de=this._tiles[ne];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);d+1<_&&this._retainChildren(E,N,d+1,_)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,_){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var N=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||N)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var _=this._map.getZoomScale(d,r.zoom),E=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Pe.any3d?bn(r.el,E,_):je(r.el,E)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),E=u.project(r,this._tileZoom).floor(),N=u.getSize().divideBy(_*2);return new ue(E.subtract(N),E.add(N))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(_),N=E.getCenter(),q=[],ne=this.options.keepBuffer,de=new ue(E.getBottomLeft().subtract([ne,-ne]),E.getTopRight().add([ne,-ne]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Re=this._tiles[we].coords;(Re.z!==this._tileZoom||!de.contains(new re(Re.x,Re.y)))&&(this._tiles[we].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Ne=E.min.y;Ne<=E.max.y;Ne++)for(var Ie=E.min.x;Ie<=E.max.x;Ie++){var Be=new re(Ie,Ne);if(Be.z=this._tileZoom,!!this._isValidTile(Be)){var At=this._tiles[this._tileCoordsToKey(Be)];At?At.current=!0:q.push(Be)}}if(q.sort(function(dn,ni){return dn.distanceTo(N)-ni.distanceTo(N)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jt=document.createDocumentFragment();for(Ie=0;Ie<q.length;Ie++)this._addTile(q[Ie],jt);this._level.el.appendChild(jt)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return Te(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),_=r.scaleBy(d),E=_.add(d),N=u.unproject(_,r.z),q=u.unproject(E,r.z);return[N,q]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ye(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new re(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(ft(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qe(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=A,r.onmousemove=A,Pe.ielt9&&this.options.opacity<1&&Ct(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),_=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&j(m(this._tileReady,this,r,null,E)),je(E,d),this._tiles[_]={el:E,coords:r,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var _=this._tileCoordsToKey(r);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ct(d.el,0),I(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qe(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new re(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new ue(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Si(r){return new br(r)}var wr=br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=te(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Me(d,"load",m(this._tileOnLoad,this,u,d)),Me(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return G(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Pe.ielt9?setTimeout(m(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(r=u-r),r+_},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=A,u.onerror=A,!u.complete)){u.src=ae;var d=this._tiles[r].coords;ft(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",ae),br.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===ae))return br.prototype._tileReady.call(this,r,u,d)}});function Fn(r,u){return new wr(r,u)}var Gn=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=te(this,u);var E=u.detectRetina&&Pe.retina?2:1,N=this.getTileSize();d.width=N.x*E,d.height=N.y*E,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,wr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,_=be(d.project(u[0]),d.project(u[1])),E=_.min,N=_.max,q=(this._wmsVersion>=1.3&&this._crs===Xe?[E.y,E.x,N.y,N.x]:[E.x,E.y,N.x,N.y]).join(","),ne=wr.prototype.getTileUrl.call(this,r);return ne+Q(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function vo(r,u){return new Gn(r,u)}wr.WMS=Gn,Fn.wms=vo;var Ei=dt.extend({options:{padding:.1},initialize:function(r){te(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),N=_.multiplyBy(-d).add(E).subtract(this._map._getNewPixelOrigin(r,u));Pe.any3d?bn(this._container,N,d):je(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new ue(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ia=Ei.extend({options:{tolerance:0},getEvents:function(){var r=Ei.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Me(r,"mousemove",this._onMouseMove,this),Me(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,ft(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ei.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),_=Pe.retina?2:1;je(u,r.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],_,E;for(E=0;E<u.length;E++){if(_=Number(u[E]),isNaN(_))return;d.push(_)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,_,E,N,q=r._parts,ne=q.length,de=this._ctx;if(ne){for(de.beginPath(),d=0;d<ne;d++){for(_=0,E=q[d].length;_<E;_++)N=q[d][_],de[_?"lineTo":"moveTo"](N.x,N.y);u&&de.closePath()}this._fillStroke(de,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,_=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||_)/_;E!==1&&(d.save(),d.scale(1,E)),d.beginPath(),d.arc(u.x,u.y/E,_,0,Math.PI*2,!1),E!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(mt(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(qe(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Pa(r){return Pe.canvas?new Ia(r):null}var Sr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yo={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ei.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Sr("shape");qe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Sr("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;ft(u),r.removeInteractiveTarget(u),delete this._layers[y(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,_=r.options,E=r._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(u||(u=r._stroke=Sr("stroke")),E.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=X(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(E.removeChild(u),r._stroke=null),_.fill?(d||(d=r._fill=Sr("fill")),E.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(E.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),_=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){zi(r._container)},_bringToBack:function(r){Ds(r._container)}},La=Pe.vml?Sr:Yr,qs=Ei.extend({_initContainer:function(){this._container=La("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=La("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ei.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),je(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=La("path");r.options.className&&qe(u,r.options.className),r.options.interactive&&qe(u,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ft(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,la(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||d,E="a"+d+","+_+" 0 1,0 ",N=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+E+d*2+",0 "+E+-d*2+",0 ";this._setPath(r,N)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){zi(r._path)},_bringToBack:function(r){Ds(r._path)}});Pe.vml&&qs.include(yo);function Er(r){return Pe.svg||Pe.vml?new qs(r):null}Ve.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Pa(r)||Er(r)}});var yh=mo.extend({initialize:function(r,u){mo.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Te(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Zn(r,u){return new yh(r,u)}qs.create=La,qs.pointsToPath=la,Vn.geometryToLayer=Ra,Vn.coordsToLatLng=yl,Vn.coordsToLatLngs=Aa,Vn.latLngToCoords=Na,Vn.latLngsToCoords=bl,Vn.getFeature=bi,Vn.asFeature=go,Ve.mergeOptions({boxZoom:!0});var Tl=Dn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cn(),pr(),this._startPoint=this._map.mouseEventToContainerPoint(r),Me(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new ue(this._point,this._startPoint),d=u.getSize();je(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ft(this._box),mt(this._container,"leaflet-crosshair")),mi(),ba(),tt(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ve.addInitHook("addHandler","boxZoom",Tl),Ve.mergeOptions({doubleClickZoom:!0});var Fi=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,E=r.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(r.containerPoint,E)}});Ve.addInitHook("addHandler","doubleClickZoom",Fi),Ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nu=Dn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new yi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Te(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-u+d)%r+u-d,N=(_+u+d)%r-u-d,q=Math.abs(E+d)<Math.abs(N+d)?E:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var u=this._map,d=u.options,_=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),_)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,q=d.easeLinearity,ne=E.multiplyBy(q/N),de=ne.distanceTo([0,0]),we=Math.min(d.inertiaMaxSpeed,de),Re=ne.multiplyBy(we/de),Ne=we/(d.inertiaDeceleration*q),Ie=Re.multiplyBy(-Ne/2).round();!Ie.x&&!Ie.y?u.fire("moveend"):(Ie=u._limitOffset(Ie,u.options.maxBounds),j(function(){u.panBy(Ie,{duration:Ne,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Ve.addInitHook("addHandler","dragging",Nu),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ma=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Me(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,_=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,_,E;for(_=0,E=d.left.length;_<E;_++)u[d.left[_]]=[-1*r,0];for(_=0,E=d.right.length;_<E;_++)u[d.right[_]]=[r,0];for(_=0,E=d.down.length;_<E;_++)u[d.down[_]]=[0,r];for(_=0,E=d.up.length;_<E;_++)u[d.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,_,E;for(_=0,E=d.zoomIn.length;_<E;_++)u[d.zoomIn[_]]=r;for(_=0,E=d.zoomOut.length;_<E;_++)u[d.zoomOut[_]]=-r},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],r.shiftKey&&(_=U(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(U(_),d.options.maxBounds)),d.options.worldCopyJump){var E=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(E)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;hn(r)}}});Ve.addInitHook("addHandler","keyboard",Ma),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vs=Dn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=mr(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),hn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=d?Math.ceil(E/d)*d:E,q=r._limitZoom(u+(this._delta>0?N:-N))-u;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+q):r.setZoomAround(this._lastMousePos,u+q))}});Ve.addInitHook("addHandler","scrollWheelZoom",Vs);var Ou=600;Ve.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var xl=Dn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new re(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",vt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ou),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){tt(document,"touchend",vt),tt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new re(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Ve.addInitHook("addHandler","tapHold",xl),Ve.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Tr=Dn.extend({addHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),vt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]),E=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var N=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&N.x===0&&N.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var q=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(q,this,!0),vt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ve.addInitHook("addHandler","touchZoom",Tr),Ve.BoxZoom=Tl,Ve.DoubleClickZoom=Fi,Ve.Drag=Nu,Ve.Keyboard=Ma,Ve.ScrollWheelZoom=Vs,Ve.TapHold=xl,Ve.TouchZoom=Tr,n.Bounds=ue,n.Browser=Pe,n.CRS=pt,n.Canvas=Ia,n.Circle=Cu,n.CircleMarker=Ca,n.Class=ce,n.Control=nn,n.DivIcon=Au,n.DivOverlay=wi,n.DomEvent=pl,n.DomUtil=wa,n.Draggable=yi,n.Evented=se,n.FeatureGroup=$t,n.GeoJSON=Vn,n.GridLayer=br,n.Handler=Dn,n.Icon=ho,n.ImageOverlay=Vi,n.LatLng=Ae,n.LatLngBounds=ye,n.Layer=dt,n.LayerGroup=kn,n.LineUtil=ie,n.Map=Ve,n.Marker=po,n.Mixin=_r,n.Path=ps,n.Point=re,n.PolyUtil=lo,n.Polygon=mo,n.Polyline=ms,n.Popup=Oa,n.PosAnimation=gr,n.Projection=at,n.Rectangle=yh,n.Renderer=Ei,n.SVG=qs,n.SVGOverlay=Hs,n.TileLayer=wr,n.Tooltip=El,n.Transformation=ui,n.Util=D,n.VideoOverlay=Sl,n.bind=m,n.bounds=be,n.canvas=Pa,n.circle=Cd,n.circleMarker=ph,n.control=fn,n.divIcon=vh,n.extend=l,n.featureGroup=ds,n.geoJSON=wl,n.geoJson=mh,n.gridLayer=Si,n.icon=vl,n.imageOverlay=_o,n.latLng=xe,n.latLngBounds=Te,n.layerGroup=jn,n.map=Hi,n.marker=xu,n.point=U,n.polygon=qn,n.polyline=Rd,n.popup=Ad,n.rectangle=Zn,n.setOptions=te,n.stamp=y,n.svg=Er,n.svgOverlay=_h,n.tileLayer=Fn,n.tooltip=Nd,n.transformation=ci,n.version=o,n.videoOverlay=gh;var bo=window.L;n.noConflict=function(){return window.L=bo,this},window.L=n})}(xc,xc.exports)),xc.exports}var PM=IM();const Kl=k1(PM);async function LM(i){try{let e=null;if(i.imagen instanceof File){const m=_T(vT,`report_images/${Date.now()}_${i.imagen.name}`),v=await mT(m,i.imagen);e=await gT(v.ref)}let n={uid:null,email:null,displayName:null};const o=localStorage.getItem("loggedUser");if(o){const v=JSON.parse(localStorage.getItem("users")||"[]").find(y=>y.email===o);v&&(n={uid:v.uid,email:v.email,displayName:v.nombre})}const l={calle:i.calle,descripcin:i.descripcin,informacinExtra:i.informacinExtra,latitud:i.latitud,longitud:i.longitud,fecha:i.fecha,tipo:i.tipo,dificultad:i.dificultad,comentarios:i.comentarios,imagen:e,userId:n.uid,userEmail:n.email,userName:n.displayName},h=fE(tr(nr,"reportes"));if(await Qf(h,l),console.log("Reporte aadido con ID: ",h.key),n.uid){console.log(" Guardando reporte para usuario:",n);const m=tr(nr,`usuarios/${n.uid}/reportes`),v=await ll(m),y=v.exists()?v.val():[],w=[...Array.isArray(y)?y:[],h.key];if(await Qf(m,w),console.log(" Reporte guardado en Firebase para usuario"),window.addReportToUser&&typeof window.addReportToUser=="function"){console.log(" Llamando a addReportToUser con ID:",h.key);try{window.addReportToUser(h.key),console.log(" addReportToUser ejecutada correctamente")}catch(C){console.warn(" Error al actualizar localStorage:",C)}}else console.warn(" addReportToUser no est disponible en window")}else console.log(" No hay userInfo.uid, no se guardar en perfil de usuario");return{id:h.key,...l}}catch(e){throw console.error("Error al aadir el reporte: ",e),e}}async function y_(){try{const i=tr(nr,"reportes"),e=await ll(i),n=[];return e.exists()&&e.forEach(o=>{n.push({id:o.key,...o.val()})}),n}catch(i){throw console.error("Error al obtener los reportes: ",i),i}}async function MM(i,e){try{const n=tr(nr,`reportes/${i}`);let o;if(e.imagen instanceof File){const y=_T(vT,`report_images/${Date.now()}_${e.imagen.name}`),w=await mT(y,e.imagen);o=await gT(w.ref)}else(typeof e.imagen=="string"||e.imagen===null)&&(o=e.imagen);const{imagen:l,...h}=e,m={...h};e.hasOwnProperty("imagen")&&(m.imagen=o),await CI(n,m),console.log("Reporte actualizado con ID: ",i);const v=await ll(n);if(v.exists())return{id:v.key,...v.val()};throw new Error("Reporte no encontrado despus de actualizar.")}catch(n){throw console.error("Error al actualizar el reporte: ",n),n}}async function DM(i){try{const e=tr(nr,`reportes/${i}`);await xI(e),console.log("Reporte eliminado con ID: ",i)}catch(e){throw console.error("Error al eliminar el reporte: ",e),e}}function _0(i){const e=i==="permanente"?"red":i==="temporal"?"orange":i==="solucionado"?"green":"blue";return Kl.icon({iconUrl:`/icons/marker-${e}.png`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]})}function kM(i){return i==="permanente"?"":i==="temporal"?"":i==="solucionado"?"":""}function jM(i=""){const e=i.toLowerCase();return e.includes("escalera")||e.includes("escaln")||e.includes("escalon")?"":e.includes("rampa")?"":e.includes("bache")||e.includes("agujero")||e.includes("socavn")||e.includes("socavon")?"":e.includes("acera rota")||e.includes("acera")||e.includes("vereda")?"":e.includes("calle rota")||e.includes("calle")||e.includes("pavimento")?"":e.includes("obstculo")||e.includes("obstaculo")||e.includes("barrera")?"":e.includes("paso de peatones")||e.includes("cruce")?"":e.includes("seal")||e.includes("sealizacin")||e.includes("sealizacion")?"":""}async function UM(i,e){try{const o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${i}&lon=${e}&format=json&accept-language=es`)).json();return o.address?.road||o.address?.pedestrian||o.address?.footway||o.address?.path||o.address?.cycleway||o.address?.neighbourhood||o.address?.suburb||""}catch(n){return console.error("Error fetching street name:",n),""}}function zM(){const[i]=pC(),e=K.useRef(null),n=K.useRef([]),[o,l]=K.useState([]),[h,m]=K.useState(!0),[v,y]=K.useState(""),[w,C]=K.useState(!1),[A,O]=K.useState({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null}),[Z,F]=K.useState(null);function te(){if(e.current){if(!navigator.geolocation){alert("Geolocalizacin no soportada");return}navigator.geolocation.getCurrentPosition($=>{const{latitude:H,longitude:R}=$.coords;e.current?.setView([H,R],16,{animate:!0});const P=Kl.circleMarker([H,R],{radius:10,color:"#2aa198",fillColor:"#2aa198",fillOpacity:.5}).addTo(e.current);setTimeout(()=>{e.current?.removeLayer(P)},3e3)},()=>alert("No se pudo obtener tu ubicacin"))}}async function Q($){if($.preventDefault(),!!v.trim()){C(!0);try{const R=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(v)}&limit=1`)).json();if(R&&R.length>0){const{lat:P,lon:z}=R[0];e.current?.setView([parseFloat(P),parseFloat(z)],16,{animate:!0})}else alert("No se encontr la localizacin.")}catch(H){console.error("Error searching location:",H),alert("Error buscando la localizacin.")}C(!1)}}const J=K.useCallback(async function($){const{lat:H,lng:R}=$.latlng;let P="";try{P=await UM(H,R)}catch(z){console.error("Error getting street name on map click:",z),P=""}O({open:!0,lat:H,lng:R,calle:P,modo:"nuevo",reporte:null})},[]);K.useEffect(()=>{if(Z&&(e.current?.removeLayer(Z),F(null)),A.open&&A.modo==="nuevo"&&A.lat!==null&&A.lng!==null&&e.current){const $=Kl.marker([A.lat,A.lng],{icon:_0("blue"),interactive:!1,zIndexOffset:2e3}).addTo(e.current);F($)}return()=>{Z&&e.current&&(e.current.removeLayer(Z),F(null))}},[A.open,A.lat,A.lng,A.modo,e.current]);function G($){O({open:!0,lat:$.latitud,lng:$.longitud,calle:$.calle||"",modo:"editar",reporte:$})}const X=K.useCallback(async($,H)=>{try{const R=await MM($,H);l(P=>P.map(z=>z.id===$?R:z))}catch(R){console.error("Error updating report:",R),alert("No se pudo actualizar el reporte.")}},[]),me=K.useCallback(async $=>{try{await DM($),l(H=>H.filter(R=>R.id!==$))}catch(H){console.error("Error deleting report:",H),alert("No se pudo borrar el reporte.")}},[]);K.useEffect(()=>{const $=Kl.map("map",{zoomControl:!0,attributionControl:!0}).setView([41.1189,1.2459],13);return e.current=$,Kl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo($),y_().then(H=>l(H)).catch(H=>console.error("Error loading reports:",H)).finally(()=>m(!1)),$.on("click",J),()=>{$.off("click",J),$.remove()}},[J]),K.useEffect(()=>{if(!e.current)return;const $=i.get("lat"),H=i.get("lng"),R=i.get("reportId");if($&&H){const P=parseFloat($),z=parseFloat(H);!isNaN(P)&&!isNaN(z)&&(e.current.setView([P,z],16),R&&setTimeout(()=>{o.find(I=>I.id===R)&&n.current.forEach(I=>{const D=I.getLatLng();D.lat===P&&D.lng===z&&I.openPopup()})},500))}},[i,o]),K.useEffect(()=>{e.current&&(n.current.forEach($=>e.current?.removeLayer($)),n.current=[],o.forEach($=>{if($.latitud!==null&&typeof $.latitud=="number"&&!isNaN($.latitud)&&$.longitud!==null&&typeof $.longitud=="number"&&!isNaN($.longitud)){if(e.current){const H=_0($.dificultad||"temporal"),R=kM($.dificultad||"temporal"),P=jM($.descripcin||"");let z="";$.imagen&&(z=`<div class="popup-image-container"><img src='${$.imagen}' alt="Imagen de la incidencia" class="popup-image" /></div>`);const j=Array.isArray($.comentarios)?$.comentarios:[],I=`popup-${$.id}`,D=`
            <div class="custom-popup-content">
              <button id="${I}-close" class="popup-close-btn"></button>
              <div class="popup-title-section">
                ${R} ${P}
              </div>
              <strong class="popup-street-name">${$.calle||"Ubicacin sin calle"}</strong><br/>
              <span class="popup-details">
                 ${$.descripcin}<br/>
                Estado: ${$.dificultad?.toUpperCase()||"TEMPORAL"}<br/>
                ${$.informacinExtra?" "+$.informacinExtra+"<br/>":""}
                ${z}
              </span>
              <hr style="margin:0.3em 0"/>
              <div id="${I}-comentarios" class="popup-comments">
                <strong>Comentarios:</strong>
                <ul>
                  ${j.map(B=>`<li>${B}</li>`).join("")||"<li style='color:#888'>Sin comentarios</li>"}
                </ul>
              </div>
              <form id="${I}-form" class="popup-comment-form">
                <input type="text" name="comentario" placeholder="Agregar comentario..." class="popup-comment-input" />
                <button type="submit" class="popup-comment-submit-btn">Enviar</button>
              </form>
              <div class="popup-actions">
                <button id="${I}-edit" class="popup-edit-btn">Editar</button>
                <button id="${I}-delete" class="popup-delete-btn">Borrar</button>
              </div>
            </div>
          `,ce=Kl.marker([$.latitud,$.longitud],{icon:H}).addTo(e.current).bindPopup(D,{maxWidth:400,minWidth:140,closeButton:!1,className:"custom-leaflet-popup"});ce.on("popupopen",()=>{const B=document.getElementById(`${I}-close`);B&&(B.onclick=()=>{e.current?.closePopup()});const W=document.getElementById(`${I}-edit`);W&&(W.onclick=()=>{e.current?.closePopup(),G($)});const se=document.getElementById(`${I}-form`);se&&(se.onsubmit=async Ce=>{Ce.preventDefault();const U=se.comentario,ue=U.value.trim();if(!ue)return;const be=[...$.comentarios||[],ue];await X($.id,{comentarios:be}),U.value=""});const re=document.getElementById(`${I}-delete`);re&&(re.onclick=async()=>{window.confirm("Seguro que quieres borrar este reporte?")&&(await me($.id),e.current?.closePopup())})}),n.current.push(ce)}}else console.warn(`Reporte con ID ${$.id||"N/A"} tiene coordenadas invlidas: Latitud: ${$.latitud}, Longitud: ${$.longitud}. No se aadir marcador.`)}))},[o,X,me,G]);function ae(){const $=A.modo==="editar",H=A.reporte,[R,P]=K.useState($&&H?.tipo||"escalera"),[z,j]=K.useState($&&H?.dificultad||"temporal"),[I,D]=K.useState($&&H?.descripcin||""),[ce,B]=K.useState(void 0),[W,se]=K.useState(!1);async function re(Ce){if(Ce.preventDefault(),A.lat===null||A.lng===null){console.error("Intento de enviar un reporte sin coordenadas."),alert(" Error: No se ha podido determinar la ubicacin del reporte.");return}if(se(!0),$&&H){const U={calle:A.calle,descripcin:I.trim()||`Incidencia de tipo ${R}`,tipo:R,dificultad:z,comentarios:H.comentarios||[]};ce?U.imagen=ce:ce===null&&(U.imagen=null);try{await X(H.id,U)}catch(ue){console.error("Error updating report:",ue),alert(" No se pudo actualizar el reporte.")}}else{const U={calle:A.calle,descripcin:I.trim()||`Incidencia de tipo ${R}`,informacinExtra:"",latitud:A.lat,longitud:A.lng,fecha:new Date().toISOString(),tipo:R,dificultad:z,comentarios:[],imagen:ce||null};try{const ue=await LM(U);l(be=>[...be,ue])}catch(ue){console.error("Error saving new report:",ue),alert(" No se pudo guardar el reporte.")}}se(!1),O({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null})}return S.jsxs("aside",{className:`report-sidebar ${A.open?"sidebar-open":"sidebar-closed"}`,children:[S.jsx("button",{onClick:()=>O({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null}),className:"sidebar-close-btn","aria-label":"Cerrar formulario",children:""}),S.jsx("h3",{className:"sidebar-title",children:$?"Editar reporte":"Nuevo reporte"}),S.jsxs("form",{onSubmit:re,className:"report-form",children:[S.jsxs("label",{children:["Tipo de barrera:",S.jsxs("select",{value:R,onChange:Ce=>P(Ce.target.value),required:!0,children:[S.jsx("option",{value:"escalera",children:" Escalera"}),S.jsx("option",{value:"rampa",children:" Rampa"}),S.jsx("option",{value:"bache",children:" Bache"}),S.jsx("option",{value:"acera",children:" Acera rota"}),S.jsx("option",{value:"calle",children:" Calle rota"}),S.jsx("option",{value:"obstaculo",children:" Obstculo"}),S.jsx("option",{value:"cruce",children:" Paso de peatones"}),S.jsx("option",{value:"seal",children:" Sealizacin"})]})]}),S.jsxs("label",{children:["Estado:",S.jsxs("select",{value:z,onChange:Ce=>j(Ce.target.value),required:!0,children:[S.jsx("option",{value:"solucionado",children:" Solucionado"}),S.jsx("option",{value:"temporal",children:" Temporal"}),S.jsx("option",{value:"permanente",children:" Permanente"})]})]}),S.jsxs("label",{children:["Descripcin:",S.jsx("input",{type:"text",value:I,onChange:Ce=>D(Ce.target.value),placeholder:"Qu ocurre?",required:!0})]}),S.jsxs("label",{children:["Calle detectada:",S.jsx("input",{type:"text",value:A.calle||"",readOnly:!0})]}),S.jsxs("label",{children:["Imagen (opcional):",S.jsx("input",{type:"file",accept:"image/*",onChange:Ce=>B(Ce.target.files?Ce.target.files[0]:null),className:"report-form-file-input"})]}),S.jsx("button",{type:"submit",disabled:W,className:"report-form-submit-btn",children:W?$?"Guardando...":"Enviando...":$?"Guardar cambios":"Reportar"})]})]})}return S.jsxs("section",{children:[S.jsxs("div",{className:"textalign",children:[S.jsx("h1",{children:"Mapa de accesibilidad"}),S.jsxs("div",{className:"juntar",children:[S.jsx("div",{className:"search-controls",children:S.jsxs("form",{onSubmit:Q,style:{display:"flex",gap:6},children:[S.jsx("p",{children:"Usa el buscador para localizar una direccin."}),S.jsx("input",{type:"text",placeholder:"Buscar direccin o ciudad...",value:v,onChange:$=>y($.target.value),className:"search-input","aria-label":"Buscar localizacin"}),S.jsx("button",{type:"submit",disabled:w,className:"search-btn",children:w?"Buscando...":"Buscar"}),S.jsx("button",{type:"button",onClick:te,className:"location-btn",children:" Mi ubicacin"})]})}),S.jsxs("div",{className:"card map-info-card",children:[S.jsx("strong",{children:"Gua de usuario:"}),S.jsxs("ul",{children:[" Haz clic en el mapa para aadir un nuevo reporte. ",S.jsx("br",{})," Haz clic en un marcador para ver detalles o comentar. ",S.jsx("br",{})," Pulsa la equis en el popup para cerrarlo."]})]})]}),h&&S.jsx("p",{className:"loading-message",children:"Cargando reportes..."})]}),S.jsxs("div",{className:"map-wrapper",children:[S.jsx("div",{id:"map",className:"map-container","aria-label":"Mapa de reportes"}),A.open&&S.jsx(ae,{})]})]})}const BM=()=>S.jsx(S.Fragment,{children:S.jsxs("div",{className:"textalign",children:[S.jsx("h1",{children:"Poltica de privacidad"}),S.jsx("p",{children:"En KOMUNI, valoramos tu privacidad y nos comprometemos a proteger la informacin personal que compartes con nosotros. Esta Poltica de Privacidad describe cmo recopilamos, usamos y protegemos tus datos cuando utilizas nuestra pgina web, que incluye formularios para interactuar con un mapa."}),S.jsx("h4",{children:S.jsx("u",{children:"1. Informacin que Recopilamos"})}),S.jsx("p",{children:"Recopilamos informacin para proporcionar y mejorar nuestros servicios. El tipo de informacin que recopilamos depende de cmo uses nuestra pgina web:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:["Informacin que nos proporcionas directamente:",S.jsxs("ul",{children:[S.jsxs("li",{children:[" ",S.jsx("b",{children:" Datos de contacto"}),": Cuando rellenas nuestros formularios, podemos solicitarte informacin como tu nombre, direccin de correo electrnico, nmero de telfono y cualquier otra informacin que decidas compartir en los campos de texto libre."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Datos de ubicacin"}),": Si utilizas funciones del mapa que requieren tu ubicacin (por ejemplo, para buscar puntos de inters cercanos o para agregar una ubicacin especfica), podemos recopilar esta informacin. En la mayora de los casos, esto requerir tu consentimiento explcito a travs de tu navegador o dispositivo."]})]})]}),S.jsx("br",{}),S.jsxs("li",{children:["Informacin recopilada automticamente:",S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("b",{children:"Datos de uso"}),": Recopilamos informacin sobre cmo interactas con nuestra pgina web, incluyendo las pginas que visitas, el tiempo que pasas en ellas, las funciones del mapa que utilizas y los enlaces en los que haces clic."]})," ",S.jsxs("li",{children:[S.jsx("b",{children:"Datos tcnicos"}),": Incluye tu direccin IP, tipo de navegador, sistema operativo, dispositivo y datos de conexin."]})," ",S.jsxs("li",{children:[" ",S.jsx("b",{children:"Cookies y tecnologas similares"}),": Utilizamos cookies y otras tecnologas de seguimiento para mejorar tu experiencia de usuario, analizar el uso del sitio y personalizar el contenido. Puedes gestionar tus preferencias de cookies a travs de la configuracin de tu navegador."]})]})]})]}),S.jsx("h4",{children:S.jsx("u",{children:"2. Uso de tu Informacin"})}),S.jsx("p",{children:"Utilizamos la informacin recopilada para los siguientes propsitos:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("b",{children:"Proveer y mantener nuestros servicios"}),": Para que puedas utilizar los formularios y las funciones del mapa de manera efectiva."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Mejorar y personalizar tu experiencia"}),": Adaptar el contenido y las funciones del mapa a tus preferencias y uso."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Comunicacin"}),": Para responder a tus consultas enviadas a travs de los formularios y proporcionarte informacin relevante sobre nuestros servicios."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Anlisis y mejora"}),": Entender cmo se utiliza nuestra pgina web para optimizar su rendimiento, diseo y funcionalidades."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Seguridad"}),": Proteger nuestra pgina web y a nuestros usuarios contra actividades fraudulentas o maliciosas."]})]}),S.jsx("h4",{children:S.jsx("u",{children:"3. Compartir tu Informacin"})}),S.jsx("p",{children:"En KOMUNI, no vendemos ni alquilamos tu informacin personal a terceros. Podemos compartir tu informacin en las siguientes circunstancias:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("b",{children:"Proveedores de servicios"}),": Podemos compartir datos con terceros que nos ayudan a operar nuestra pgina web y proporcionar nuestros servicios (por ejemplo, servicios de alojamiento web, plataformas de anlisis de datos, proveedores de servicios de mapas). Estos terceros estn obligados contractualmente a mantener la confidencialidad y seguridad de tus datos."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Cumplimiento legal"}),": Podemos divulgar tu informacin si la ley lo requiere o si creemos de buena fe que dicha accin es necesaria para cumplir con un proceso legal, proteger nuestros derechos o la seguridad de otros."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Agregacin de datos"}),": Podemos compartir informacin agregada o anonimizada que no te identifique directamente con fines de investigacin, anlisis o marketing."]})]}),S.jsx("h4",{children:S.jsx("u",{children:"4. Servicios de Mapas de Terceros"})}),S.jsxs("p",{children:["Nuestra pgina web utiliza servicios de mapas proporcionados por terceros (OpenStreetMap). El uso de estos servicios puede estar sujeto a sus propias polticas de privacidad. Te recomendamos revisar las polticas de privacidad de este proveedor para entender cmo gestiona tu informacin: Puedes consultar su poltica en:"," ",S.jsx("a",{href:"https://wiki.osmfoundation.org/wiki/Privacy_Policy",children:"https://wiki.osmfoundation.org/wiki/Privacy_Policy"}),". KOMUNI no es responsable de las prcticas de privacidad de estos servicios de terceros."]}),S.jsx("h4",{children:S.jsx("u",{children:"5. Seguridad de Datos"})}),S.jsx("p",{children:"Implementamos medidas de seguridad tcnicas y organizativas adecuadas para proteger tu informacin personal contra el acceso no autorizado, la alteracin, la divulgacin o la destruccin. Sin embargo, ninguna transmisin de datos por internet o sistema de almacenamiento electrnico puede garantizar una seguridad del 100%."}),S.jsx("h4",{children:S.jsx("u",{children:"6. Tus Derechos"})}),"De acuerdo con la legislacin de proteccin de datos aplicable (como el RGPD si aplica), tienes los siguientes derechos sobre tus datos personales:",S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("b",{children:"Derecho de acceso"}),": Solicitar una copia de la informacin personal que tenemos sobre ti."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Derecho de rectificacin"}),": Solicitar la correccin de datos incompletos o inexactos."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Derecho de supresin (derecho al olvido)"}),": Solicitar la eliminacin de tus datos personales en determinadas circunstancias."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Derecho de limitacin del tratamiento"}),": Solicitar que detengamos el procesamiento de tus datos bajo ciertas condiciones."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Derecho a la portabilidad de datos"}),": Recibir tus datos en un formato estructurado y de uso comn."]}),S.jsxs("li",{children:[S.jsx("b",{children:"Derecho de oposicin"}),": Oponerte al tratamiento de tus datos para fines de marketing directo o en base a intereses legtimos."]})]}),"Para ejercer cualquiera de estos derechos, por favor, ponte en contacto con nosotros a travs de la direccin de correo electrnico proporcionada en la seccin de contacto.",S.jsx("h4",{children:S.jsx("u",{children:"7. Cambios en esta Poltica de Privacidad"})}),'Podemos actualizar esta Poltica de Privacidad de vez en cuando para reflejar cambios en nuestras prcticas o por razones legales. Te notificaremos cualquier cambio sustancial publicando la nueva poltica en esta pgina y actualizando la "Fecha de ltima actualizacin" en la parte superior. Te animamos a revisar esta poltica peridicamente.',S.jsx("h4",{children:S.jsx("u",{children:"8. Contacto"})}),S.jsxs("p",{children:["Si tienes alguna pregunta o inquietud sobre esta Poltica de Privacidad o sobre nuestras prcticas de privacidad, por favor, ponte en contacto con nosotros a travs del siguiente correo electrnico:"," ",S.jsx("a",{href:"mailto:",children:"komunitgn@gmail.com"})]}),S.jsx("br",{}),S.jsx("hr",{}),"Fecha de ltima actualizacin: 17 de Julio de 2025",S.jsx("hr",{})]})});function HM(){const i=K.useRef(null),[e,n]=K.useState(""),[o,l]=K.useState(!1);async function h(m){m.preventDefault(),l(!0),n("");const v=new FormData(i.current),y=v.get("nombre"),w=v.get("email"),C=v.get("mensaje");if(!y||!w||!C){n("Por favor completa todos los campos obligatorios."),l(!1);return}try{await xM({nombre:y,email:w,mensaje:C}),n("Mensaje enviado correctamente! Te responderemos pronto."),i.current?.reset()}catch(A){console.error("Error al enviar mensaje:",A),n("No se pudo enviar el mensaje. Intntalo ms tarde.")}l(!1)}return S.jsxs("section",{style:{maxWidth:600,margin:"0 auto",padding:"2.5rem 1rem"},children:[S.jsxs("div",{style:{background:"linear-gradient(90deg, #e0f7fa 0%, #fafdff 100%)",borderRadius:20,boxShadow:"0 8px 32px #2aa19822",padding:"2.5rem 2rem 2rem 2rem",marginBottom:36,textAlign:"center",position:"relative"},children:[S.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni",style:{width:70,marginBottom:12,filter:"drop-shadow(0 2px 8px #2aa19833)"}}),S.jsx("h2",{style:{color:"#2aa198",margin:"0 0 0.5em 0",fontWeight:900,fontSize:"2.2rem",letterSpacing:"0.03em"},children:"Contacto"}),S.jsxs("p",{style:{color:"#20706e",fontSize:"1.18rem",marginBottom:0,fontWeight:500,lineHeight:1.6},children:["Tienes dudas, sugerencias o quieres colaborar?",S.jsx("br",{}),"Escrbenos y te responderemos lo antes posible."]})]}),S.jsxs("form",{ref:i,onSubmit:h,style:{background:"#fff",borderRadius:18,boxShadow:"0 4px 24px #2aa19822",padding:"2.2rem 2rem 2rem 2rem",display:"flex",flexDirection:"column",gap:22,maxWidth:440,margin:"0 auto"},children:[S.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Nombre:",S.jsx("input",{type:"text",name:"nombre",required:!0,placeholder:"Introduce tu nombre",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),S.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Email:",S.jsx("input",{type:"email",name:"email",required:!0,placeholder:"Introduce tu correo elecrnico",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),S.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Asunto:",S.jsx("input",{type:"text",name:"asunto",placeholder:"Motivo del mensaje",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),S.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Mensaje:",S.jsx("textarea",{name:"mensaje",rows:5,required:!0,placeholder:"Escribe tu mensaje aqu...",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",resize:"vertical",boxShadow:"0 1px 2px #2aa19811"}})]}),S.jsx("button",{type:"submit",disabled:o,children:o?"Enviando...":"Enviar"}),e&&S.jsx("p",{style:{color:e.startsWith("Mensaje")?"#2aa198":"#e53935",marginTop:8,textAlign:"center",fontWeight:600},children:e})]}),S.jsxs("div",{style:{marginTop:38,textAlign:"center",color:"#888",fontSize:"1.09em",fontWeight:500},children:["O escrbenos directamente a"," ",S.jsx("a",{href:"mailto:komunitgn@gmail.com",style:{color:"#2aa198",fontWeight:700,textDecoration:"underline"},children:"komunitgn@gmail.com"})]})]})}const qM=({question:i,answer:e})=>{const[n,o]=K.useState(!1),l=()=>{o(!n)};return S.jsxs("div",{className:"faq-item",children:[S.jsxs("button",{className:"faq-question",onClick:l,"aria-expanded":n,children:[i,S.jsx("span",{className:`faq-icon ${n?"open":""}`,children:""})," "]}),n&&S.jsx("div",{className:"faq-answer",children:S.jsx("p",{children:e})})]})},VM=()=>{const i=[{question:"Qu es Komuni?",answer:"Komuni es una plataforma global diseada para reportar barreras urbanas, mejorar la accesibilidad y construir una comunidad ms inclusiva. Nuestro objetivo es conectar a las personas para que puedan identificar y solucionar problemas de accesibilidad en sus ciudades y en todo el mundo."},{question:"Cmo puedo reportar una barrera?",answer:"Puedes reportar una barrera utilizando nuestro mapa interactivo. Simplemente ve a la seccin 'Mapa', busca la ubicacin de la barrera, y utiliza la herramienta de reporte para aadir detalles, fotos y la categora de la barrera. Es un proceso sencillo y rpido."},{question:"Qu tipo de barreras se pueden reportar?",answer:"Puedes reportar una amplia variedad de barreras, incluyendo aceras en mal estado, rampas inaccesibles, falta de sealizacin adecuada, obstculos en vas pblicas, transporte pblico no adaptado, y cualquier otra cosa que impida la libre movilidad o el acceso a personas con diversidad funcional."},{question:"Es necesario registrarse para usar Komuni?",answer:"No es necesario registrarse para ver el mapa o leer nuestro blog y recursos educativos. Sin embargo, para reportar barreras, participar en el foro o contribuir activamente a la comunidad, s necesitars crear una cuenta gratuita."},{question:"Cmo puedo colaborar con Komuni?",answer:"Hay muchas formas de colaborar: reportando barreras, compartiendo tus experiencias en el foro, difundiendo informacin sobre accesibilidad en tus redes sociales, o incluso ofrecindote como voluntario para eventos o proyectos locales. Tu participacin es clave!"},{question:"Komuni est disponible en mi ciudad?",answer:"Komuni es una plataforma global, lo que significa que puedes usarla en cualquier ciudad del mundo. Cuantos ms usuarios se unan y reporten, ms completa y til ser la informacin disponible para todos."},{question:"Cmo se utilizan los datos de las barreras reportadas?",answer:"Los datos de las barreras reportadas se utilizan para crear un mapa interactivo de accesibilidad. Esta informacin puede ser consultada por usuarios, organizaciones y autoridades locales para identificar reas problemticas y priorizar mejoras. No compartimos informacin personal sin tu consentimiento."}];return S.jsxs("section",{className:"faq-section",children:[S.jsx("h1",{children:"Preguntas Frecuentes"}),S.jsx("div",{className:"faq-list",children:i.map((e,n)=>S.jsx(qM,{question:e.question,answer:e.answer},n))})]})},wT=[{id:"1",title:"Primer Post de Komuni: Un Paso Hacia la Accesibilidad Universal",slug:"primer-post-de-komuni",date:"24 de julio de 2025",author:"Equipo Komuni",excerpt:"Descubre cmo Komuni est revolucionando la forma en que reportamos y abordamos las barreras de accesibilidad en nuestras ciudades. Un futuro ms inclusivo comienza hoy.",content:`
      <p>Bienvenidos al blog de Komuni, el espacio donde compartiremos nuestras ideas, avances y noticias ms relevantes sobre la accesibilidad y la construccin de comunidades inclusivas.</p>
      <p>En este primer post, queremos reiterar nuestra misin: empoderar a los ciudadanos para que sean agentes de cambio. Cada barrera reportada en nuestro mapa no es solo un punto en una pantalla, es un paso hacia la eliminacin de obstculos fsicos y la creacin de entornos donde todos puedan participar plenamente.</p>
      <h2>Qu nos impulsa?</h2>
      <p>La visin de un mundo sin barreras. Creemos firmemente que la tecnologa puede ser una herramienta poderosa para la inclusin. Nuestra plataforma no solo facilita el reporte de problemas, sino que tambin fomenta la colaboracin entre usuarios, organizaciones y autoridades locales.</p>
      <p>Gracias por unirte a esta causa. Juntos, haremos una diferencia real.</p>
      <h3>Prximos Pasos</h3>
      <ul>
        <li>Explora nuestro mapa interactivo.</li>
        <li>Colabora con la comunidad realizando reportes.</li>
        <li>Comparte tus experiencias y sugerencias.</li>
      </ul>
    `,imageUrl:"/icons/logo-solo.png",tags:["accesibilidad","comunidad","lanzamiento","inclusin"]},{id:"2",title:"Gua Rpida: Cmo Reportar una Barrera en Komuni",slug:"guia-reportar-barrera",date:"15 de julio de 2025",author:"Soporte Komuni",excerpt:"Aprende los sencillos pasos para identificar y reportar barreras de accesibilidad en nuestro mapa. Tu contribucin es vital para nuestra comunidad.",content:`
      <p>Reportar una barrera en Komuni es un proceso intuitivo diseado para ser rpido y eficiente. Sigue esta gua paso a paso para hacer tu primera contribucin:</p>
      <ol>
        <li><strong>Accede al Mapa:</strong> Navega a la seccin 'Mapa' de nuestra web.</li>
        <li><strong>Localiza la Barrera:</strong> Usa el buscador o navega manualmente hasta la ubicacin exacta de la barrera.</li>
        <li><strong>Haz Clic en "Reportar":</strong> Vers un botn o icono para iniciar el proceso de reporte.</li>
        <li><strong>Aade Detalles:</strong> Describe la barrera, selecciona su categora (ej. rampa inaccesible, acera rota), y si es posible, sube una o varias fotos.</li>
        <li><strong>Enva el Reporte:</strong> Confirma la informacin y enva. Tu reporte ya est en el mapa!</li>
      </ol>
      <p>Cada reporte ayuda a construir una base de datos ms completa y a concienciar sobre los desafos de accesibilidad en nuestras ciudades.</p>
    `,tags:["gua","reporte","mapa","tutorial"]},{id:"3",title:"La Importancia de la Inclusin Digital en la Accesibilidad Urbana",slug:"inclusion-digital-accesibilidad-urbana",date:"01 de julio de 2025",author:"Equipo Komuni",excerpt:"Exploramos cmo la tecnologa y el diseo digital accesible son fundamentales para complementar los esfuerzos de accesibilidad fsica en las ciudades modernas.",content:`
      <p>La accesibilidad no se limita solo al entorno fsico. En la era digital, la inclusin digital juega un papel crucial en cmo las personas interactan con su ciudad y sus servicios.</p>
      <p>Un sitio web municipal inaccesible, una aplicacin de transporte pblico que no cumple con los estndares, o incluso la falta de informacin accesible sobre rutas peatonales, pueden ser tan restrictivos como una rampa mal diseada.</p>
      <p>En Komuni, entendemos esta interconexin. Nuestra plataforma est diseada para ser accesible desde el primer da, y abogamos por la implementacin de soluciones digitales inclusivas que complementen la infraestructura fsica.</p>
      <p>La verdadera accesibilidad es un ecosistema donde lo fsico y lo digital se unen para crear una experiencia fluida y equitativa para todos.</p>
    `,tags:["inclusin digital","tecnologa","accesibilidad"]}],FM=()=>S.jsxs("section",{className:"blog-page-section",children:[" ",S.jsx("h1",{children:"Nuestro Blog"}),S.jsxs("p",{className:"blog-intro-text",children:[" ","Aqu encontrars las ltimas noticias, artculos y actualizaciones sobre accesibilidad y nuestra comunidad."]}),S.jsx("div",{className:"blog-posts-list",children:wT.map(i=>S.jsxs("div",{className:"blog-post-card",children:[i.imageUrl&&S.jsx("img",{src:i.imageUrl,alt:i.title,className:"blog-post-card-image"}),S.jsxs("div",{children:[S.jsx("h2",{children:i.title})," ",S.jsxs("p",{className:"blog-post-date-author",children:[" ","Publicado el ",i.date," por ",i.author]}),S.jsx("p",{children:i.excerpt}),S.jsxs(Rn,{to:`/blog/${i.slug}`,className:"blog-post-read-more",children:[" ","Leer ms "]})]})]},i.id))})]}),GM=()=>{const{slug:i}=Tx(),e=wT.find(n=>n.slug===i);return e?S.jsxs("section",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[S.jsx(Rn,{to:"/blog",style:{color:"#3ecfcf",textDecoration:"none",fontWeight:"bold",marginBottom:"1.5rem",display:"inline-block"},children:" Volver al blog"}),e.imageUrl&&S.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"auto",maxHeight:"400px",objectFit:"cover",borderRadius:"8px",marginBottom:"2rem"}}),S.jsx("h1",{style:{color:"#2aa198",marginBottom:"0.5rem"},children:e.title}),S.jsxs("p",{style:{fontSize:"0.9rem",color:"#777",marginBottom:"2rem"},children:["Publicado el ",e.date," por ",e.author,e.tags&&e.tags.length>0&&S.jsxs("span",{style:{marginLeft:"1rem"},children:["Etiquetas: ",e.tags.map(n=>S.jsx("span",{style:{background:"#eee",padding:"0.2rem 0.5rem",borderRadius:"4px",marginRight:"0.3rem",fontSize:"0.8rem"},children:n},n))]})]}),S.jsx("div",{style:{lineHeight:1.8,fontSize:"1.05rem",color:"#333"},dangerouslySetInnerHTML:{__html:e.content}})]}):S.jsxs("section",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h1",{children:"404 - Entrada de Blog no Encontrada"}),S.jsx("p",{children:"Lo sentimos, la entrada de blog que buscas no existe o ha sido eliminada."}),S.jsx(Rn,{to:"/blog",style:{color:"#3ecfcf",textDecoration:"none",fontWeight:"bold"},children:" Volver al listado del Blog"})]})},ZM=()=>{const[i,e]=K.useState({email:"",password:""}),[n,o]=K.useState({}),[l,h]=K.useState(!1),[m,v]=K.useState(!1),[y,w]=K.useState(!1),{login:C,resetPassword:A}=Jc(),O=mu(),Z=()=>{const J={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(J.email="El formato del correo electrnico no es vlido"):J.email="El correo electrnico es obligatorio",i.password?i.password.length<6&&(J.password="La contrasea debe tener al menos 6 caracteres"):J.password="La contrasea es obligatoria",o(J),Object.keys(J).length===0},F=J=>{const{name:G,value:X}=J.target;e(me=>({...me,[G]:X})),n[G]&&o(me=>({...me,[G]:""}))},te=async J=>{if(J.preventDefault(),!!Z()){h(!0),o({});try{await C(i.email,i.password),O("/perfil")}catch(G){o({submit:G.message})}finally{h(!1)}}},Q=async()=>{if(!i.email){o({email:"Ingresa tu correo electrnico para resetear la contrasea"});return}try{await A(i.email),w(!0)}catch(J){o({submit:J.message})}};return S.jsx("div",{className:"auth-container",children:S.jsxs("div",{className:"auth-card",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni Logo",className:"auth-logo"}),S.jsx("h1",{children:"Iniciar Sesin"}),S.jsx("p",{children:"Bienvenido de vuelta a Komuni"})]}),y&&S.jsx("div",{className:"alert alert-success",children:"Se ha enviado un correo para resetear tu contrasea. Revisa tu bandeja de entrada."}),S.jsxs("form",{onSubmit:te,className:"auth-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),S.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:F,placeholder:"tu@ejemplo.com",className:n.email?"error":"",disabled:l}),n.email&&S.jsx("span",{className:"error-message",children:n.email})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Contrasea"}),S.jsxs("div",{className:"password-input-container",children:[S.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:i.password,onChange:F,placeholder:"Tu contrasea",className:n.password?"error":"",disabled:l}),S.jsx("button",{type:"button",className:"password-toggle",onClick:()=>v(!m),tabIndex:-1,children:m?"":""})]}),n.password&&S.jsx("span",{className:"error-message",children:n.password})]}),n.submit&&S.jsx("div",{className:"alert alert-error",children:n.submit}),S.jsx("button",{type:"submit",className:"auth-button primary",disabled:l,children:l?"Iniciando sesin...":"Iniciar Sesin"}),S.jsx("button",{type:"button",className:"forgot-password",onClick:Q,disabled:l,children:"Olvidaste tu contrasea?"})]}),S.jsx("div",{className:"auth-footer",children:S.jsxs("p",{children:["No tienes una cuenta?"," ",S.jsx(Rn,{to:"/registro",className:"auth-link",children:"Regstrate aqu"})]})})]})})},WM=()=>{const[i,e]=K.useState({nombre:"",apellidos:"",email:"",password:"",confirmPassword:"",fechaNacimiento:"",genero:""}),[n,o]=K.useState({}),[l,h]=K.useState(!1),[m,v]=K.useState(!1),[y,w]=K.useState(!1),[C,A]=K.useState(!1),{register:O}=Jc(),Z=mu(),F=G=>{const X=new Date,me=new Date(G);let ae=X.getFullYear()-me.getFullYear();const $=X.getMonth()-me.getMonth();return($<0||$===0&&X.getDate()<me.getDate())&&ae--,ae},te=()=>{const G={};if(i.nombre.trim()?i.nombre.trim().length<2&&(G.nombre="El nombre debe tener al menos 2 caracteres"):G.nombre="El nombre es obligatorio",i.apellidos.trim()?i.apellidos.trim().length<2&&(G.apellidos="Los apellidos deben tener al menos 2 caracteres"):G.apellidos="Los apellidos son obligatorios",i.email?/\S+@\S+\.\S+/.test(i.email)||(G.email="El formato del correo electrnico no es vlido"):G.email="El correo electrnico es obligatorio",i.password?i.password.length<6?G.password="La contrasea debe tener al menos 6 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i.password)||(G.password="La contrasea debe contener al menos una mayscula, una minscula y un nmero"):G.password="La contrasea es obligatoria",i.confirmPassword?i.password!==i.confirmPassword&&(G.confirmPassword="Las contraseas no coinciden"):G.confirmPassword="Confirma tu contrasea",!i.fechaNacimiento)G.fechaNacimiento="La fecha de nacimiento es obligatoria";else{const X=F(i.fechaNacimiento);X<13?G.fechaNacimiento="Debes ser mayor de 13 aos para registrarte":X>120&&(G.fechaNacimiento="Por favor, verifica tu fecha de nacimiento")}return i.genero||(G.genero="Selecciona tu gnero"),C||(G.terms="Debes aceptar los trminos y condiciones"),o(G),Object.keys(G).length===0},Q=G=>{const{name:X,value:me}=G.target;e(ae=>({...ae,[X]:me})),n[X]&&o(ae=>({...ae,[X]:""}))},J=async G=>{if(G.preventDefault(),!!te()){h(!0),o({});try{await O({email:i.email,password:i.password,nombre:i.nombre.trim(),apellidos:i.apellidos.trim(),fechaNacimiento:i.fechaNacimiento,genero:i.genero}),alert("Registro exitoso! Se ha enviado un correo de verificacin a tu email."),Z("/login")}catch(X){o({submit:X.message})}finally{h(!1)}}};return S.jsx("div",{className:"auth-container",children:S.jsxs("div",{className:"auth-card register",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni Logo",className:"auth-logo"}),S.jsx("h1",{children:"Crear Cuenta"}),S.jsx("p",{children:"nete a la comunidad Komuni"})]}),S.jsxs("form",{onSubmit:J,className:"auth-form",children:[S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),S.jsx("input",{type:"text",id:"nombre",name:"nombre",value:i.nombre,onChange:Q,placeholder:"Tu nombre",className:n.nombre?"error":"",disabled:l}),n.nombre&&S.jsx("span",{className:"error-message",children:n.nombre})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"apellidos",children:"Apellidos *"}),S.jsx("input",{type:"text",id:"apellidos",name:"apellidos",value:i.apellidos,onChange:Q,placeholder:"Tus apellidos",className:n.apellidos?"error":"",disabled:l}),n.apellidos&&S.jsx("span",{className:"error-message",children:n.apellidos})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Correo Electrnico *"}),S.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:Q,placeholder:"tu@ejemplo.com",className:n.email?"error":"",disabled:l}),n.email&&S.jsx("span",{className:"error-message",children:n.email})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento *"}),S.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:i.fechaNacimiento,onChange:Q,className:n.fechaNacimiento?"error":"",max:new Date().toISOString().split("T")[0],disabled:l}),n.fechaNacimiento&&S.jsx("span",{className:"error-message",children:n.fechaNacimiento})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"genero",children:"Gnero *"}),S.jsxs("select",{id:"genero",name:"genero",value:i.genero,onChange:Q,className:n.genero?"error":"",disabled:l,children:[S.jsx("option",{value:"",children:"Selecciona tu gnero"}),S.jsx("option",{value:"Masculino",children:"Masculino"}),S.jsx("option",{value:"Femenino",children:"Femenino"}),S.jsx("option",{value:"No binario",children:"No binario"}),S.jsx("option",{value:"Prefiero no decir",children:"Prefiero no decir"}),S.jsx("option",{value:"Otro",children:"Otro"})]}),n.genero&&S.jsx("span",{className:"error-message",children:n.genero})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Contrasea *"}),S.jsxs("div",{className:"password-input-container",children:[S.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:i.password,onChange:Q,placeholder:"Mnimo 6 caracteres",className:n.password?"error":"",disabled:l}),S.jsx("button",{type:"button",className:"password-toggle",onClick:()=>v(!m),tabIndex:-1,children:m?"":""})]}),n.password&&S.jsx("span",{className:"error-message",children:n.password}),S.jsx("div",{className:"password-requirements",children:S.jsx("small",{children:"La contrasea debe contener al menos una mayscula, una minscula y un nmero"})})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea *"}),S.jsxs("div",{className:"password-input-container",children:[S.jsx("input",{type:y?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:Q,placeholder:"Repite tu contrasea",className:n.confirmPassword?"error":"",disabled:l}),S.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w(!y),tabIndex:-1,children:y?"":""})]}),n.confirmPassword&&S.jsx("span",{className:"error-message",children:n.confirmPassword})]}),S.jsxs("div",{className:"form-group checkbox-group",children:[S.jsxs("label",{className:"checkbox-label",children:[S.jsx("input",{type:"checkbox",checked:C,onChange:G=>{A(G.target.checked),n.terms&&o(X=>({...X,terms:""}))},disabled:l}),S.jsx("span",{className:"checkmark"}),"Acepto los"," ",S.jsx(Rn,{to:"/privacidad",target:"_blank",className:"auth-link",children:"trminos y condiciones"})," ","y la"," ",S.jsx(Rn,{to:"/privacidad",target:"_blank",className:"auth-link",children:"poltica de privacidad"})]}),n.terms&&S.jsx("span",{className:"error-message",children:n.terms})]}),n.submit&&S.jsx("div",{className:"alert alert-error",children:n.submit}),S.jsx("button",{type:"submit",className:"auth-button primary",disabled:l||!C,children:l?"Creando cuenta...":"Crear Cuenta"})]}),S.jsx("div",{className:"auth-footer",children:S.jsxs("p",{children:["Ya tienes una cuenta?"," ",S.jsx(Rn,{to:"/login",className:"auth-link",children:"Inicia sesin aqu"})]})})]})})},YM=()=>{const{currentUser:i,userProfile:e,logout:n,updateUserProfile:o,resendVerification:l}=Jc(),h=mu(),[m,v]=K.useState(!1),[y,w]=K.useState(!1),[C,A]=K.useState(!1),[O,Z]=K.useState(null),[F,te]=K.useState([]),[Q,J]=K.useState(!1),[G,X]=K.useState({nombre:"",apellidos:"",fechaNacimiento:"",genero:""});K.useEffect(()=>{e&&X({nombre:e.nombre,apellidos:e.apellidos,fechaNacimiento:e.fechaNacimiento,genero:e.genero})},[e]),K.useEffect(()=>{(async()=>{if(!e||!e.reportes||e.reportes.length===0){te([]);return}J(!0);try{const W=(await y_()).filter(se=>e.reportes.includes(se.id));te(W)}catch(B){console.error("Error al cargar reportes del usuario:",B),te([])}finally{J(!1)}})()},[e?.reportes]);const me=()=>{h("/mapa")},ae=ce=>{ce.latitud&&ce.longitud?h(`/mapa?lat=${ce.latitud}&lng=${ce.longitud}&reportId=${ce.id}`):(h("/mapa"),Z({type:"error",text:"Este reporte no tiene ubicacin especfica registrada."}))};if(!i)return S.jsx(A0,{to:"/login",replace:!0});const $=ce=>{const B=new Date,W=new Date(ce);let se=B.getFullYear()-W.getFullYear();const re=B.getMonth()-W.getMonth();return(re<0||re===0&&B.getDate()<W.getDate())&&se--,se},H=ce=>{const{name:B,value:W}=ce.target;X(se=>({...se,[B]:W}))},R=async()=>{if(e){w(!0),Z(null);try{await o({nombre:G.nombre.trim(),apellidos:G.apellidos.trim(),fechaNacimiento:G.fechaNacimiento,genero:G.genero}),Z({type:"success",text:"Perfil actualizado correctamente"}),v(!1)}catch(ce){Z({type:"error",text:ce.message})}finally{w(!1)}}},P=async ce=>{const B=ce.target.files?.[0];if(!(!B||!e)){if(!B.type.startsWith("image/")){Z({type:"error",text:"Por favor selecciona un archivo de imagen vlido."});return}if(B.size>5*1024*1024){Z({type:"error",text:"La imagen debe ser menor a 5MB."});return}A(!0),Z(null);try{const W=new FileReader;W.onload=async se=>{const re=se.target?.result;try{await o({...e,photoURL:re}),Z({type:"success",text:"Foto de perfil actualizada correctamente."})}catch{Z({type:"error",text:"Error al actualizar la foto de perfil."})}finally{A(!1)}},W.onerror=()=>{Z({type:"error",text:"Error al procesar la imagen."}),A(!1)},W.readAsDataURL(B)}catch{Z({type:"error",text:"Error al subir la imagen."}),A(!1)}}},z=()=>{e&&X({nombre:e.nombre,apellidos:e.apellidos,fechaNacimiento:e.fechaNacimiento,genero:e.genero}),v(!1),Z(null)},j=async()=>{w(!0),Z(null);try{await l(),Z({type:"success",text:"Email de verificacin enviado. Revisa tu bandeja de entrada y haz clic en el enlace para verificar tu cuenta."})}catch(ce){Z({type:"error",text:ce.message})}finally{w(!1)}},I=()=>{window.verifyEmail&&(window.verifyEmail(),Z({type:"success",text:"Email verificado correctamente!"}))},D=async()=>{try{await n()}catch(ce){console.error("Error al cerrar sesin:",ce)}};return e?S.jsx("div",{className:"perfil-container",children:S.jsxs("div",{className:"perfil-card",children:[S.jsxs("div",{className:"perfil-header",children:[S.jsxs("div",{className:"avatar-section",children:[S.jsx("div",{className:"avatar",children:e.photoURL?S.jsx("img",{src:e.photoURL,alt:"Avatar"}):S.jsxs("div",{className:"avatar-placeholder",children:[e.nombre.charAt(0),e.apellidos.charAt(0)]})}),S.jsxs("div",{className:"avatar-upload",children:[S.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:P,style:{display:"none"},disabled:C}),S.jsx("label",{htmlFor:"photo-upload",className:"upload-button",children:C?S.jsx("span",{children:" Subiendo..."}):S.jsxs("span",{children:[" ",e.photoURL?"Cambiar foto":"Aadir foto"]})})]})]}),S.jsxs("div",{className:"user-info",children:[S.jsxs("h1",{children:[e.nombre," ",e.apellidos]}),S.jsx("p",{className:"email",children:e.email}),!i.emailVerified&&S.jsxs("div",{className:"verification-warning",children:[S.jsx("span",{children:" Email no verificado"}),S.jsx("button",{onClick:j,className:"link-button",disabled:y,children:"Reenviar verificacin"})]})]})]}),O&&S.jsxs("div",{className:`alert alert-${O.type}`,children:[O.text,O.type==="success"&&O.text.includes("Revisa tu bandeja")&&S.jsx("div",{style:{marginTop:"10px"},children:S.jsx("button",{onClick:I,className:"btn-primary",style:{fontSize:"0.9rem",padding:"8px 16px"},children:" Simular clic en enlace de verificacin"})})]}),S.jsxs("div",{className:"perfil-body",children:[S.jsxs("div",{className:"section",children:[S.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{margin:0},children:"Informacin Personal"}),m?S.jsxs("div",{className:"edit-buttons",style:{display:"flex",gap:"10px"},children:[S.jsx("button",{onClick:R,className:"btn-primary",disabled:y,children:"Guardar"}),S.jsx("button",{onClick:z,className:"btn-secondary",disabled:y,children:"Cancelar"})]}):S.jsx("button",{onClick:()=>v(!0),className:"btn-secondary",style:{marginLeft:"20px"},children:"Editar"})]}),S.jsxs("div",{className:"form-grid",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Nombre"}),m?S.jsx("input",{type:"text",name:"nombre",value:G.nombre,onChange:H,disabled:y}):S.jsx("span",{children:e.nombre})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Apellidos"}),m?S.jsx("input",{type:"text",name:"apellidos",value:G.apellidos,onChange:H,disabled:y}):S.jsx("span",{children:e.apellidos})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Fecha de Nacimiento"}),m?S.jsx("input",{type:"date",name:"fechaNacimiento",value:G.fechaNacimiento,onChange:H,disabled:y}):S.jsxs("span",{children:[new Date(e.fechaNacimiento).toLocaleDateString("es-ES"),"(",$(e.fechaNacimiento)," aos)"]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Gnero"}),m?S.jsxs("select",{name:"genero",value:G.genero,onChange:H,disabled:y,children:[S.jsx("option",{value:"Masculino",children:"Masculino"}),S.jsx("option",{value:"Femenino",children:"Femenino"}),S.jsx("option",{value:"No binario",children:"No binario"}),S.jsx("option",{value:"Prefiero no decir",children:"Prefiero no decir"}),S.jsx("option",{value:"Otro",children:"Otro"})]}):S.jsx("span",{children:e.genero})]})]})]}),S.jsxs("div",{className:"section",children:[S.jsx("h2",{children:"Estadsticas"}),S.jsx("div",{className:"stats-grid",children:S.jsxs("div",{className:"stat-card",children:[S.jsx("div",{className:"stat-number",children:e.reportes.length}),S.jsx("div",{className:"stat-label",children:"Reportes Realizados"})]})})]}),S.jsxs("div",{className:"section",children:[S.jsx("h2",{children:"Mis Reportes"}),!e.reportes||e.reportes.length===0?S.jsxs("div",{className:"empty-state",children:[S.jsx("p",{children:"An no has realizado ningn reporte"}),S.jsx("button",{className:"btn-primary",onClick:me,children:"Crear mi primer reporte"})]}):Q?S.jsx("div",{className:"loading-state",children:S.jsx("p",{children:"Cargando reportes..."})}):S.jsx("div",{className:"reportes-list",children:F.map((ce,B)=>S.jsxs("div",{className:"reporte-item",children:[S.jsxs("div",{className:"reporte-content",children:[S.jsx("h4",{children:ce.calle||`Reporte #${B+1}`}),S.jsxs("p",{children:[S.jsx("strong",{children:"Descripcin:"})," ",ce.descripcin]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Tipo:"})," ",ce.tipo]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Dificultad:"})," ",ce.dificultad]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Fecha:"})," ",new Date(ce.fecha).toLocaleDateString()]})]}),S.jsx("div",{className:"reporte-actions",children:S.jsx("button",{className:"btn-link",onClick:()=>ae(ce),children:"Ver en mapa"})})]},ce.id||B))})]}),S.jsx("div",{className:"section danger-zone",children:S.jsx("button",{onClick:D,className:"btn-danger",children:"Cerrar Sesin"})})]})]})}):S.jsx("div",{className:"perfil-container",children:S.jsx("div",{className:"loading",children:"Cargando perfil..."})})};function KM(){const[i,e]=K.useState({totalUsers:0,totalReports:0,totalContacts:0,totalAdmins:0}),[n,o]=K.useState([]),[l,h]=K.useState([]),[m,v]=K.useState(!0),[y,w]=K.useState(null);return K.useEffect(()=>{(async()=>{try{v(!0),w(null);const A=await RM();e(A);const O=await yT();o(O.slice(0,5));const Z=await y_();h(Z.slice(0,5))}catch(A){console.error("Error al cargar datos del panel:",A),w("Error al cargar los datos")}finally{v(!1)}})()},[]),m?S.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:S.jsx("p",{children:"Cargando panel de administracin..."})}):y?S.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"red"},children:S.jsxs("p",{children:["Error: ",y]})}):S.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[S.jsx("h1",{children:"Panel de Administracin"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[S.jsxs("div",{style:{background:"#e3f2fd",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[S.jsx("h3",{children:"Usuarios"}),S.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1976d2"},children:i.totalUsers})]}),S.jsxs("div",{style:{background:"#f3e5f5",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[S.jsx("h3",{children:"Reportes"}),S.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#7b1fa2"},children:i.totalReports})]}),S.jsxs("div",{style:{background:"#e8f5e8",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[S.jsx("h3",{children:"Contactos"}),S.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#388e3c"},children:i.totalContacts})]}),S.jsxs("div",{style:{background:"#fff3e0",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[S.jsx("h3",{children:"Administradores"}),S.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#f57c00"},children:i.totalAdmins})]})]}),S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsx("h2",{children:"Mensajes de Contacto Recientes"}),S.jsx("div",{style:{background:"#f5f5f5",padding:"1rem",borderRadius:"8px"},children:n.length===0?S.jsx("p",{children:"No hay mensajes de contacto"}):n.map(C=>S.jsxs("div",{style:{background:"white",padding:"1rem",marginBottom:"0.5rem",borderRadius:"4px",border:C.leido?"1px solid #e0e0e0":"1px solid #2196f3"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h4",{children:C.nombre}),S.jsx("span",{style:{fontSize:"0.8rem",color:"#666"},children:new Date(C.fecha).toLocaleDateString()})]}),S.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:C.email}),S.jsx("p",{children:C.mensaje}),!C.leido&&S.jsx("span",{style:{background:"#2196f3",color:"white",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem"},children:"Nuevo"})]},C.id))})]}),S.jsxs("div",{children:[S.jsx("h2",{children:"Reportes Recientes"}),S.jsx("div",{style:{background:"#f5f5f5",padding:"1rem",borderRadius:"8px"},children:l.length===0?S.jsx("p",{children:"No hay reportes"}):l.map(C=>S.jsxs("div",{style:{background:"white",padding:"1rem",marginBottom:"0.5rem",borderRadius:"4px",border:"1px solid #e0e0e0"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h4",{children:C.direccion}),S.jsx("span",{style:{background:C.estado==="pendiente"?"#ff9800":C.estado==="en_proceso"?"#2196f3":"#4caf50",color:"white",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem"},children:C.estado||"pendiente"})]}),S.jsxs("p",{style:{color:"#666",fontSize:"0.9rem"},children:[C.tipoObstaculo," - ",C.nivelBarrera]}),S.jsx("p",{children:C.descripcion}),S.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:[S.jsxs("span",{children:["Fecha: ",new Date(C.fecha).toLocaleDateString()]}),C.usuario&&S.jsxs("span",{style:{marginLeft:"1rem"},children:["Reportado por: ",C.usuario.nombre]})]})]},C.id))})]})]})}const v0=({children:i,requireEmailVerification:e=!1})=>{const{currentUser:n,loading:o}=Jc(),l=As();return o?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:S.jsx("div",{children:"Cargando..."})}):n?e&&!n.emailVerified?S.jsxs("div",{style:{padding:"20px",textAlign:"center",maxWidth:"500px",margin:"50px auto"},children:[S.jsx("h2",{children:"Verificacin requerida"}),S.jsx("p",{children:"Para acceder a esta seccin, necesitas verificar tu correo electrnico. Revisa tu bandeja de entrada y haz clic en el enlace de verificacin."}),S.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Ya verifiqu mi email"})]}):S.jsx(S.Fragment,{children:i}):S.jsx(A0,{to:"/login",state:{from:l},replace:!0})};function XM(){return S.jsx(bC,{children:S.jsx(Bx,{children:S.jsxs(oi,{path:"/",element:S.jsx(CC,{}),children:[S.jsx(oi,{index:!0,element:S.jsx(zC,{})}),S.jsx(oi,{path:"about",element:S.jsx(NM,{})}),S.jsx(oi,{path:"mapa",element:S.jsx(zM,{})}),S.jsx(oi,{path:"privacidad",element:S.jsx(BM,{})}),S.jsx(oi,{path:"contacto",element:S.jsx(HM,{})}),S.jsx(oi,{path:"blog",element:S.jsx(FM,{})}),S.jsx(oi,{path:"/blog/:slug",element:S.jsx(GM,{})}),S.jsx(oi,{path:"faq",element:S.jsx(VM,{})}),S.jsx(oi,{path:"login",element:S.jsx(ZM,{})}),S.jsx(oi,{path:"registro",element:S.jsx(WM,{})}),S.jsx(oi,{path:"perfil",element:S.jsx(v0,{children:S.jsx(YM,{})})}),S.jsx(oi,{path:"admin",element:S.jsx(v0,{children:S.jsx(KM,{})})})]})})})}Z1.createRoot(document.getElementById("root")).render(S.jsx(K.StrictMode,{children:S.jsx(cC,{children:S.jsx(XM,{})})}));
