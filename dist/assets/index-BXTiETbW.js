(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function O1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var em={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function I1(){if(ib)return oc;ib=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:i,type:o,key:m,ref:l!==void 0?l:null,props:h}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var sb;function P1(){return sb||(sb=1,em.exports=I1()),em.exports}var E=P1(),tm={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function L1(){if(rb)return Fe;rb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=O&&U[O]||U["@@iterator"],typeof U=="function"?U:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,K={};function J(U,ue,we){this.props=U,this.context=ue,this.refs=K,this.updater=we||Z}J.prototype.isReactComponent={},J.prototype.setState=function(U,ue){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ue,"setState")},J.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function se(){}se.prototype=J.prototype;function X(U,ue,we){this.props=U,this.context=ue,this.refs=K,this.updater=we||Z}var ne=X.prototype=new se;ne.constructor=X,j(ne,J.prototype),ne.isPureReactComponent=!0;var ge=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function H(U,ue,we,ye,Te,Re){return we=Re.ref,{$$typeof:i,type:U,key:ue,ref:we!==void 0?we:null,props:Re}}function R(U,ue){return H(U.type,ue,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function B(U){var ue={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(we){return ue[we]})}var k=/\/+/g;function M(U,ue){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):ue.toString(36)}function D(){}function pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(ue){U.status==="pending"&&(U.status="fulfilled",U.value=ue)},function(ue){U.status==="pending"&&(U.status="rejected",U.reason=ue)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function F(U,ue,we,ye,Te){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case i:case e:xe=!0;break;case C:return xe=U._init,F(xe(U._payload),ue,we,ye,Te)}}if(xe)return Te=Te(U),xe=ye===""?"."+M(U,0):ye,ge(Te)?(we="",xe!=null&&(we=xe.replace(k,"$&/")+"/"),F(Te,ue,we,"",function(ai){return ai})):Te!=null&&(P(Te)&&(Te=R(Te,we+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(k,"$&/")+"/")+xe)),ue.push(Te)),1;xe=0;var pt=ye===""?".":ye+":";if(ge(U))for(var Ke=0;Ke<U.length;Ke++)ye=U[Ke],Re=pt+M(ye,Ke),xe+=F(ye,ue,we,Re,Te);else if(Ke=N(U),typeof Ke=="function")for(U=Ke.call(U),Ke=0;!(ye=U.next()).done;)ye=ye.value,Re=pt+M(ye,Ke++),xe+=F(ye,ue,we,Re,Te);else if(Re==="object"){if(typeof U.then=="function")return F(pe(U),ue,we,ye,Te);throw ue=String(U),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(U,ue,we){if(U==null)return U;var ye=[],Te=0;return F(U,ye,"","",function(Re){return ue.call(we,Re,Te++)}),ye}function ae(U){if(U._status===-1){var ue=U._result;ue=ue(),ue.then(function(we){(U._status===0||U._status===-1)&&(U._status=1,U._result=we)},function(we){(U._status===0||U._status===-1)&&(U._status=2,U._result=we)}),U._status===-1&&(U._status=0,U._result=ue)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ce(){}return Fe.Children={map:W,forEach:function(U,ue,we){W(U,function(){ue.apply(this,arguments)},we)},count:function(U){var ue=0;return W(U,function(){ue++}),ue},toArray:function(U){return W(U,function(ue){return ue})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Fe.Component=J,Fe.Fragment=n,Fe.Profiler=l,Fe.PureComponent=X,Fe.StrictMode=o,Fe.Suspense=y,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return G.H.useMemoCache(U)}},Fe.cache=function(U){return function(){return U.apply(null,arguments)}},Fe.cloneElement=function(U,ue,we){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ye=j({},U.props),Te=U.key,Re=void 0;if(ue!=null)for(xe in ue.ref!==void 0&&(Re=void 0),ue.key!==void 0&&(Te=""+ue.key),ue)!fe.call(ue,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ue.ref===void 0||(ye[xe]=ue[xe]);var xe=arguments.length-2;if(xe===1)ye.children=we;else if(1<xe){for(var pt=Array(xe),Ke=0;Ke<xe;Ke++)pt[Ke]=arguments[Ke+2];ye.children=pt}return H(U.type,Te,void 0,void 0,Re,ye)},Fe.createContext=function(U){return U={$$typeof:m,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},Fe.createElement=function(U,ue,we){var ye,Te={},Re=null;if(ue!=null)for(ye in ue.key!==void 0&&(Re=""+ue.key),ue)fe.call(ue,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Te[ye]=ue[ye]);var xe=arguments.length-2;if(xe===1)Te.children=we;else if(1<xe){for(var pt=Array(xe),Ke=0;Ke<xe;Ke++)pt[Ke]=arguments[Ke+2];Te.children=pt}if(U&&U.defaultProps)for(ye in xe=U.defaultProps,xe)Te[ye]===void 0&&(Te[ye]=xe[ye]);return H(U,Re,void 0,void 0,null,Te)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(U){return{$$typeof:v,render:U}},Fe.isValidElement=P,Fe.lazy=function(U){return{$$typeof:C,_payload:{_status:-1,_result:U},_init:ae}},Fe.memo=function(U,ue){return{$$typeof:w,type:U,compare:ue===void 0?null:ue}},Fe.startTransition=function(U){var ue=G.T,we={};G.T=we;try{var ye=U(),Te=G.S;Te!==null&&Te(we,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ce,te)}catch(Re){te(Re)}finally{G.T=ue}},Fe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Fe.use=function(U){return G.H.use(U)},Fe.useActionState=function(U,ue,we){return G.H.useActionState(U,ue,we)},Fe.useCallback=function(U,ue){return G.H.useCallback(U,ue)},Fe.useContext=function(U){return G.H.useContext(U)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(U,ue){return G.H.useDeferredValue(U,ue)},Fe.useEffect=function(U,ue,we){var ye=G.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(U,ue)},Fe.useId=function(){return G.H.useId()},Fe.useImperativeHandle=function(U,ue,we){return G.H.useImperativeHandle(U,ue,we)},Fe.useInsertionEffect=function(U,ue){return G.H.useInsertionEffect(U,ue)},Fe.useLayoutEffect=function(U,ue){return G.H.useLayoutEffect(U,ue)},Fe.useMemo=function(U,ue){return G.H.useMemo(U,ue)},Fe.useOptimistic=function(U,ue){return G.H.useOptimistic(U,ue)},Fe.useReducer=function(U,ue,we){return G.H.useReducer(U,ue,we)},Fe.useRef=function(U){return G.H.useRef(U)},Fe.useState=function(U){return G.H.useState(U)},Fe.useSyncExternalStore=function(U,ue,we){return G.H.useSyncExternalStore(U,ue,we)},Fe.useTransition=function(){return G.H.useTransition()},Fe.version="19.1.0",Fe}var ob;function sa(){return ob||(ob=1,tm.exports=L1()),tm.exports}var Q=sa(),nm={exports:{}},ac={},im={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function M1(){return ab||(ab=1,function(i){function e(W,ae){var te=W.length;W.push(ae);e:for(;0<te;){var Ce=te-1>>>1,U=W[Ce];if(0<l(U,ae))W[Ce]=ae,W[te]=U,te=Ce;else break e}}function n(W){return W.length===0?null:W[0]}function o(W){if(W.length===0)return null;var ae=W[0],te=W.pop();if(te!==ae){W[0]=te;e:for(var Ce=0,U=W.length,ue=U>>>1;Ce<ue;){var we=2*(Ce+1)-1,ye=W[we],Te=we+1,Re=W[Te];if(0>l(ye,te))Te<U&&0>l(Re,ye)?(W[Ce]=Re,W[Te]=te,Ce=Te):(W[Ce]=ye,W[we]=te,Ce=we);else if(Te<U&&0>l(Re,te))W[Ce]=Re,W[Te]=te,Ce=Te;else break e}}return ae}function l(W,ae){var te=W.sortIndex-ae.sortIndex;return te!==0?te:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var y=[],w=[],C=1,O=null,N=3,Z=!1,j=!1,K=!1,J=!1,se=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ge(W){for(var ae=n(w);ae!==null;){if(ae.callback===null)o(w);else if(ae.startTime<=W)o(w),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(w)}}function G(W){if(K=!1,ge(W),!j)if(n(y)!==null)j=!0,fe||(fe=!0,M());else{var ae=n(w);ae!==null&&F(G,ae.startTime-W)}}var fe=!1,H=-1,R=5,P=-1;function B(){return J?!0:!(i.unstable_now()-P<R)}function k(){if(J=!1,fe){var W=i.unstable_now();P=W;var ae=!0;try{e:{j=!1,K&&(K=!1,X(H),H=-1),Z=!0;var te=N;try{t:{for(ge(W),O=n(y);O!==null&&!(O.expirationTime>W&&B());){var Ce=O.callback;if(typeof Ce=="function"){O.callback=null,N=O.priorityLevel;var U=Ce(O.expirationTime<=W);if(W=i.unstable_now(),typeof U=="function"){O.callback=U,ge(W),ae=!0;break t}O===n(y)&&o(y),ge(W)}else o(y);O=n(y)}if(O!==null)ae=!0;else{var ue=n(w);ue!==null&&F(G,ue.startTime-W),ae=!1}}break e}finally{O=null,N=te,Z=!1}ae=void 0}}finally{ae?M():fe=!1}}}var M;if(typeof ne=="function")M=function(){ne(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,pe=D.port2;D.port1.onmessage=k,M=function(){pe.postMessage(null)}}else M=function(){se(k,0)};function F(W,ae){H=se(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(W){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var te=N;N=ae;try{return W()}finally{N=te}},i.unstable_requestPaint=function(){J=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=N;N=W;try{return ae()}finally{N=te}},i.unstable_scheduleCallback=function(W,ae,te){var Ce=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ce+te:Ce):te=Ce,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,W={id:C++,callback:ae,priorityLevel:W,startTime:te,expirationTime:U,sortIndex:-1},te>Ce?(W.sortIndex=te,e(w,W),n(y)===null&&W===n(w)&&(K?(X(H),H=-1):K=!0,F(G,te-Ce))):(W.sortIndex=U,e(y,W),j||Z||(j=!0,fe||(fe=!0,M()))),W},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(W){var ae=N;return function(){var te=N;N=ae;try{return W.apply(this,arguments)}finally{N=te}}}}(sm)),sm}var lb;function D1(){return lb||(lb=1,im.exports=M1()),im.exports}var rm={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function k1(){if(ub)return jn;ub=1;var i=sa();function e(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)w+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,w,C){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:y,containerInfo:w,implementation:C}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,jn.createPortal=function(y,w){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return h(y,w,null,C)},jn.flushSync=function(y){var w=m.T,C=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=w,o.p=C,o.d.f()}},jn.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,o.d.C(y,w))},jn.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},jn.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var C=w.as,O=v(C,w.crossOrigin),N=typeof w.integrity=="string"?w.integrity:void 0,Z=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;C==="style"?o.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:O,integrity:N,fetchPriority:Z}):C==="script"&&o.d.X(y,{crossOrigin:O,integrity:N,fetchPriority:Z,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},jn.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var C=v(w.as,w.crossOrigin);o.d.M(y,{crossOrigin:C,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&o.d.M(y)},jn.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var C=w.as,O=v(C,w.crossOrigin);o.d.L(y,C,{crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},jn.preloadModule=function(y,w){if(typeof y=="string")if(w){var C=v(w.as,w.crossOrigin);o.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:C,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else o.d.m(y)},jn.requestFormReset=function(y){o.d.r(y)},jn.unstable_batchedUpdates=function(y,w){return y(w)},jn.useFormState=function(y,w,C){return m.H.useFormState(y,w,C)},jn.useFormStatus=function(){return m.H.useHostTransitionStatus()},jn.version="19.1.0",jn}var cb;function z1(){if(cb)return rm.exports;cb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rm.exports=k1(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function U1(){if(hb)return ac;hb=1;var i=D1(),e=sa(),n=z1();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function m(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(o(188))}function y(t){var s=t.alternate;if(!s){if(s=h(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,c=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return v(p),t;if(g===c)return v(p),s;g=g.sibling}throw Error(o(188))}if(a.return!==c.return)a=p,c=g;else{for(var x=!1,I=p.child;I;){if(I===a){x=!0,a=p,c=g;break}if(I===c){x=!0,c=p,a=g;break}I=I.sibling}if(!x){for(I=g.child;I;){if(I===a){x=!0,a=g,c=p;break}if(I===c){x=!0,c=g,a=p;break}I=I.sibling}if(!x)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var C=Object.assign,O=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case J:return"Profiler";case K:return"StrictMode";case G:return"Suspense";case fe:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ge:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var F=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ce=[],U=-1;function ue(t){return{current:t}}function we(t){0>U||(t.current=Ce[U],Ce[U]=null,U--)}function ye(t,s){U++,Ce[U]=t.current,t.current=s}var Te=ue(null),Re=ue(null),xe=ue(null),pt=ue(null);function Ke(t,s){switch(ye(xe,s),ye(Re,t),ye(Te,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Iy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Iy(s),t=Py(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}we(Te),ye(Te,t)}function ai(){we(Te),we(Re),we(xe)}function Ii(t){t.memoizedState!==null&&ye(pt,t);var s=Te.current,a=Py(s,t.type);s!==a&&(ye(Re,t),ye(Te,a))}function li(t){Re.current===t&&(we(Te),we(Re)),pt.current===t&&(we(pt),tc._currentValue=te)}var ui=Object.prototype.hasOwnProperty,es=i.unstable_scheduleCallback,ir=i.unstable_cancelCallback,Zr=i.unstable_shouldYield,oa=i.unstable_requestPaint,On=i.unstable_now,Wr=i.unstable_getCurrentPriorityLevel,aa=i.unstable_ImmediatePriority,sr=i.unstable_UserBlockingPriority,ts=i.unstable_NormalPriority,ol=i.unstable_LowPriority,rr=i.unstable_IdlePriority,la=i.log,al=i.unstable_setDisableYieldValue,Tt=null,ot=null;function In(t){if(typeof la=="function"&&al(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Tt,t)}catch{}}var ln=Math.clz32?Math.clz32:or,ua=Math.log,ll=Math.LN2;function or(t){return t>>>=0,t===0?32:31-(ua(t)/ll|0)|0}var Rs=256,ns=4194304;function Qn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yr(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var p=0,g=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=Qn(c):(x&=I,x!==0?p=Qn(x):a||(a=I&~t,a!==0&&(p=Qn(a))))):(I=c&~g,I!==0?p=Qn(I):x!==0?p=Qn(x):a||(a=c&~t,a!==0&&(p=Qn(a)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:p}function ci(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ca(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ha(){var t=Rs;return Rs<<=1,(Rs&4194048)===0&&(Rs=256),t}function fa(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function Pi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Li(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function da(t,s,a,c,p,g){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var I=t.entanglements,V=t.expirationTimes,oe=t.hiddenUpdates;for(a=x&~a;0<a;){var me=31-ln(a),ve=1<<me;I[me]=0,V[me]=-1;var le=oe[me];if(le!==null)for(oe[me]=null,me=0;me<le.length;me++){var ce=le[me];ce!==null&&(ce.lane&=-536870913)}a&=~ve}c!==0&&is(t,c,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(x&~s))}function is(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-ln(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function pa(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-ln(a),p=1<<c;p&s|t[c]&s&&(t[c]|=s),a&=~p}}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ns(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function Xr(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var xt=Math.random().toString(36).slice(2),Gt="__reactFiber$"+xt,jt="__reactProps$"+xt,Jn="__reactContainer$"+xt,Pn="__reactEvents$"+xt,Pe="__reactListeners$"+xt,ss="__reactHandles$"+xt,ma="__reactResources$"+xt,Os="__reactMarker$"+xt;function Is(t){delete t[Gt],delete t[jt],delete t[Pn],delete t[Pe],delete t[ss]}function Mi(t){var s=t[Gt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Jn]||a[Gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=ky(t);t!==null;){if(a=t[Gt])return a;t=ky(t)}return s}t=a,a=t.parentNode}return null}function hi(t){if(t=t[Gt]||t[Jn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function un(t){var s=t[ma];return s||(s=t[ma]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(t){t[Os]=!0}var ga=new Set,$r={};function fi(t,s){Di(t,s),Di(t+"Capture",s)}function Di(t,s){for($r[t]=s,t=0;t<s.length;t++)ga.add(s[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},ur={};function cl(t){return ui.call(ur,t)?!0:ui.call(lr,t)?!1:ul.test(t)?ur[t]=!0:(lr[t]=!0,!1)}function Ps(t,s,a){if(cl(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ki(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function tn(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}var rs,Ls;function zi(t){if(rs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);rs=s&&s[1]||"",Ls=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+Ls}var cr=!1;function Ui(t,s){if(!t||cr)return"";cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ce){var le=ce}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(ce){le=ce}t.call(ve.prototype)}}else{try{throw Error()}catch(ce){le=ce}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ce){if(ce&&le&&typeof ce.stack=="string")return[ce.stack,le.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],I=g[1];if(x&&I){var V=x.split(`
`),oe=I.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===oe.length)for(c=V.length-1,p=oe.length-1;1<=c&&0<=p&&V[c]!==oe[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==oe[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==oe[p]){var me=`
`+V[c].replace(" at new "," at ");return t.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",t.displayName)),me}while(1<=c&&0<=p);break}}}finally{cr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zi(a):""}function Ze(t){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ui(t.type,!1);case 11:return Ui(t.type.render,!1);case 1:return Ui(t.type,!0);case 31:return zi("Activity");default:return""}}function ft(t){try{var s="";do s+=Ze(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ji(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ms(t){var s=ji(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ds(t){t._valueTracker||(t._valueTracker=Ms(t))}function qe(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=ji(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _a=/[\n"\\]/g;function Pt(t){return t.replace(_a,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ct(t,s,a,c,p,g,x,I){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),s!=null?x==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Kt(s)):t.value!==""+Kt(s)&&(t.value=""+Kt(s)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),s!=null?di(t,x,Kt(s)):a!=null?di(t,x,Kt(a)):c!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.name=""+Kt(I):t.removeAttribute("name")}function hr(t,s,a,c,p,g,x,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+Kt(a):"",s=s!=null?""+Kt(s):a,I||s===t.value||(t.value=s),t.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=I?t.checked:!!c,t.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function di(t,s,a){s==="number"&&mt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bn(t,s,a,c){if(t=t.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=s.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),s=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function ze(t,s,a){if(s!=null&&(s=""+Kt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Kt(a):""}function Bn(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(o(92));if(F(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Kt(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function cn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||pi.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function os(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&a[p]!==c&&Qr(t,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Qr(t,g,s[g])}function fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(t){return Jr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,gi=null;function ya(t){var s=hi(t);if(s&&(t=s.stateNode)){var a=t[jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ct(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var p=c[jt]||null;if(!p)throw Error(o(90));Ct(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&qe(c)}break e;case"textarea":ze(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&bn(t,!!a.multiple,s,!1)}}}var Me=!1;function Hn(t,s,a){if(Me)return t(s,a);Me=!0;try{var c=t(s);return c}finally{if(Me=!1,(Bi!==null||gi!==null)&&(Gh(),Bi&&(s=Bi,t=gi,gi=Bi=null,ya(s),t)))for(s=0;s<t.length;s++)ya(t[s])}}function tt(t,s){var a=t.stateNode;if(a===null)return null;var c=a[jt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(ei)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ln=!1}var ti=null,Mn=null,_i=null;function ls(){if(_i)return _i;var t,s=Mn,a=s.length,c,p="value"in ti?ti.value:ti.textContent,g=p.length;for(t=0;t<a&&s[t]===p[t];t++);var x=a-t;for(c=1;c<=x&&s[a-c]===p[g-c];c++);return _i=p.slice(t,1<c?1-c:void 0)}function vt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function hn(){return!0}function eo(){return!1}function Zt(t){function s(a,c,p,g,x){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(a=t[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hn:eo,this.isPropagationStopped=eo,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),s}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=Zt(ct),us=C({},ct,{view:0,detail:0}),hl=Zt(us),pr,Ve,Hi,nn=C({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(pr=t.screenX-Hi.screenX,Ve=t.screenY-Hi.screenY):Ve=pr=0,Hi=t),pr)},movementY:function(t){return"movementY"in t?t.movementY:Ve}}),fn=Zt(nn),ba=C({},nn,{dataTransfer:0}),vu=Zt(ba),cs=C({},us,{relatedTarget:0}),to=Zt(cs),no=C({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),io=Zt(no),fl=C({},ct,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zs=Zt(fl),yu=C({},ct,{data:0}),Dn=Zt(yu),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function so(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=vi[t])?!!s[t]:!1}function Us(){return so}var ro=C({},us,{key:function(t){if(t.key){var s=mr[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=vt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wa[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?vt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oo=Zt(ro),Sa=C({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Zt(Sa),hs=C({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),dl=Zt(hs),lo=C({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=Zt(lo),Ea=C({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sn=Zt(Ea),gr=C({},ct,{newState:0,oldState:0}),qi=Zt(gr),js=[9,13,27,32],f=ei&&"CompositionEvent"in window,b=null;ei&&"documentMode"in document&&(b=document.documentMode);var T=ei&&"TextEvent"in window&&!b,z=ei&&(!f||b&&8<b&&11>=b),ie=" ",de=!1;function Se(t,s){switch(t){case"keyup":return js.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var At=!1;function Xe(t,s){switch(t){case"compositionend":return at(s);case"keypress":return s.which!==32?null:(de=!0,ie);case"textInput":return t=s.data,t===ie&&de?null:t;default:return null}}function Xt(t,s){if(At)return t==="compositionend"||!f&&Se(t,s)?(t=ls(),_i=Mn=ti=null,At=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return z&&s.locale!=="ko"?null:s.data;default:return null}}var dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!dt[t.type]:s==="textarea"}function zn(t,s,a,c){Bi?gi?gi.push(c):gi=[c]:Bi=c,s=$h(s,"onChange"),0<s.length&&(a=new dr("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var $t=null,fs=null;function uo(t){Cy(t,0)}function ml(t){var s=yn(t);if(qe(s))return t}function co(t,s){if(t==="change")return s}var bu=!1;if(ei){var ho;if(ei){var wu="oninput"in document;if(!wu){var ds=document.createElement("div");ds.setAttribute("oninput","return;"),wu=typeof ds.oninput=="function"}ho=wu}else ho=!1;bu=ho&&(!document.documentMode||9<document.documentMode)}function Ta(){$t&&($t.detachEvent("onpropertychange",ch),fs=$t=null)}function ch(t){if(t.propertyName==="value"&&ml(fs)){var s=[];zn(s,fs,t,wn(t)),Hn(uo,s)}}function Su(t,s,a){t==="focusin"?(Ta(),$t=s,fs=a,$t.attachEvent("onpropertychange",ch)):t==="focusout"&&Ta()}function Td(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ml(fs)}function ps(t,s){if(t==="click")return ml(s)}function xd(t,s){if(t==="input"||t==="change")return ml(s)}function fo(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var qn=typeof Object.is=="function"?Object.is:fo;function Vn(t,s){if(qn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!ui.call(s,p)||!qn(t[p],s[p]))return!1}return!0}function xa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eu(t,s){var a=xa(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xa(a)}}function gl(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?gl(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ca(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=mt(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=mt(t.document)}return s}function Aa(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var _l=ei&&"documentMode"in document&&11>=document.documentMode,yi=null,po=null,_r=null,vl=!1;function hh(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vl||yi==null||yi!==mt(c)||(c=yi,"selectionStart"in c&&Aa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_r&&Vn(_r,c)||(_r=c,c=$h(po,"onSelect"),0<c.length&&(s=new dr("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=yi)))}function Vi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var mo={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},yl={},fh={};ei&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Bs(t){if(yl[t])return yl[t];if(!mo[t])return t;var s=mo[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in fh)return yl[t]=s[a];return t}var dh=Bs("animationend"),bi=Bs("animationiteration"),Ra=Bs("animationstart"),Cd=Bs("transitionrun"),bl=Bs("transitionstart"),Ad=Bs("transitioncancel"),Tu=Bs("transitionend"),ph=new Map,vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vr.push("scrollEnd");function wi(t,s){ph.set(t,s),fi(s,[t])}var yr=new WeakMap;function Fn(t,s){if(typeof t=="object"&&t!==null){var a=yr.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ft(s)},yr.set(t,s),s)}return{value:t,source:s,stack:ft(s)}}var Gn=[],go=0,Si=0;function Na(){for(var t=go,s=Si=go=0;s<t;){var a=Gn[s];Gn[s++]=null;var c=Gn[s];Gn[s++]=null;var p=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}g!==0&&Ia(a,p,g)}}function Oa(t,s,a,c){Gn[go++]=t,Gn[go++]=s,Gn[go++]=a,Gn[go++]=c,Si|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function br(t,s,a,c){return Oa(t,s,a,c),Hs(t)}function _o(t,s){return Oa(t,null,null,s),Hs(t)}function Ia(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=t.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&s!==null&&(p=31-ln(a),t=g.hiddenUpdates,c=t[p],c===null?t[p]=[s]:c.push(s),s.lane=a|536870912),g):null}function Hs(t){if(50<Wu)throw Wu=0,Tp=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var wr={};function mh(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,s,a,c){return new mh(t,s,a,c)}function wl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,s){var a=t.alternate;return a===null?(a=Zn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xu(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Pa(t,s,a,c,p,g){var x=0;if(c=t,typeof t=="function")wl(t)&&(x=1);else if(typeof t=="string")x=_1(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=Zn(31,a,s,p),t.elementType=P,t.lanes=g,t;case j:return qs(a.children,p,g,s);case K:x=8,p|=24;break;case J:return t=Zn(12,a,s,p|2),t.elementType=J,t.lanes=g,t;case G:return t=Zn(13,a,s,p),t.elementType=G,t.lanes=g,t;case fe:return t=Zn(19,a,s,p),t.elementType=fe,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:case ne:x=10;break e;case X:x=9;break e;case ge:x=11;break e;case H:x=14;break e;case R:x=16,c=null;break e}x=29,a=Error(o(130,t===null?"null":typeof t,"")),c=null}return s=Zn(x,a,s,p),s.elementType=t,s.type=c,s.lanes=g,s}function qs(t,s,a,c){return t=Zn(7,t,c,s),t.lanes=a,t}function Cu(t,s,a){return t=Zn(6,t,null,s),t.lanes=a,t}function Sl(t,s,a){return s=Zn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Sr=[],vo=0,r=null,u=0,d=[],_=0,S=null,A=1,q="";function ee(t,s){Sr[vo++]=u,Sr[vo++]=r,r=t,u=s}function he(t,s,a){d[_++]=A,d[_++]=q,d[_++]=S,S=t;var c=A;t=q;var p=32-ln(c)-1;c&=~(1<<p),a+=1;var g=32-ln(s)+p;if(30<g){var x=p-p%5;g=(c&(1<<x)-1).toString(32),c>>=x,p-=x,A=1<<32-ln(s)+p|a<<p|c,q=g+t}else A=1<<g|a<<p|c,q=t}function be(t){t.return!==null&&(ee(t,1),he(t,1,0))}function Ae(t){for(;t===r;)r=Sr[--vo],Sr[vo]=null,u=Sr[--vo],Sr[vo]=null;for(;t===S;)S=d[--_],d[_]=null,q=d[--_],d[_]=null,A=d[--_],d[_]=null}var Ne=null,Ie=null,Be=!1,Rt=null,zt=!1,dn=Error(o(519));function ni(t){var s=Error(o(418,""));throw bo(Fn(s,t)),dn}function gh(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Gt]=t,s[jt]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<Ku.length;a++)Qe(Ku[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),hr(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ds(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Bn(s,c.value,c.defaultValue,c.children),Ds(s)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Oy(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Qh),s=!0):s=!1,s||ni(t)}function _h(t){for(Ne=t.return;Ne;)switch(Ne.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:Ne=Ne.return}}function La(t){if(t!==Ne)return!1;if(!Be)return _h(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bp(t.type,t.memoizedProps)),a=!a),a&&Ie&&ni(t),_h(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Ie=vs(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Ie=null}}else s===27?(s=Ie,Do(t.type)?(t=Fp,Fp=null,Ie=t):Ie=s):Ie=Ne?vs(t.stateNode.nextSibling):null;return!0}function yo(){Ie=Ne=null,Be=!1}function vh(){var t=Rt;return t!==null&&(ri===null?ri=t:ri.push.apply(ri,t),Rt=null),t}function bo(t){Rt===null?Rt=[t]:Rt.push(t)}var Lt=ue(null),Gi=null,ms=null;function Vs(t,s,a){ye(Lt,s._currentValue),s._currentValue=a}function gs(t){t._currentValue=Lt.current,we(Lt)}function Ma(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function El(t,s,a,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=p;for(var V=0;V<s.length;V++)if(I.context===s[V]){g.lanes|=a,I=g.alternate,I!==null&&(I.lanes|=a),Ma(g.return,a,t),c||(x=null);break e}g=I.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(o(341));x.lanes|=a,g=x.alternate,g!==null&&(g.lanes|=a),Ma(x,a,t),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===t){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Da(t,s,a,c){t=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var I=p.type;qn(p.pendingProps.value,x.value)||(t!==null?t.push(I):t=[I])}}else if(p===pt.current){if(x=p.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(tc):t=[tc])}p=p.return}t!==null&&El(s,t,a,c),s.flags|=262144}function yh(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ka(t){Gi=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Un(t){return g_(Gi,t)}function bh(t,s){return Gi===null&&ka(t),g_(t,s)}function g_(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ms===null){if(t===null)throw Error(o(308));ms=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ms=ms.next=s;return a}var gT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},_T=i.unstable_scheduleCallback,vT=i.unstable_NormalPriority,sn={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new gT,data:new Map,refCount:0}}function Au(t){t.refCount--,t.refCount===0&&_T(vT,function(){t.controller.abort()})}var Ru=null,Nd=0,Tl=0,xl=null;function yT(t,s){if(Ru===null){var a=Ru=[];Nd=0,Tl=Ip(),xl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Nd++,s.then(__,__),s}function __(){if(--Nd===0&&Ru!==null){xl!==null&&(xl.status="fulfilled");var t=Ru;Ru=null,Tl=0,xl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function bT(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var v_=W.S;W.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&yT(t,s),v_!==null&&v_(t,s)};var za=ue(null);function Od(){var t=za.current;return t!==null?t:Nt.pooledCache}function wh(t,s){s===null?ye(za,za.current):ye(za,s.pool)}function y_(){var t=Od();return t===null?null:{parent:sn._currentValue,pool:t}}var Nu=Error(o(460)),b_=Error(o(474)),Sh=Error(o(542)),Id={then:function(){}};function w_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eh(){}function S_(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Eh,Eh),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,T_(t),t;default:if(typeof s.status=="string")s.then(Eh,Eh);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,T_(t),t}throw Ou=s,Nu}}var Ou=null;function E_(){if(Ou===null)throw Error(o(459));var t=Ou;return Ou=null,t}function T_(t){if(t===Nu||t===Sh)throw Error(o(483))}var wo=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function So(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Eo(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(gt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Hs(t),Ia(t,null,a),s}return Oa(t,c,s,a),Hs(t)}function Iu(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,pa(t,a)}}function Md(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Dd=!1;function Pu(){if(Dd){var t=xl;if(t!==null)throw t}}function Lu(t,s,a,c){Dd=!1;var p=t.updateQueue;wo=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var V=I,oe=V.next;V.next=null,x===null?g=oe:x.next=oe,x=V;var me=t.alternate;me!==null&&(me=me.updateQueue,I=me.lastBaseUpdate,I!==x&&(I===null?me.firstBaseUpdate=oe:I.next=oe,me.lastBaseUpdate=V))}if(g!==null){var ve=p.baseState;x=0,me=oe=V=null,I=g;do{var le=I.lane&-536870913,ce=le!==I.lane;if(ce?(nt&le)===le:(c&le)===le){le!==0&&le===Tl&&(Dd=!0),me!==null&&(me=me.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var je=t,De=I;le=s;var wt=a;switch(De.tag){case 1:if(je=De.payload,typeof je=="function"){ve=je.call(wt,ve,le);break e}ve=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=De.payload,le=typeof je=="function"?je.call(wt,ve,le):je,le==null)break e;ve=C({},ve,le);break e;case 2:wo=!0}}le=I.callback,le!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=p.callbacks,ce===null?p.callbacks=[le]:ce.push(le))}else ce={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},me===null?(oe=me=ce,V=ve):me=me.next=ce,x|=le;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;ce=I,I=ce.next,ce.next=null,p.lastBaseUpdate=ce,p.shared.pending=null}}while(!0);me===null&&(V=ve),p.baseState=V,p.firstBaseUpdate=oe,p.lastBaseUpdate=me,g===null&&(p.shared.lanes=0),Io|=x,t.lanes=x,t.memoizedState=ve}}function x_(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function C_(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)x_(a[t],s)}var Cl=ue(null),Th=ue(0);function A_(t,s){t=Nr,ye(Th,t),ye(Cl,s),Nr=t|s.baseLanes}function kd(){ye(Th,Nr),ye(Cl,Cl.current)}function zd(){Nr=Th.current,we(Cl),we(Th)}var To=0,Ge=null,yt=null,Qt=null,xh=!1,Al=!1,Ua=!1,Ch=0,Mu=0,Rl=null,wT=0;function Wt(){throw Error(o(321))}function Ud(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!qn(t[a],s[a]))return!1;return!0}function jd(t,s,a,c,p,g){return To=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=t===null||t.memoizedState===null?cv:hv,Ua=!1,g=a(c,p),Ua=!1,Al&&(g=N_(s,a,c,p)),R_(t),g}function R_(t){W.H=Ph;var s=yt!==null&&yt.next!==null;if(To=0,Qt=yt=Ge=null,xh=!1,Mu=0,Rl=null,s)throw Error(o(300));t===null||pn||(t=t.dependencies,t!==null&&yh(t)&&(pn=!0))}function N_(t,s,a,c){Ge=t;var p=0;do{if(Al&&(Rl=null),Mu=0,Al=!1,25<=p)throw Error(o(301));if(p+=1,Qt=yt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=RT,g=s(a,c)}while(Al);return g}function ST(){var t=W.H,s=t.useState()[0];return s=typeof s.then=="function"?Du(s):s,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Ge.flags|=1024),s}function Bd(){var t=Ch!==0;return Ch=0,t}function Hd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function qd(t){if(xh){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}xh=!1}To=0,Qt=yt=Ge=null,Al=!1,Mu=Ch=0,Rl=null}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ge.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Jt(){if(yt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=Qt===null?Ge.memoizedState:Qt.next;if(s!==null)Qt=s,yt=t;else{if(t===null)throw Ge.alternate===null?Error(o(467)):Error(o(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Qt===null?Ge.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(t){var s=Mu;return Mu+=1,Rl===null&&(Rl=[]),t=S_(Rl,t,s),s=Ge,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?cv:hv),t}function Ah(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Du(t);if(t.$$typeof===ne)return Un(t)}throw Error(o(438,String(t)))}function Fd(t){var s=null,a=Ge.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vd(),Ge.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=B;return s.index++,a}function Er(t,s){return typeof s=="function"?s(t):s}function Rh(t){var s=Jt();return Gd(s,yt,t)}function Gd(t,s,a){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var p=t.baseQueue,g=c.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}s.baseQueue=p=g,c.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{s=p.next;var I=x=null,V=null,oe=s,me=!1;do{var ve=oe.lane&-536870913;if(ve!==oe.lane?(nt&ve)===ve:(To&ve)===ve){var le=oe.revertLane;if(le===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ve===Tl&&(me=!0);else if((To&le)===le){oe=oe.next,le===Tl&&(me=!0);continue}else ve={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(I=V=ve,x=g):V=V.next=ve,Ge.lanes|=le,Io|=le;ve=oe.action,Ua&&a(g,ve),g=oe.hasEagerState?oe.eagerState:a(g,ve)}else le={lane:ve,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(I=V=le,x=g):V=V.next=le,Ge.lanes|=ve,Io|=ve;oe=oe.next}while(oe!==null&&oe!==s);if(V===null?x=g:V.next=I,!qn(g,t.memoizedState)&&(pn=!0,me&&(a=xl,a!==null)))throw a;t.memoizedState=g,t.baseState=x,t.baseQueue=V,c.lastRenderedState=g}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Zd(t){var s=Jt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var c=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=t(g,x.action),x=x.next;while(x!==p);qn(g,s.memoizedState)||(pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function O_(t,s,a){var c=Ge,p=Jt(),g=Be;if(g){if(a===void 0)throw Error(o(407));a=a()}else a=s();var x=!qn((yt||p).memoizedState,a);x&&(p.memoizedState=a,pn=!0),p=p.queue;var I=L_.bind(null,c,p,t);if(ku(2048,8,I,[t]),p.getSnapshot!==s||x||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Nl(9,Nh(),P_.bind(null,c,p,a,s),null),Nt===null)throw Error(o(349));g||(To&124)!==0||I_(c,s,a)}return a}function I_(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ge.updateQueue,s===null?(s=Vd(),Ge.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function P_(t,s,a,c){s.value=a,s.getSnapshot=c,M_(s)&&D_(t)}function L_(t,s,a){return a(function(){M_(s)&&D_(t)})}function M_(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!qn(t,a)}catch{return!0}}function D_(t){var s=_o(t,2);s!==null&&Ai(s,t,2)}function Wd(t){var s=ii();if(typeof t=="function"){var a=t;if(t=a(),Ua){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:t},s}function k_(t,s,a,c){return t.baseState=a,Gd(t,yt,typeof c=="function"?c:Er)}function ET(t,s,a,c,p){if(Ih(t))throw Error(o(485));if(t=s.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};W.T!==null?a(!0):g.isTransition=!1,c(g),a=s.pending,a===null?(g.next=s.pending=g,z_(s,g)):(g.next=a.next,s.pending=a.next=g)}}function z_(t,s){var a=s.action,c=s.payload,p=t.state;if(s.isTransition){var g=W.T,x={};W.T=x;try{var I=a(p,c),V=W.S;V!==null&&V(x,I),U_(t,s,I)}catch(oe){Yd(t,s,oe)}finally{W.T=g}}else try{g=a(p,c),U_(t,s,g)}catch(oe){Yd(t,s,oe)}}function U_(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){j_(t,s,c)},function(c){return Yd(t,s,c)}):j_(t,s,a)}function j_(t,s,a){s.status="fulfilled",s.value=a,B_(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,z_(t,a)))}function Yd(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,B_(s),s=s.next;while(s!==c)}t.action=null}function B_(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function H_(t,s){return s}function q_(t,s){if(Be){var a=Nt.formState;if(a!==null){e:{var c=Ge;if(Be){if(Ie){t:{for(var p=Ie,g=zt;p.nodeType!==8;){if(!g){p=null;break t}if(p=vs(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ie=vs(p.nextSibling),c=p.data==="F!";break e}}ni(c)}c=!1}c&&(s=a[0])}}return a=ii(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:s},a.queue=c,a=av.bind(null,Ge,c),c.dispatch=a,c=Wd(!1),g=Jd.bind(null,Ge,!1,c.queue),c=ii(),p={state:s,dispatch:null,action:t,pending:null},c.queue=p,a=ET.bind(null,Ge,p,g,a),p.dispatch=a,c.memoizedState=t,[s,a,!1]}function V_(t){var s=Jt();return F_(s,yt,t)}function F_(t,s,a){if(s=Gd(t,s,H_)[0],t=Rh(Er)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Du(s)}catch(x){throw x===Nu?Sh:x}else c=s;s=Jt();var p=s.queue,g=p.dispatch;return a!==s.memoizedState&&(Ge.flags|=2048,Nl(9,Nh(),TT.bind(null,p,a),null)),[c,g,t]}function TT(t,s){t.action=s}function G_(t){var s=Jt(),a=yt;if(a!==null)return F_(s,a,t);Jt(),s=s.memoizedState,a=Jt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function Nl(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Vd(),Ge.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function Nh(){return{destroy:void 0,resource:void 0}}function Z_(){return Jt().memoizedState}function Oh(t,s,a,c){var p=ii();c=c===void 0?null:c,Ge.flags|=t,p.memoizedState=Nl(1|s,Nh(),a,c)}function ku(t,s,a,c){var p=Jt();c=c===void 0?null:c;var g=p.memoizedState.inst;yt!==null&&c!==null&&Ud(c,yt.memoizedState.deps)?p.memoizedState=Nl(s,g,a,c):(Ge.flags|=t,p.memoizedState=Nl(1|s,g,a,c))}function W_(t,s){Oh(8390656,8,t,s)}function Y_(t,s){ku(2048,8,t,s)}function K_(t,s){return ku(4,2,t,s)}function X_(t,s){return ku(4,4,t,s)}function $_(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Q_(t,s,a){a=a!=null?a.concat([t]):null,ku(4,4,$_.bind(null,s,t),a)}function Kd(){}function J_(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&Ud(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function ev(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&Ud(s,c[1]))return c[0];if(c=t(),Ua){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[c,s],c}function Xd(t,s,a){return a===void 0||(To&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=iy(),Ge.lanes|=t,Io|=t,a)}function tv(t,s,a,c){return qn(a,s)?a:Cl.current!==null?(t=Xd(t,a,c),qn(t,s)||(pn=!0),t):(To&42)===0?(pn=!0,t.memoizedState=a):(t=iy(),Ge.lanes|=t,Io|=t,s)}function nv(t,s,a,c,p){var g=ae.p;ae.p=g!==0&&8>g?g:8;var x=W.T,I={};W.T=I,Jd(t,!1,s,a);try{var V=p(),oe=W.S;if(oe!==null&&oe(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var me=bT(V,c);zu(t,s,me,Ci(t))}else zu(t,s,c,Ci(t))}catch(ve){zu(t,s,{then:function(){},status:"rejected",reason:ve},Ci())}finally{ae.p=g,W.T=x}}function xT(){}function $d(t,s,a,c){if(t.tag!==5)throw Error(o(476));var p=iv(t).queue;nv(t,p,s,te,a===null?xT:function(){return sv(t),a(c)})}function iv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function sv(t){var s=iv(t).next.queue;zu(t,s,{},Ci())}function Qd(){return Un(tc)}function rv(){return Jt().memoizedState}function ov(){return Jt().memoizedState}function CT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ci();t=So(a);var c=Eo(s,t,a);c!==null&&(Ai(c,s,a),Iu(c,s,a)),s={cache:Rd()},t.payload=s;return}s=s.return}}function AT(t,s,a){var c=Ci();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ih(t)?lv(s,a):(a=br(t,s,a,c),a!==null&&(Ai(a,t,c),uv(a,s,c)))}function av(t,s,a){var c=Ci();zu(t,s,a,c)}function zu(t,s,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))lv(s,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,I=g(x,a);if(p.hasEagerState=!0,p.eagerState=I,qn(I,x))return Oa(t,s,p,0),Nt===null&&Na(),!1}catch{}finally{}if(a=br(t,s,p,c),a!==null)return Ai(a,t,c),uv(a,s,c),!0}return!1}function Jd(t,s,a,c){if(c={lane:2,revertLane:Ip(),action:c,hasEagerState:!1,eagerState:null,next:null},Ih(t)){if(s)throw Error(o(479))}else s=br(t,a,c,2),s!==null&&Ai(s,t,2)}function Ih(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function lv(t,s){Al=xh=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function uv(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,pa(t,a)}}var Ph={readContext:Un,use:Ah,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},cv={readContext:Un,use:Ah,useCallback:function(t,s){return ii().memoizedState=[t,s===void 0?null:s],t},useContext:Un,useEffect:W_,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Oh(4194308,4,$_.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Oh(4194308,4,t,s)},useInsertionEffect:function(t,s){Oh(4,2,t,s)},useMemo:function(t,s){var a=ii();s=s===void 0?null:s;var c=t();if(Ua){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=ii();if(a!==void 0){var p=a(s);if(Ua){In(!0);try{a(s)}finally{In(!1)}}}else p=s;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=AT.bind(null,Ge,t),[c.memoizedState,t]},useRef:function(t){var s=ii();return t={current:t},s.memoizedState=t},useState:function(t){t=Wd(t);var s=t.queue,a=av.bind(null,Ge,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Kd,useDeferredValue:function(t,s){var a=ii();return Xd(a,t,s)},useTransition:function(){var t=Wd(!1);return t=nv.bind(null,Ge,t.queue,!0,!1),ii().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Ge,p=ii();if(Be){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Nt===null)throw Error(o(349));(nt&124)!==0||I_(c,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,W_(L_.bind(null,c,g,t),[t]),c.flags|=2048,Nl(9,Nh(),P_.bind(null,c,g,a,s),null),a},useId:function(){var t=ii(),s=Nt.identifierPrefix;if(Be){var a=q,c=A;a=(c&~(1<<32-ln(c)-1)).toString(32)+a,s="«"+s+"R"+a,a=Ch++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=wT++,s="«"+s+"r"+a.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:Qd,useFormState:q_,useActionState:q_,useOptimistic:function(t){var s=ii();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Jd.bind(null,Ge,!0,a),a.dispatch=s,[t,s]},useMemoCache:Fd,useCacheRefresh:function(){return ii().memoizedState=CT.bind(null,Ge)}},hv={readContext:Un,use:Ah,useCallback:J_,useContext:Un,useEffect:Y_,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:ev,useReducer:Rh,useRef:Z_,useState:function(){return Rh(Er)},useDebugValue:Kd,useDeferredValue:function(t,s){var a=Jt();return tv(a,yt.memoizedState,t,s)},useTransition:function(){var t=Rh(Er)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:Du(t),s]},useSyncExternalStore:O_,useId:rv,useHostTransitionStatus:Qd,useFormState:V_,useActionState:V_,useOptimistic:function(t,s){var a=Jt();return k_(a,yt,t,s)},useMemoCache:Fd,useCacheRefresh:ov},RT={readContext:Un,use:Ah,useCallback:J_,useContext:Un,useEffect:Y_,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:ev,useReducer:Zd,useRef:Z_,useState:function(){return Zd(Er)},useDebugValue:Kd,useDeferredValue:function(t,s){var a=Jt();return yt===null?Xd(a,t,s):tv(a,yt.memoizedState,t,s)},useTransition:function(){var t=Zd(Er)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:Du(t),s]},useSyncExternalStore:O_,useId:rv,useHostTransitionStatus:Qd,useFormState:G_,useActionState:G_,useOptimistic:function(t,s){var a=Jt();return yt!==null?k_(a,yt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:ov},Ol=null,Uu=0;function Lh(t){var s=Uu;return Uu+=1,Ol===null&&(Ol=[]),S_(Ol,t,s)}function ju(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Mh(t,s){throw s.$$typeof===O?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function fv(t){var s=t._init;return s(t._payload)}function dv(t){function s($,Y){if(t){var re=$.deletions;re===null?($.deletions=[Y],$.flags|=16):re.push(Y)}}function a($,Y){if(!t)return null;for(;Y!==null;)s($,Y),Y=Y.sibling;return null}function c($){for(var Y=new Map;$!==null;)$.key!==null?Y.set($.key,$):Y.set($.index,$),$=$.sibling;return Y}function p($,Y){return $=Fi($,Y),$.index=0,$.sibling=null,$}function g($,Y,re){return $.index=re,t?(re=$.alternate,re!==null?(re=re.index,re<Y?($.flags|=67108866,Y):re):($.flags|=67108866,Y)):($.flags|=1048576,Y)}function x($){return t&&$.alternate===null&&($.flags|=67108866),$}function I($,Y,re,_e){return Y===null||Y.tag!==6?(Y=Cu(re,$.mode,_e),Y.return=$,Y):(Y=p(Y,re),Y.return=$,Y)}function V($,Y,re,_e){var Oe=re.type;return Oe===j?me($,Y,re.props.children,_e,re.key):Y!==null&&(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&fv(Oe)===Y.type)?(Y=p(Y,re.props),ju(Y,re),Y.return=$,Y):(Y=Pa(re.type,re.key,re.props,null,$.mode,_e),ju(Y,re),Y.return=$,Y)}function oe($,Y,re,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=Sl(re,$.mode,_e),Y.return=$,Y):(Y=p(Y,re.children||[]),Y.return=$,Y)}function me($,Y,re,_e,Oe){return Y===null||Y.tag!==7?(Y=qs(re,$.mode,_e,Oe),Y.return=$,Y):(Y=p(Y,re),Y.return=$,Y)}function ve($,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Cu(""+Y,$.mode,re),Y.return=$,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return re=Pa(Y.type,Y.key,Y.props,null,$.mode,re),ju(re,Y),re.return=$,re;case Z:return Y=Sl(Y,$.mode,re),Y.return=$,Y;case R:var _e=Y._init;return Y=_e(Y._payload),ve($,Y,re)}if(F(Y)||M(Y))return Y=qs(Y,$.mode,re,null),Y.return=$,Y;if(typeof Y.then=="function")return ve($,Lh(Y),re);if(Y.$$typeof===ne)return ve($,bh($,Y),re);Mh($,Y)}return null}function le($,Y,re,_e){var Oe=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Oe!==null?null:I($,Y,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return re.key===Oe?V($,Y,re,_e):null;case Z:return re.key===Oe?oe($,Y,re,_e):null;case R:return Oe=re._init,re=Oe(re._payload),le($,Y,re,_e)}if(F(re)||M(re))return Oe!==null?null:me($,Y,re,_e,null);if(typeof re.then=="function")return le($,Y,Lh(re),_e);if(re.$$typeof===ne)return le($,Y,bh($,re),_e);Mh($,re)}return null}function ce($,Y,re,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return $=$.get(re)||null,I(Y,$,""+_e,Oe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case N:return $=$.get(_e.key===null?re:_e.key)||null,V(Y,$,_e,Oe);case Z:return $=$.get(_e.key===null?re:_e.key)||null,oe(Y,$,_e,Oe);case R:var We=_e._init;return _e=We(_e._payload),ce($,Y,re,_e,Oe)}if(F(_e)||M(_e))return $=$.get(re)||null,me(Y,$,_e,Oe,null);if(typeof _e.then=="function")return ce($,Y,re,Lh(_e),Oe);if(_e.$$typeof===ne)return ce($,Y,re,bh(Y,_e),Oe);Mh(Y,_e)}return null}function je($,Y,re,_e){for(var Oe=null,We=null,Le=Y,ke=Y=0,gn=null;Le!==null&&ke<re.length;ke++){Le.index>ke?(gn=Le,Le=null):gn=Le.sibling;var lt=le($,Le,re[ke],_e);if(lt===null){Le===null&&(Le=gn);break}t&&Le&&lt.alternate===null&&s($,Le),Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt,Le=gn}if(ke===re.length)return a($,Le),Be&&ee($,ke),Oe;if(Le===null){for(;ke<re.length;ke++)Le=ve($,re[ke],_e),Le!==null&&(Y=g(Le,Y,ke),We===null?Oe=Le:We.sibling=Le,We=Le);return Be&&ee($,ke),Oe}for(Le=c(Le);ke<re.length;ke++)gn=ce(Le,$,ke,re[ke],_e),gn!==null&&(t&&gn.alternate!==null&&Le.delete(gn.key===null?ke:gn.key),Y=g(gn,Y,ke),We===null?Oe=gn:We.sibling=gn,We=gn);return t&&Le.forEach(function(Bo){return s($,Bo)}),Be&&ee($,ke),Oe}function De($,Y,re,_e){if(re==null)throw Error(o(151));for(var Oe=null,We=null,Le=Y,ke=Y=0,gn=null,lt=re.next();Le!==null&&!lt.done;ke++,lt=re.next()){Le.index>ke?(gn=Le,Le=null):gn=Le.sibling;var Bo=le($,Le,lt.value,_e);if(Bo===null){Le===null&&(Le=gn);break}t&&Le&&Bo.alternate===null&&s($,Le),Y=g(Bo,Y,ke),We===null?Oe=Bo:We.sibling=Bo,We=Bo,Le=gn}if(lt.done)return a($,Le),Be&&ee($,ke),Oe;if(Le===null){for(;!lt.done;ke++,lt=re.next())lt=ve($,lt.value,_e),lt!==null&&(Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt);return Be&&ee($,ke),Oe}for(Le=c(Le);!lt.done;ke++,lt=re.next())lt=ce(Le,$,ke,lt.value,_e),lt!==null&&(t&&lt.alternate!==null&&Le.delete(lt.key===null?ke:lt.key),Y=g(lt,Y,ke),We===null?Oe=lt:We.sibling=lt,We=lt);return t&&Le.forEach(function(N1){return s($,N1)}),Be&&ee($,ke),Oe}function wt($,Y,re,_e){if(typeof re=="object"&&re!==null&&re.type===j&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case N:e:{for(var Oe=re.key;Y!==null;){if(Y.key===Oe){if(Oe=re.type,Oe===j){if(Y.tag===7){a($,Y.sibling),_e=p(Y,re.props.children),_e.return=$,$=_e;break e}}else if(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&fv(Oe)===Y.type){a($,Y.sibling),_e=p(Y,re.props),ju(_e,re),_e.return=$,$=_e;break e}a($,Y);break}else s($,Y);Y=Y.sibling}re.type===j?(_e=qs(re.props.children,$.mode,_e,re.key),_e.return=$,$=_e):(_e=Pa(re.type,re.key,re.props,null,$.mode,_e),ju(_e,re),_e.return=$,$=_e)}return x($);case Z:e:{for(Oe=re.key;Y!==null;){if(Y.key===Oe)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){a($,Y.sibling),_e=p(Y,re.children||[]),_e.return=$,$=_e;break e}else{a($,Y);break}else s($,Y);Y=Y.sibling}_e=Sl(re,$.mode,_e),_e.return=$,$=_e}return x($);case R:return Oe=re._init,re=Oe(re._payload),wt($,Y,re,_e)}if(F(re))return je($,Y,re,_e);if(M(re)){if(Oe=M(re),typeof Oe!="function")throw Error(o(150));return re=Oe.call(re),De($,Y,re,_e)}if(typeof re.then=="function")return wt($,Y,Lh(re),_e);if(re.$$typeof===ne)return wt($,Y,bh($,re),_e);Mh($,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Y!==null&&Y.tag===6?(a($,Y.sibling),_e=p(Y,re),_e.return=$,$=_e):(a($,Y),_e=Cu(re,$.mode,_e),_e.return=$,$=_e),x($)):a($,Y)}return function($,Y,re,_e){try{Uu=0;var Oe=wt($,Y,re,_e);return Ol=null,Oe}catch(Le){if(Le===Nu||Le===Sh)throw Le;var We=Zn(29,Le,null,$.mode);return We.lanes=_e,We.return=$,We}finally{}}}var Il=dv(!0),pv=dv(!1),Zi=ue(null),Fs=null;function xo(t){var s=t.alternate;ye(rn,rn.current&1),ye(Zi,t),Fs===null&&(s===null||Cl.current!==null||s.memoizedState!==null)&&(Fs=t)}function mv(t){if(t.tag===22){if(ye(rn,rn.current),ye(Zi,t),Fs===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Fs=t)}}else Co()}function Co(){ye(rn,rn.current),ye(Zi,Zi.current)}function Tr(t){we(Zi),Fs===t&&(Fs=null),we(rn)}var rn=ue(0);function Dh(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vp(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ep(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:C({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tp={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=Ci(),p=So(c);p.payload=s,a!=null&&(p.callback=a),s=Eo(t,p,c),s!==null&&(Ai(s,t,c),Iu(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=Ci(),p=So(c);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Eo(t,p,c),s!==null&&(Ai(s,t,c),Iu(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ci(),c=So(a);c.tag=2,s!=null&&(c.callback=s),s=Eo(t,c,a),s!==null&&(Ai(s,t,a),Iu(s,t,a))}};function gv(t,s,a,c,p,g,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!Vn(a,c)||!Vn(p,g):!0}function _v(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&tp.enqueueReplaceState(s,s.state,null)}function ja(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=C({},a));for(var p in t)a[p]===void 0&&(a[p]=t[p])}return a}var kh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vv(t){kh(t)}function yv(t){console.error(t)}function bv(t){kh(t)}function zh(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function wv(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function np(t,s,a){return a=So(a),a.tag=3,a.payload={element:null},a.callback=function(){zh(t,s)},a}function Sv(t){return t=So(t),t.tag=3,t}function Ev(t,s,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;t.payload=function(){return p(g)},t.callback=function(){wv(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){wv(s,a,c),typeof p!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function NT(t,s,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Da(s,a,p,!0),a=Zi.current,a!==null){switch(a.tag){case 13:return Fs===null?Cp():a.alternate===null&&Bt===0&&(Bt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===Id?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Rp(t,c,p)),!1;case 22:return a.flags|=65536,c===Id?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Rp(t,c,p)),!1}throw Error(o(435,a.tag))}return Rp(t,c,p),Cp(),!1}if(Be)return s=Zi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==dn&&(t=Error(o(422),{cause:c}),bo(Fn(t,a)))):(c!==dn&&(s=Error(o(423),{cause:c}),bo(Fn(s,a))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=Fn(c,a),p=np(t.stateNode,c,p),Md(t,p),Bt!==4&&(Bt=2)),!1;var g=Error(o(520),{cause:c});if(g=Fn(g,a),Zu===null?Zu=[g]:Zu.push(g),Bt!==4&&(Bt=2),s===null)return!0;c=Fn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=p&-p,a.lanes|=t,t=np(a.stateNode,c,t),Md(a,t),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Po===null||!Po.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Sv(p),Ev(p,t,a,c),Md(a,p),!1}a=a.return}while(a!==null);return!1}var Tv=Error(o(461)),pn=!1;function En(t,s,a,c){s.child=t===null?pv(s,null,a,c):Il(s,t.child,a,c)}function xv(t,s,a,c,p){a=a.render;var g=s.ref;if("ref"in c){var x={};for(var I in c)I!=="ref"&&(x[I]=c[I])}else x=c;return ka(s),c=jd(t,s,a,x,g,p),I=Bd(),t!==null&&!pn?(Hd(t,s,p),xr(t,s,p)):(Be&&I&&be(s),s.flags|=1,En(t,s,c,p),s.child)}function Cv(t,s,a,c,p){if(t===null){var g=a.type;return typeof g=="function"&&!wl(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,Av(t,s,g,c,p)):(t=Pa(a.type,null,c,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,!cp(t,p)){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Vn,a(x,c)&&t.ref===s.ref)return xr(t,s,p)}return s.flags|=1,t=Fi(g,c),t.ref=s.ref,t.return=s,s.child=t}function Av(t,s,a,c,p){if(t!==null){var g=t.memoizedProps;if(Vn(g,c)&&t.ref===s.ref)if(pn=!1,s.pendingProps=c=g,cp(t,p))(t.flags&131072)!==0&&(pn=!0);else return s.lanes=t.lanes,xr(t,s,p)}return ip(t,s,a,c,p)}function Rv(t,s,a){var c=s.pendingProps,p=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,t!==null){for(p=s.child=t.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return Nv(t,s,c,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&wh(s,g!==null?g.cachePool:null),g!==null?A_(s,g):kd(),mv(s);else return s.lanes=s.childLanes=536870912,Nv(t,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(wh(s,g.cachePool),A_(s,g),Co(),s.memoizedState=null):(t!==null&&wh(s,null),kd(),Co());return En(t,s,p,a),s.child}function Nv(t,s,a,c){var p=Od();return p=p===null?null:{parent:sn._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},t!==null&&wh(s,null),kd(),mv(s),t!==null&&Da(t,s,c,!0),null}function Uh(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function ip(t,s,a,c,p){return ka(s),a=jd(t,s,a,c,void 0,p),c=Bd(),t!==null&&!pn?(Hd(t,s,p),xr(t,s,p)):(Be&&c&&be(s),s.flags|=1,En(t,s,a,p),s.child)}function Ov(t,s,a,c,p,g){return ka(s),s.updateQueue=null,a=N_(s,c,a,p),R_(t),c=Bd(),t!==null&&!pn?(Hd(t,s,g),xr(t,s,g)):(Be&&c&&be(s),s.flags|=1,En(t,s,a,g),s.child)}function Iv(t,s,a,c,p){if(ka(s),s.stateNode===null){var g=wr,x=a.contextType;typeof x=="object"&&x!==null&&(g=Un(x)),g=new a(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Pd(s),x=a.contextType,g.context=typeof x=="object"&&x!==null?Un(x):wr,g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(ep(s,a,x,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&tp.enqueueReplaceState(g,g.state,null),Lu(s,c,g,p),Pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){g=s.stateNode;var I=s.memoizedProps,V=ja(a,I);g.props=V;var oe=g.context,me=a.contextType;x=wr,typeof me=="object"&&me!==null&&(x=Un(me));var ve=a.getDerivedStateFromProps;me=typeof ve=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,me||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||oe!==x)&&_v(s,g,c,x),wo=!1;var le=s.memoizedState;g.state=le,Lu(s,c,g,p),Pu(),oe=s.memoizedState,I||le!==oe||wo?(typeof ve=="function"&&(ep(s,a,ve,c),oe=s.memoizedState),(V=wo||gv(s,a,V,c,le,oe,x))?(me||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=oe),g.props=c,g.state=oe,g.context=x,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Ld(t,s),x=s.memoizedProps,me=ja(a,x),g.props=me,ve=s.pendingProps,le=g.context,oe=a.contextType,V=wr,typeof oe=="object"&&oe!==null&&(V=Un(oe)),I=a.getDerivedStateFromProps,(oe=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ve||le!==V)&&_v(s,g,c,V),wo=!1,le=s.memoizedState,g.state=le,Lu(s,c,g,p),Pu();var ce=s.memoizedState;x!==ve||le!==ce||wo||t!==null&&t.dependencies!==null&&yh(t.dependencies)?(typeof I=="function"&&(ep(s,a,I,c),ce=s.memoizedState),(me=wo||gv(s,a,me,c,le,ce,V)||t!==null&&t.dependencies!==null&&yh(t.dependencies))?(oe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ce,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ce,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),g.props=c,g.state=ce,g.context=V,c=me):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),c=!1)}return g=c,Uh(t,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,t!==null&&c?(s.child=Il(s,t.child,null,p),s.child=Il(s,null,a,p)):En(t,s,a,p),s.memoizedState=g.state,t=s.child):t=xr(t,s,p),t}function Pv(t,s,a,c){return yo(),s.flags|=256,En(t,s,a,c),s.child}var sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(t){return{baseLanes:t,cachePool:y_()}}function op(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wi),t}function Lv(t,s,a){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=t!==null&&t.memoizedState===null?!1:(rn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(p?xo(s):Co(),Be){var I=Ie,V;if(V=I){e:{for(V=I,I=zt;V.nodeType!==8;){if(!I){I=null;break e}if(V=vs(V.nextSibling),V===null){I=null;break e}}I=V}I!==null?(s.memoizedState={dehydrated:I,treeContext:S!==null?{id:A,overflow:q}:null,retryLane:536870912,hydrationErrors:null},V=Zn(18,null,null,0),V.stateNode=I,V.return=s,s.child=V,Ne=s,Ie=null,V=!0):V=!1}V||ni(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Vp(I)?s.lanes=32:s.lanes=536870912,null;Tr(s)}return I=c.children,c=c.fallback,p?(Co(),p=s.mode,I=jh({mode:"hidden",children:I},p),c=qs(c,p,a,null),I.return=s,c.return=s,I.sibling=c,s.child=I,p=s.child,p.memoizedState=rp(a),p.childLanes=op(t,x,a),s.memoizedState=sp,c):(xo(s),ap(s,I))}if(V=t.memoizedState,V!==null&&(I=V.dehydrated,I!==null)){if(g)s.flags&256?(xo(s),s.flags&=-257,s=lp(t,s,a)):s.memoizedState!==null?(Co(),s.child=t.child,s.flags|=128,s=null):(Co(),p=c.fallback,I=s.mode,c=jh({mode:"visible",children:c.children},I),p=qs(p,I,a,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Il(s,t.child,null,a),c=s.child,c.memoizedState=rp(a),c.childLanes=op(t,x,a),s.memoizedState=sp,s=p);else if(xo(s),Vp(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var oe=x.dgst;x=oe,c=Error(o(419)),c.stack="",c.digest=x,bo({value:c,source:null,stack:null}),s=lp(t,s,a)}else if(pn||Da(t,s,a,!1),x=(a&t.childLanes)!==0,pn||x){if(x=Nt,x!==null&&(c=a&-a,c=(c&42)!==0?1:ar(c),c=(c&(x.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,_o(t,c),Ai(x,t,c),Tv;I.data==="$?"||Cp(),s=lp(t,s,a)}else I.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=V.treeContext,Ie=vs(I.nextSibling),Ne=s,Be=!0,Rt=null,zt=!1,t!==null&&(d[_++]=A,d[_++]=q,d[_++]=S,A=t.id,q=t.overflow,S=s),s=ap(s,c.children),s.flags|=4096);return s}return p?(Co(),p=c.fallback,I=s.mode,V=t.child,oe=V.sibling,c=Fi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,oe!==null?p=Fi(oe,p):(p=qs(p,I,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,I=t.child.memoizedState,I===null?I=rp(a):(V=I.cachePool,V!==null?(oe=sn._currentValue,V=V.parent!==oe?{parent:oe,pool:oe}:V):V=y_(),I={baseLanes:I.baseLanes|a,cachePool:V}),p.memoizedState=I,p.childLanes=op(t,x,a),s.memoizedState=sp,c):(xo(s),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(x=s.deletions,x===null?(s.deletions=[t],s.flags|=16):x.push(t)),s.child=a,s.memoizedState=null,a)}function ap(t,s){return s=jh({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function jh(t,s){return t=Zn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lp(t,s,a){return Il(s,t.child,null,a),t=ap(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Mv(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Ma(t.return,s,a)}function up(t,s,a,c,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=p)}function Dv(t,s,a){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(En(t,s,c.children,a),c=rn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,a,s);else if(t.tag===19)Mv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(ye(rn,c),p){case"forwards":for(a=s.child,p=null;a!==null;)t=a.alternate,t!==null&&Dh(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),up(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&Dh(t)===null){s.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}up(s,!0,a,null,g);break;case"together":up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Io|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Da(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Fi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function cp(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yh(t)))}function OT(t,s,a){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),Vs(s,sn,t.memoizedState.cache),yo();break;case 27:case 5:Ii(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:Vs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(xo(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Lv(t,s,a):(xo(s),t=xr(t,s,a),t!==null?t.sibling:null);xo(s);break;case 19:var p=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Da(t,s,a,!1),c=(a&s.childLanes)!==0),p){if(c)return Dv(t,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(rn,rn.current),c)break;return null;case 22:case 23:return s.lanes=0,Rv(t,s,a);case 24:Vs(s,sn,t.memoizedState.cache)}return xr(t,s,a)}function kv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)pn=!0;else{if(!cp(t,a)&&(s.flags&128)===0)return pn=!1,OT(t,s,a);pn=(t.flags&131072)!==0}else pn=!1,Be&&(s.flags&1048576)!==0&&he(s,u,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")wl(c)?(t=ja(c,t),s.tag=1,s=Iv(null,s,c,t,a)):(s.tag=0,s=ip(null,s,c,t,a));else{if(c!=null){if(p=c.$$typeof,p===ge){s.tag=11,s=xv(null,s,c,t,a);break e}else if(p===H){s.tag=14,s=Cv(null,s,c,t,a);break e}}throw s=pe(c)||c,Error(o(306,s,""))}}return s;case 0:return ip(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,p=ja(c,s.pendingProps),Iv(t,s,c,p,a);case 3:e:{if(Ke(s,s.stateNode.containerInfo),t===null)throw Error(o(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Ld(t,s),Lu(s,c,null,a);var x=s.memoizedState;if(c=x.cache,Vs(s,sn,c),c!==g.cache&&El(s,[sn],a,!0),Pu(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Pv(t,s,c,a);break e}else if(c!==p){p=Fn(Error(o(424)),s),bo(p),s=Pv(t,s,c,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ie=vs(t.firstChild),Ne=s,Be=!0,Rt=null,zt=!0,a=pv(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yo(),c===p){s=xr(t,s,a);break e}En(t,s,c,a)}s=s.child}return s;case 26:return Uh(t,s),t===null?(a=By(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,c=Jh(xe.current).createElement(a),c[Gt]=s,c[jt]=t,xn(c,a,t),kt(c),s.stateNode=c):s.memoizedState=By(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ii(s),t===null&&Be&&(c=s.stateNode=zy(s.type,s.pendingProps,xe.current),Ne=s,zt=!0,p=Ie,Do(s.type)?(Fp=p,Ie=vs(c.firstChild)):Ie=p),En(t,s,s.pendingProps.children,a),Uh(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((p=c=Ie)&&(c=s1(c,s.type,s.pendingProps,zt),c!==null?(s.stateNode=c,Ne=s,Ie=vs(c.firstChild),zt=!1,p=!0):p=!1),p||ni(s)),Ii(s),p=s.type,g=s.pendingProps,x=t!==null?t.memoizedProps:null,c=g.children,Bp(p,g)?c=null:x!==null&&Bp(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=jd(t,s,ST,null,null,a),tc._currentValue=p),Uh(t,s),En(t,s,c,a),s.child;case 6:return t===null&&Be&&((t=a=Ie)&&(a=r1(a,s.pendingProps,zt),a!==null?(s.stateNode=a,Ne=s,Ie=null,t=!0):t=!1),t||ni(s)),null;case 13:return Lv(t,s,a);case 4:return Ke(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Il(s,null,c,a):En(t,s,c,a),s.child;case 11:return xv(t,s,s.type,s.pendingProps,a);case 7:return En(t,s,s.pendingProps,a),s.child;case 8:return En(t,s,s.pendingProps.children,a),s.child;case 12:return En(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Vs(s,s.type,c.value),En(t,s,c.children,a),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,ka(s),p=Un(p),c=c(p),s.flags|=1,En(t,s,c,a),s.child;case 14:return Cv(t,s,s.type,s.pendingProps,a);case 15:return Av(t,s,s.type,s.pendingProps,a);case 19:return Dv(t,s,a);case 31:return c=s.pendingProps,a=s.mode,c={mode:c.mode,children:c.children},t===null?(a=jh(c,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Fi(t.child,c),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Rv(t,s,a);case 24:return ka(s),c=Un(sn),t===null?(p=Od(),p===null&&(p=Nt,g=Rd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),s.memoizedState={parent:c,cache:p},Pd(s),Vs(s,sn,p)):((t.lanes&a)!==0&&(Ld(t,s),Lu(s,null,null,a),Pu()),p=t.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Vs(s,sn,c)):(c=g.cache,Vs(s,sn,c),c!==p.cache&&El(s,[sn],a,!0))),En(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Cr(t){t.flags|=4}function zv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gy(s)){if(s=Zi.current,s!==null&&((nt&4194048)===nt?Fs!==null:(nt&62914560)!==nt&&(nt&536870912)===0||s!==Fs))throw Ou=Id,b_;t.flags|=8192}}function Bh(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?fa():536870912,t.lanes|=s,Dl|=s)}function Bu(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function IT(t,s,a){var c=s.pendingProps;switch(Ae(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Ut(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),gs(sn),ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(s)?Cr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vh())),Ut(s),null;case 26:return a=s.memoizedState,t===null?(Cr(s),a!==null?(Ut(s),zv(s,a)):(Ut(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Cr(s),Ut(s),zv(s,a)):(Ut(s),s.flags&=-16777217):(t.memoizedProps!==c&&Cr(s),Ut(s),s.flags&=-16777217),null;case 27:li(s),a=xe.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Cr(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return Ut(s),null}t=Te.current,La(s)?gh(s):(t=zy(p,c,a),s.stateNode=t,Cr(s))}return Ut(s),null;case 5:if(li(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Cr(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return Ut(s),null}if(t=Te.current,La(s))gh(s);else{switch(p=Jh(xe.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}t[Gt]=s,t[jt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(xn(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Cr(s)}}return Ut(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Cr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(o(166));if(t=xe.current,La(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,p=Ne,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Gt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Oy(t.nodeValue,a)),t||ni(s)}else t=Jh(t).createTextNode(c),t[Gt]=s,s.stateNode=t}return Ut(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=La(s),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Gt]=s}else yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),p=!1}else p=vh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Tr(s),s):(Tr(s),null)}if(Tr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Bh(s,s.updateQueue),Ut(s),null;case 4:return ai(),t===null&&Dp(s.stateNode.containerInfo),Ut(s),null;case 10:return gs(s.type),Ut(s),null;case 19:if(we(rn),p=s.memoizedState,p===null)return Ut(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Bu(p,!1);else{if(Bt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(g=Dh(t),g!==null){for(s.flags|=128,Bu(p,!1),t=g.updateQueue,s.updateQueue=t,Bh(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)xu(a,t),a=a.sibling;return ye(rn,rn.current&1|2),s.child}t=t.sibling}p.tail!==null&&On()>Vh&&(s.flags|=128,c=!0,Bu(p,!1),s.lanes=4194304)}else{if(!c)if(t=Dh(g),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,Bh(s,t),Bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Be)return Ut(s),null}else 2*On()-p.renderingStartTime>Vh&&a!==536870912&&(s.flags|=128,c=!0,Bu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(t=p.last,t!==null?t.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=On(),s.sibling=null,t=rn.current,ye(rn,c?t&1|2:t&1),s):(Ut(s),null);case 22:case 23:return Tr(s),zd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),a=s.updateQueue,a!==null&&Bh(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&we(za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),gs(sn),Ut(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function PT(t,s){switch(Ae(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return gs(sn),ai(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return li(s),null;case 13:if(Tr(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));yo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return we(rn),null;case 4:return ai(),null;case 10:return gs(s.type),null;case 22:case 23:return Tr(s),zd(),t!==null&&we(za),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return gs(sn),null;case 25:return null;default:return null}}function Uv(t,s){switch(Ae(s),s.tag){case 3:gs(sn),ai();break;case 26:case 27:case 5:li(s);break;case 4:ai();break;case 13:Tr(s);break;case 19:we(rn);break;case 10:gs(s.type);break;case 22:case 23:Tr(s),zd(),t!==null&&we(za);break;case 24:gs(sn)}}function Hu(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&t)===t){c=void 0;var g=a.create,x=a.inst;c=g(),x.destroy=c}a=a.next}while(a!==p)}}catch(I){Et(s,s.return,I)}}function Ao(t,s,a){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&t)===t){var x=c.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,p=s;var V=a,oe=I;try{oe()}catch(me){Et(p,V,me)}}}c=c.next}while(c!==g)}}catch(me){Et(s,s.return,me)}}function jv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{C_(s,a)}catch(c){Et(t,t.return,c)}}}function Bv(t,s,a){a.props=ja(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Et(t,s,c)}}function qu(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(p){Et(t,s,p)}}function Gs(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Et(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Et(t,s,p)}else a.current=null}function Hv(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Et(t,t.return,p)}}function hp(t,s,a){try{var c=t.stateNode;JT(c,t.type,a,s),c[jt]=s}catch(p){Et(t,t.return,p)}}function qv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Do(t.type)||t.tag===4}function fp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Do(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Qh));else if(c!==4&&(c===27&&Do(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(dp(t,s,a),t=t.sibling;t!==null;)dp(t,s,a),t=t.sibling}function Hh(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Do(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Hh(t,s,a),t=t.sibling;t!==null;)Hh(t,s,a),t=t.sibling}function Vv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);xn(s,c,a),s[Gt]=t,s[jt]=a}catch(g){Et(t,t.return,g)}}var Ar=!1,Yt=!1,pp=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,mn=null;function LT(t,s){if(t=t.containerInfo,Up=of,t=Ca(t),Aa(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,I=-1,V=-1,oe=0,me=0,ve=t,le=null;t:for(;;){for(var ce;ve!==a||p!==0&&ve.nodeType!==3||(I=x+p),ve!==g||c!==0&&ve.nodeType!==3||(V=x+c),ve.nodeType===3&&(x+=ve.nodeValue.length),(ce=ve.firstChild)!==null;)le=ve,ve=ce;for(;;){if(ve===t)break t;if(le===a&&++oe===p&&(I=x),le===g&&++me===c&&(V=x),(ce=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=ce}a=I===-1||V===-1?null:{start:I,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(jp={focusedElem:t,selectionRange:a},of=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,g=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=s,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var je=ja(a.type,p,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(je,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(De){Et(a,a.return,De)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)qp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function Gv(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ro(t,a),c&4&&Hu(5,a);break;case 1:if(Ro(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(x){Et(a,a.return,x)}else{var p=ja(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Et(a,a.return,x)}}c&64&&jv(a),c&512&&qu(a,a.return);break;case 3:if(Ro(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{C_(t,s)}catch(x){Et(a,a.return,x)}}break;case 27:s===null&&c&4&&Vv(a);case 26:case 5:Ro(t,a),s===null&&c&4&&Hv(a),c&512&&qu(a,a.return);break;case 12:Ro(t,a);break;case 13:Ro(t,a),c&4&&Yv(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qT.bind(null,a),o1(t,a))));break;case 22:if(c=a.memoizedState!==null||Ar,!c){s=s!==null&&s.memoizedState!==null||Yt,p=Ar;var g=Yt;Ar=c,(Yt=s)&&!g?No(t,a,(a.subtreeFlags&8772)!==0):Ro(t,a),Ar=p,Yt=g}break;case 30:break;default:Ro(t,a)}}function Zv(t){var s=t.alternate;s!==null&&(t.alternate=null,Zv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Is(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,si=!1;function Rr(t,s,a){for(a=a.child;a!==null;)Wv(t,s,a),a=a.sibling}function Wv(t,s,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:Yt||Gs(a,s),Rr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||Gs(a,s);var c=Mt,p=si;Do(a.type)&&(Mt=a.stateNode,si=!1),Rr(t,s,a),$u(a.stateNode),Mt=c,si=p;break;case 5:Yt||Gs(a,s);case 6:if(c=Mt,p=si,Mt=null,Rr(t,s,a),Mt=c,si=p,Mt!==null)if(si)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(a.stateNode)}catch(g){Et(a,s,g)}else try{Mt.removeChild(a.stateNode)}catch(g){Et(a,s,g)}break;case 18:Mt!==null&&(si?(t=Mt,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),rc(t)):Dy(Mt,a.stateNode));break;case 4:c=Mt,p=si,Mt=a.stateNode.containerInfo,si=!0,Rr(t,s,a),Mt=c,si=p;break;case 0:case 11:case 14:case 15:Yt||Ao(2,a,s),Yt||Ao(4,a,s),Rr(t,s,a);break;case 1:Yt||(Gs(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Bv(a,s,c)),Rr(t,s,a);break;case 21:Rr(t,s,a);break;case 22:Yt=(c=Yt)||a.memoizedState!==null,Rr(t,s,a),Yt=c;break;default:Rr(t,s,a)}}function Yv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rc(t)}catch(a){Et(s,s.return,a)}}function MT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Fv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Fv),s;default:throw Error(o(435,t.tag))}}function mp(t,s){var a=MT(t);s.forEach(function(c){var p=VT.bind(null,t,c);a.has(c)||(a.add(c),c.then(p,p))})}function Ei(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=t,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(Do(I.type)){Mt=I.stateNode,si=!1;break e}break;case 5:Mt=I.stateNode,si=!1;break e;case 3:case 4:Mt=I.stateNode.containerInfo,si=!0;break e}I=I.return}if(Mt===null)throw Error(o(160));Wv(g,x,p),Mt=null,si=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Kv(s,t),s=s.sibling}var _s=null;function Kv(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ei(s,t),Ti(t),c&4&&(Ao(3,t,t.return),Hu(3,t),Ao(5,t,t.return));break;case 1:Ei(s,t),Ti(t),c&512&&(Yt||a===null||Gs(a,a.return)),c&64&&Ar&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=_s;if(Ei(s,t),Ti(t),c&512&&(Yt||a===null||Gs(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Os]||g[Gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),xn(g,c,a),g[Gt]=t,kt(g),c=g;break e;case"link":var x=Vy("link","href",p).get(c+(a.href||""));if(x){for(var I=0;I<x.length;I++)if(g=x[I],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(I,1);break t}}g=p.createElement(c),xn(g,c,a),p.head.appendChild(g);break;case"meta":if(x=Vy("meta","content",p).get(c+(a.content||""))){for(I=0;I<x.length;I++)if(g=x[I],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(I,1);break t}}g=p.createElement(c),xn(g,c,a),p.head.appendChild(g);break;default:throw Error(o(468,c))}g[Gt]=t,kt(g),c=g}t.stateNode=c}else Fy(p,t.type,t.stateNode);else t.stateNode=qy(p,c,t.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Fy(p,t.type,t.stateNode):qy(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&hp(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ei(s,t),Ti(t),c&512&&(Yt||a===null||Gs(a,a.return)),a!==null&&c&4&&hp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ei(s,t),Ti(t),c&512&&(Yt||a===null||Gs(a,a.return)),t.flags&32){p=t.stateNode;try{cn(p,"")}catch(ce){Et(t,t.return,ce)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,hp(t,p,a!==null?a.memoizedProps:p)),c&1024&&(pp=!0);break;case 6:if(Ei(s,t),Ti(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(ce){Et(t,t.return,ce)}}break;case 3:if(nf=null,p=_s,_s=ef(s.containerInfo),Ei(s,t),_s=p,Ti(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{rc(s.containerInfo)}catch(ce){Et(t,t.return,ce)}pp&&(pp=!1,Xv(t));break;case 4:c=_s,_s=ef(t.stateNode.containerInfo),Ei(s,t),Ti(t),_s=c;break;case 12:Ei(s,t),Ti(t);break;case 13:Ei(s,t),Ti(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wp=On()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,mp(t,c)));break;case 22:p=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,oe=Ar,me=Yt;if(Ar=oe||p,Yt=me||V,Ei(s,t),Yt=me,Ar=oe,Ti(t),c&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||V||Ar||Yt||Ba(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(g=V.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=V.stateNode;var ve=V.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ce){Et(V,V.return,ce)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(ce){Et(V,V.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,mp(t,a))));break;case 19:Ei(s,t),Ti(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,mp(t,c)));break;case 30:break;case 21:break;default:Ei(s,t),Ti(t)}}function Ti(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(qv(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,g=fp(t);Hh(t,g,p);break;case 5:var x=a.stateNode;a.flags&32&&(cn(x,""),a.flags&=-33);var I=fp(t);Hh(t,I,x);break;case 3:case 4:var V=a.stateNode.containerInfo,oe=fp(t);dp(t,oe,V);break;default:throw Error(o(161))}}catch(me){Et(t,t.return,me)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Xv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Xv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ro(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Gv(t,s.alternate,s),s=s.sibling}function Ba(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ao(4,s,s.return),Ba(s);break;case 1:Gs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Bv(s,s.return,a),Ba(s);break;case 27:$u(s.stateNode);case 26:case 5:Gs(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}t=t.sibling}}function No(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=t,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:No(p,g,a),Hu(4,g);break;case 1:if(No(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(oe){Et(c,c.return,oe)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)x_(V[p],I)}catch(oe){Et(c,c.return,oe)}}a&&x&64&&jv(g),qu(g,g.return);break;case 27:Vv(g);case 26:case 5:No(p,g,a),a&&c===null&&x&4&&Hv(g),qu(g,g.return);break;case 12:No(p,g,a);break;case 13:No(p,g,a),a&&x&4&&Yv(p,g);break;case 22:g.memoizedState===null&&No(p,g,a),qu(g,g.return);break;case 30:break;default:No(p,g,a)}s=s.sibling}}function gp(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Au(a))}function _p(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Au(t))}function Zs(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(t,s,a,c),s=s.sibling}function $v(t,s,a,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Zs(t,s,a,c),p&2048&&Hu(9,s);break;case 1:Zs(t,s,a,c);break;case 3:Zs(t,s,a,c),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Au(t)));break;case 12:if(p&2048){Zs(t,s,a,c),t=s.stateNode;try{var g=s.memoizedProps,x=g.id,I=g.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Et(s,s.return,V)}}else Zs(t,s,a,c);break;case 13:Zs(t,s,a,c);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?Zs(t,s,a,c):Vu(t,s):g._visibility&2?Zs(t,s,a,c):(g._visibility|=2,Pl(t,s,a,c,(s.subtreeFlags&10256)!==0)),p&2048&&gp(x,s);break;case 24:Zs(t,s,a,c),p&2048&&_p(s.alternate,s);break;default:Zs(t,s,a,c)}}function Pl(t,s,a,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=t,x=s,I=a,V=c,oe=x.flags;switch(x.tag){case 0:case 11:case 15:Pl(g,x,I,V,p),Hu(8,x);break;case 23:break;case 22:var me=x.stateNode;x.memoizedState!==null?me._visibility&2?Pl(g,x,I,V,p):Vu(g,x):(me._visibility|=2,Pl(g,x,I,V,p)),p&&oe&2048&&gp(x.alternate,x);break;case 24:Pl(g,x,I,V,p),p&&oe&2048&&_p(x.alternate,x);break;default:Pl(g,x,I,V,p)}s=s.sibling}}function Vu(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,p=c.flags;switch(c.tag){case 22:Vu(a,c),p&2048&&gp(c.alternate,c);break;case 24:Vu(a,c),p&2048&&_p(c.alternate,c);break;default:Vu(a,c)}s=s.sibling}}var Fu=8192;function Ll(t){if(t.subtreeFlags&Fu)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 26:Ll(t),t.flags&Fu&&t.memoizedState!==null&&y1(_s,t.memoizedState,t.memoizedProps);break;case 5:Ll(t);break;case 3:case 4:var s=_s;_s=ef(t.stateNode.containerInfo),Ll(t),_s=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Fu,Fu=16777216,Ll(t),Fu=s):Ll(t));break;default:Ll(t)}}function Jv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Gu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,ty(c,t)}Jv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:Gu(t),t.flags&2048&&Ao(9,t,t.return);break;case 3:Gu(t);break;case 12:Gu(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,qh(t)):Gu(t);break;default:Gu(t)}}function qh(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,ty(c,t)}Jv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ao(8,s,s.return),qh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,qh(s));break;default:qh(s)}t=t.sibling}}function ty(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Ao(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Au(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var p=c.sibling,g=c.return;if(Zv(c),c===a){mn=null;break e}if(p!==null){p.return=g,mn=p;break e}mn=g}}}var DT={getCacheForType:function(t){var s=Un(sn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},kT=typeof WeakMap=="function"?WeakMap:Map,gt=0,Nt=null,$e=null,nt=0,_t=0,xi=null,Oo=!1,Ml=!1,vp=!1,Nr=0,Bt=0,Io=0,Ha=0,yp=0,Wi=0,Dl=0,Zu=null,ri=null,bp=!1,wp=0,Vh=1/0,Fh=null,Po=null,Tn=0,Lo=null,kl=null,zl=0,Sp=0,Ep=null,ny=null,Wu=0,Tp=null;function Ci(){if((gt&2)!==0&&nt!==0)return nt&-nt;if(W.T!==null){var t=Tl;return t!==0?t:Ip()}return Ns()}function iy(){Wi===0&&(Wi=(nt&536870912)===0||Be?ha():536870912);var t=Zi.current;return t!==null&&(t.flags|=32),Wi}function Ai(t,s,a){(t===Nt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(Ul(t,0),Mo(t,nt,Wi,!1)),Li(t,a),((gt&2)===0||t!==Nt)&&(t===Nt&&((gt&2)===0&&(Ha|=a),Bt===4&&Mo(t,nt,Wi,!1)),Ws(t))}function sy(t,s,a){if((gt&6)!==0)throw Error(o(327));var c=!a&&(s&124)===0&&(s&t.expiredLanes)===0||ci(t,s),p=c?jT(t,s):Ap(t,s,!0),g=c;do{if(p===0){Ml&&!c&&Mo(t,s,0,!1);break}else{if(a=t.current.alternate,g&&!zT(a)){p=Ap(t,s,!1),g=!1;continue}if(p===2){if(g=s,t.errorRecoveryDisabledLanes&g)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=t;p=Zu;var V=I.current.memoizedState.isDehydrated;if(V&&(Ul(I,x).flags|=256),x=Ap(I,x,!1),x!==2){if(vp&&!V){I.errorRecoveryDisabledLanes|=g,Ha|=g,p=4;break e}g=ri,ri=p,g!==null&&(ri===null?ri=g:ri.push.apply(ri,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Ul(t,0),Mo(t,s,0,!0);break}e:{switch(c=t,g=p,g){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Mo(c,s,Wi,!Oo);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(p=wp+300-On(),10<p)){if(Mo(c,s,Wi,!Oo),Yr(c,0,!0)!==0)break e;c.timeoutHandle=Ly(ry.bind(null,c,a,ri,Fh,bp,s,Wi,Ha,Dl,Oo,g,2,-0,0),p);break e}ry(c,a,ri,Fh,bp,s,Wi,Ha,Dl,Oo,g,0,-0,0)}}break}while(!0);Ws(t)}function ry(t,s,a,c,p,g,x,I,V,oe,me,ve,le,ce){if(t.timeoutHandle=-1,ve=s.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(ec={stylesheets:null,count:0,unsuspend:v1},Qv(s),ve=b1(),ve!==null)){t.cancelPendingCommit=ve(fy.bind(null,t,s,g,a,c,p,x,I,V,me,1,le,ce)),Mo(t,g,x,!oe);return}fy(t,s,g,a,c,p,x,I,V)}function zT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!qn(g(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mo(t,s,a,c){s&=~yp,s&=~Ha,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var p=s;0<p;){var g=31-ln(p),x=1<<g;c[g]=-1,p&=~x}a!==0&&is(t,a,s)}function Gh(){return(gt&6)===0?(Yu(0),!1):!0}function xp(){if($e!==null){if(_t===0)var t=$e.return;else t=$e,ms=Gi=null,qd(t),Ol=null,Uu=0,t=$e;for(;t!==null;)Uv(t.alternate,t),t=t.return;$e=null}}function Ul(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,t1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xp(),Nt=t,$e=a=Fi(t.current,null),nt=s,_t=0,xi=null,Oo=!1,Ml=ci(t,s),vp=!1,Dl=Wi=yp=Ha=Io=Bt=0,ri=Zu=null,bp=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var p=31-ln(c),g=1<<p;s|=t[p],c&=~g}return Nr=s,Na(),a}function oy(t,s){Ge=null,W.H=Ph,s===Nu||s===Sh?(s=E_(),_t=3):s===b_?(s=E_(),_t=4):_t=s===Tv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xi=s,$e===null&&(Bt=1,zh(t,Fn(s,t.current)))}function ay(){var t=W.H;return W.H=Ph,t===null?Ph:t}function ly(){var t=W.A;return W.A=DT,t}function Cp(){Bt=4,Oo||(nt&4194048)!==nt&&Zi.current!==null||(Ml=!0),(Io&134217727)===0&&(Ha&134217727)===0||Nt===null||Mo(Nt,nt,Wi,!1)}function Ap(t,s,a){var c=gt;gt|=2;var p=ay(),g=ly();(Nt!==t||nt!==s)&&(Fh=null,Ul(t,s)),s=!1;var x=Bt;e:do try{if(_t!==0&&$e!==null){var I=$e,V=xi;switch(_t){case 8:xp(),x=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(s=!0);var oe=_t;if(_t=0,xi=null,jl(t,I,V,oe),a&&Ml){x=0;break e}break;default:oe=_t,_t=0,xi=null,jl(t,I,V,oe)}}UT(),x=Bt;break}catch(me){oy(t,me)}while(!0);return s&&t.shellSuspendCounter++,ms=Gi=null,gt=c,W.H=p,W.A=g,$e===null&&(Nt=null,nt=0,Na()),x}function UT(){for(;$e!==null;)uy($e)}function jT(t,s){var a=gt;gt|=2;var c=ay(),p=ly();Nt!==t||nt!==s?(Fh=null,Vh=On()+500,Ul(t,s)):Ml=ci(t,s);e:do try{if(_t!==0&&$e!==null){s=$e;var g=xi;t:switch(_t){case 1:_t=0,xi=null,jl(t,s,g,1);break;case 2:case 9:if(w_(g)){_t=0,xi=null,cy(s);break}s=function(){_t!==2&&_t!==9||Nt!==t||(_t=7),Ws(t)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:w_(g)?(_t=0,xi=null,cy(s)):(_t=0,xi=null,jl(t,s,g,7));break;case 5:var x=null;switch($e.tag){case 26:x=$e.memoizedState;case 5:case 27:var I=$e;if(!x||Gy(x)){_t=0,xi=null;var V=I.sibling;if(V!==null)$e=V;else{var oe=I.return;oe!==null?($e=oe,Zh(oe)):$e=null}break t}}_t=0,xi=null,jl(t,s,g,5);break;case 6:_t=0,xi=null,jl(t,s,g,6);break;case 8:xp(),Bt=6;break e;default:throw Error(o(462))}}BT();break}catch(me){oy(t,me)}while(!0);return ms=Gi=null,W.H=c,W.A=p,gt=a,$e!==null?0:(Nt=null,nt=0,Na(),Bt)}function BT(){for(;$e!==null&&!Zr();)uy($e)}function uy(t){var s=kv(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,s===null?Zh(t):$e=s}function cy(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Ov(a,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=Ov(a,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:qd(s);default:Uv(a,s),s=$e=xu(s,Nr),s=kv(a,s,Nr)}t.memoizedProps=t.pendingProps,s===null?Zh(t):$e=s}function jl(t,s,a,c){ms=Gi=null,qd(s),Ol=null,Uu=0;var p=s.return;try{if(NT(t,p,s,a,nt)){Bt=1,zh(t,Fn(a,t.current)),$e=null;return}}catch(g){if(p!==null)throw $e=p,g;Bt=1,zh(t,Fn(a,t.current)),$e=null;return}s.flags&32768?(Be||c===1?t=!0:Ml||(nt&536870912)!==0?t=!1:(Oo=t=!0,(c===2||c===9||c===3||c===6)&&(c=Zi.current,c!==null&&c.tag===13&&(c.flags|=16384))),hy(s,t)):Zh(s)}function Zh(t){var s=t;do{if((s.flags&32768)!==0){hy(s,Oo);return}t=s.return;var a=IT(s.alternate,s,Nr);if(a!==null){$e=a;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=t}while(s!==null);Bt===0&&(Bt=5)}function hy(t,s){do{var a=PT(t.alternate,t);if(a!==null){a.flags&=32767,$e=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){$e=t;return}$e=t=a}while(t!==null);Bt=6,$e=null}function fy(t,s,a,c,p,g,x,I,V){t.cancelPendingCommit=null;do Wh();while(Tn!==0);if((gt&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(g=s.lanes|s.childLanes,g|=Si,da(t,a,g,x,I,V),t===Nt&&($e=Nt=null,nt=0),kl=s,Lo=t,zl=a,Sp=g,Ep=p,ny=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FT(ts,function(){return _y(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,p=ae.p,ae.p=2,x=gt,gt|=4;try{LT(t,s,a)}finally{gt=x,ae.p=p,W.T=c}}Tn=1,dy(),py(),my()}}function dy(){if(Tn===1){Tn=0;var t=Lo,s=kl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var c=ae.p;ae.p=2;var p=gt;gt|=4;try{Kv(s,t);var g=jp,x=Ca(t.containerInfo),I=g.focusedElem,V=g.selectionRange;if(x!==I&&I&&I.ownerDocument&&gl(I.ownerDocument.documentElement,I)){if(V!==null&&Aa(I)){var oe=V.start,me=V.end;if(me===void 0&&(me=oe),"selectionStart"in I)I.selectionStart=oe,I.selectionEnd=Math.min(me,I.value.length);else{var ve=I.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var ce=le.getSelection(),je=I.textContent.length,De=Math.min(V.start,je),wt=V.end===void 0?De:Math.min(V.end,je);!ce.extend&&De>wt&&(x=wt,wt=De,De=x);var $=Eu(I,De),Y=Eu(I,wt);if($&&Y&&(ce.rangeCount!==1||ce.anchorNode!==$.node||ce.anchorOffset!==$.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var re=ve.createRange();re.setStart($.node,$.offset),ce.removeAllRanges(),De>wt?(ce.addRange(re),ce.extend(Y.node,Y.offset)):(re.setEnd(Y.node,Y.offset),ce.addRange(re))}}}}for(ve=[],ce=I;ce=ce.parentNode;)ce.nodeType===1&&ve.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ve.length;I++){var _e=ve[I];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}of=!!Up,jp=Up=null}finally{gt=p,ae.p=c,W.T=a}}t.current=s,Tn=2}}function py(){if(Tn===2){Tn=0;var t=Lo,s=kl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var c=ae.p;ae.p=2;var p=gt;gt|=4;try{Gv(t,s.alternate,s)}finally{gt=p,ae.p=c,W.T=a}}Tn=3}}function my(){if(Tn===4||Tn===3){Tn=0,oa();var t=Lo,s=kl,a=zl,c=ny;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Tn=5:(Tn=0,kl=Lo=null,gy(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Po=null),Kr(a),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Tt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,p=ae.p,ae.p=2,W.T=null;try{for(var g=t.onRecoverableError,x=0;x<c.length;x++){var I=c[x];g(I.value,{componentStack:I.stack})}}finally{W.T=s,ae.p=p}}(zl&3)!==0&&Wh(),Ws(t),p=t.pendingLanes,(a&4194090)!==0&&(p&42)!==0?t===Tp?Wu++:(Wu=0,Tp=t):Wu=0,Yu(0)}}function gy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Au(s)))}function Wh(t){return dy(),py(),my(),_y()}function _y(){if(Tn!==5)return!1;var t=Lo,s=Sp;Sp=0;var a=Kr(zl),c=W.T,p=ae.p;try{ae.p=32>a?32:a,W.T=null,a=Ep,Ep=null;var g=Lo,x=zl;if(Tn=0,kl=Lo=null,zl=0,(gt&6)!==0)throw Error(o(331));var I=gt;if(gt|=4,ey(g.current),$v(g,g.current,x,a),gt=I,Yu(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Tt,g)}catch{}return!0}finally{ae.p=p,W.T=c,gy(t,s)}}function vy(t,s,a){s=Fn(a,s),s=np(t.stateNode,s,2),t=Eo(t,s,2),t!==null&&(Li(t,2),Ws(t))}function Et(t,s,a){if(t.tag===3)vy(t,t,a);else for(;s!==null;){if(s.tag===3){vy(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Po===null||!Po.has(c))){t=Fn(a,t),a=Sv(2),c=Eo(s,a,2),c!==null&&(Ev(a,c,s,t),Li(c,2),Ws(c));break}}s=s.return}}function Rp(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new kT;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(a)||(vp=!0,p.add(a),t=HT.bind(null,t,s,a),s.then(t,t))}function HT(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(nt&a)===a&&(Bt===4||Bt===3&&(nt&62914560)===nt&&300>On()-wp?(gt&2)===0&&Ul(t,0):yp|=a,Dl===nt&&(Dl=0)),Ws(t)}function yy(t,s){s===0&&(s=fa()),t=_o(t,s),t!==null&&(Li(t,s),Ws(t))}function qT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),yy(t,a)}function VT(t,s){var a=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(s),yy(t,a)}function FT(t,s){return es(t,s)}var Yh=null,Bl=null,Np=!1,Kh=!1,Op=!1,qa=0;function Ws(t){t!==Bl&&t.next===null&&(Bl===null?Yh=Bl=t:Bl=Bl.next=t),Kh=!0,Np||(Np=!0,ZT())}function Yu(t,s){if(!Op&&Kh){Op=!0;do for(var a=!1,c=Yh;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var x=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-ln(42|t)+1)-1,g&=p&~(x&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ey(c,g))}else g=nt,g=Yr(c,c===Nt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ci(c,g)||(a=!0,Ey(c,g));c=c.next}while(a);Op=!1}}function GT(){by()}function by(){Kh=Np=!1;var t=0;qa!==0&&(e1()&&(t=qa),qa=0);for(var s=On(),a=null,c=Yh;c!==null;){var p=c.next,g=wy(c,s);g===0?(c.next=null,a===null?Yh=p:a.next=p,p===null&&(Bl=a)):(a=c,(t!==0||(g&3)!==0)&&(Kh=!0)),c=p}Yu(t)}function wy(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var x=31-ln(g),I=1<<x,V=p[x];V===-1?((I&a)===0||(I&c)!==0)&&(p[x]=ca(I,s)):V<=s&&(t.expiredLanes|=I),g&=~I}if(s=Nt,a=nt,a=Yr(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ir(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ci(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&ir(c),Kr(a)){case 2:case 8:a=sr;break;case 32:a=ts;break;case 268435456:a=rr;break;default:a=ts}return c=Sy.bind(null,t),a=es(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&ir(c),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,s){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wh()&&t.callbackNode!==a)return null;var c=nt;return c=Yr(t,t===Nt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(sy(t,c,s),wy(t,On()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function Ey(t,s){if(Wh())return null;sy(t,s,!0)}function ZT(){n1(function(){(gt&6)!==0?es(aa,GT):by()})}function Ip(){return qa===0&&(qa=ha()),qa}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ks(""+t)}function xy(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function WT(t,s,a,c,p){if(s==="submit"&&a&&a.stateNode===p){var g=Ty((p[jt]||null).action),x=c.submitter;x&&(s=(s=x[jt]||null)?Ty(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var I=new dr("action","action",null,c,p);t.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qa!==0){var V=x?xy(p,x):new FormData(p);$d(a,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(I.preventDefault(),V=x?xy(p,x):new FormData(p),$d(a,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var Pp=0;Pp<vr.length;Pp++){var Lp=vr[Pp],YT=Lp.toLowerCase(),KT=Lp[0].toUpperCase()+Lp.slice(1);wi(YT,"on"+KT)}wi(dh,"onAnimationEnd"),wi(bi,"onAnimationIteration"),wi(Ra,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Cd,"onTransitionRun"),wi(bl,"onTransitionStart"),wi(Ad,"onTransitionCancel"),wi(Tu,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Cy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var I=c[x],V=I.instance,oe=I.currentTarget;if(I=I.listener,V!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=oe;try{g(p)}catch(me){kh(me)}p.currentTarget=null,g=V}else for(x=0;x<c.length;x++){if(I=c[x],V=I.instance,oe=I.currentTarget,I=I.listener,V!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=oe;try{g(p)}catch(me){kh(me)}p.currentTarget=null,g=V}}}}function Qe(t,s){var a=s[Pn];a===void 0&&(a=s[Pn]=new Set);var c=t+"__bubble";a.has(c)||(Ay(s,t,2,!1),a.add(c))}function Mp(t,s,a){var c=0;s&&(c|=4),Ay(a,t,c,s)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Dp(t){if(!t[Xh]){t[Xh]=!0,ga.forEach(function(a){a!=="selectionchange"&&(XT.has(a)||Mp(a,!1,t),Mp(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xh]||(s[Xh]=!0,Mp("selectionchange",!1,s))}}function Ay(t,s,a,c){switch($y(s)){case 2:var p=E1;break;case 8:p=T1;break;default:p=Kp}a=p.bind(null,s,a,t),p=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(s,a,{capture:!0,passive:p}):t.addEventListener(s,a,!0):p!==void 0?t.addEventListener(s,a,{passive:p}):t.addEventListener(s,a,!1)}function kp(t,s,a,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var I=c.stateNode.containerInfo;if(I===p)break;if(x===4)for(x=c.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;I!==null;){if(x=Mi(I),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){c=g=x;continue e}I=I.parentNode}}c=c.return}Hn(function(){var oe=g,me=wn(a),ve=[];e:{var le=ph.get(t);if(le!==void 0){var ce=dr,je=t;switch(t){case"keypress":if(vt(a)===0)break e;case"keydown":case"keyup":ce=oo;break;case"focusin":je="focus",ce=to;break;case"focusout":je="blur",ce=to;break;case"beforeblur":case"afterblur":ce=to;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=dl;break;case dh:case bi:case Ra:ce=io;break;case Tu:ce=pl;break;case"scroll":case"scrollend":ce=hl;break;case"wheel":ce=Sn;break;case"copy":case"cut":case"paste":ce=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ao;break;case"toggle":case"beforetoggle":ce=qi}var De=(s&4)!==0,wt=!De&&(t==="scroll"||t==="scrollend"),$=De?le!==null?le+"Capture":null:le;De=[];for(var Y=oe,re;Y!==null;){var _e=Y;if(re=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||re===null||$===null||(_e=tt(Y,$),_e!=null&&De.push(Xu(Y,_e,re))),wt)break;Y=Y.return}0<De.length&&(le=new ce(le,je,null,a,me),ve.push({event:le,listeners:De}))}}if((s&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",le&&a!==mi&&(je=a.relatedTarget||a.fromElement)&&(Mi(je)||je[Jn]))break e;if((ce||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,ce?(je=a.relatedTarget||a.toElement,ce=oe,je=je?Mi(je):null,je!==null&&(wt=h(je),De=je.tag,je!==wt||De!==5&&De!==27&&De!==6)&&(je=null)):(ce=null,je=oe),ce!==je)){if(De=fn,_e="onMouseLeave",$="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(De=ao,_e="onPointerLeave",$="onPointerEnter",Y="pointer"),wt=ce==null?le:yn(ce),re=je==null?le:yn(je),le=new De(_e,Y+"leave",ce,a,me),le.target=wt,le.relatedTarget=re,_e=null,Mi(me)===oe&&(De=new De($,Y+"enter",je,a,me),De.target=re,De.relatedTarget=wt,_e=De),wt=_e,ce&&je)t:{for(De=ce,$=je,Y=0,re=De;re;re=Hl(re))Y++;for(re=0,_e=$;_e;_e=Hl(_e))re++;for(;0<Y-re;)De=Hl(De),Y--;for(;0<re-Y;)$=Hl($),re--;for(;Y--;){if(De===$||$!==null&&De===$.alternate)break t;De=Hl(De),$=Hl($)}De=null}else De=null;ce!==null&&Ry(ve,le,ce,De,!1),je!==null&&wt!==null&&Ry(ve,wt,je,De,!0)}}e:{if(le=oe?yn(oe):window,ce=le.nodeName&&le.nodeName.toLowerCase(),ce==="select"||ce==="input"&&le.type==="file")var Oe=co;else if(kn(le))if(bu)Oe=xd;else{Oe=Td;var We=Su}else ce=le.nodeName,!ce||ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&fr(oe.elementType)&&(Oe=co):Oe=ps;if(Oe&&(Oe=Oe(t,oe))){zn(ve,Oe,a,me);break e}We&&We(t,le,oe),t==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&di(le,"number",le.value)}switch(We=oe?yn(oe):window,t){case"focusin":(kn(We)||We.contentEditable==="true")&&(yi=We,po=oe,_r=null);break;case"focusout":_r=po=yi=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,hh(ve,a,me);break;case"selectionchange":if(_l)break;case"keydown":case"keyup":hh(ve,a,me)}var Le;if(f)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else At?Se(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(z&&a.locale!=="ko"&&(At||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&At&&(Le=ls()):(ti=me,Mn="value"in ti?ti.value:ti.textContent,At=!0)),We=$h(oe,ke),0<We.length&&(ke=new Dn(ke,t,null,a,me),ve.push({event:ke,listeners:We}),Le?ke.data=Le:(Le=at(a),Le!==null&&(ke.data=Le)))),(Le=T?Xe(t,a):Xt(t,a))&&(ke=$h(oe,"onBeforeInput"),0<ke.length&&(We=new Dn("onBeforeInput","beforeinput",null,a,me),ve.push({event:We,listeners:ke}),We.data=Le)),WT(ve,t,oe,a,me)}Cy(ve,s)})}function Xu(t,s,a){return{instance:t,listener:s,currentTarget:a}}function $h(t,s){for(var a=s+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=tt(t,a),p!=null&&c.unshift(Xu(t,p,g)),p=tt(t,s),p!=null&&c.push(Xu(t,p,g))),t.tag===3)return c;t=t.return}return[]}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ry(t,s,a,c,p){for(var g=s._reactName,x=[];a!==null&&a!==c;){var I=a,V=I.alternate,oe=I.stateNode;if(I=I.tag,V!==null&&V===c)break;I!==5&&I!==26&&I!==27||oe===null||(V=oe,p?(oe=tt(a,g),oe!=null&&x.unshift(Xu(a,oe,V))):p||(oe=tt(a,g),oe!=null&&x.push(Xu(a,oe,V)))),a=a.return}x.length!==0&&t.push({event:s,listeners:x})}var $T=/\r\n?/g,QT=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(QT,"")}function Oy(t,s){return s=Ny(s),Ny(t)===s}function Qh(){}function bt(t,s,a,c,p,g){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||cn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&cn(t,""+c);break;case"className":ki(t,"class",c);break;case"tabIndex":ki(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(t,a,c);break;case"style":os(t,c,g);break;case"data":if(s!=="object"){ki(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ks(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&bt(t,s,"name",p.name,p,null),bt(t,s,"formEncType",p.formEncType,p,null),bt(t,s,"formMethod",p.formMethod,p,null),bt(t,s,"formTarget",p.formTarget,p,null)):(bt(t,s,"encType",p.encType,p,null),bt(t,s,"method",p.method,p,null),bt(t,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ks(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Qh);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=ks(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Ps(t,"popover",c);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ps(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=va.get(a)||a,Ps(t,a,c))}}function zp(t,s,a,c,p,g){switch(a){case"style":os(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof c=="string"?cn(t,c):(typeof c=="number"||typeof c=="bigint")&&cn(t,""+c);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),g=t[jt]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,p);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ps(t,a,c)}}}function xn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var x=a[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:bt(t,s,g,x,a,null)}}p&&bt(t,s,"srcSet",a.srcSet,a,null),c&&bt(t,s,"src",a.src,a,null);return;case"input":Qe("invalid",t);var I=g=x=p=null,V=null,oe=null;for(c in a)if(a.hasOwnProperty(c)){var me=a[c];if(me!=null)switch(c){case"name":p=me;break;case"type":x=me;break;case"checked":V=me;break;case"defaultChecked":oe=me;break;case"value":g=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,s));break;default:bt(t,s,c,me,a,null)}}hr(t,g,I,V,oe,x,p,!1),Ds(t);return;case"select":Qe("invalid",t),c=x=g=null;for(p in a)if(a.hasOwnProperty(p)&&(I=a[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":x=I;break;case"multiple":c=I;default:bt(t,s,p,I,a,null)}s=g,a=x,t.multiple=!!c,s!=null?bn(t,!!c,s,!1):a!=null&&bn(t,!!c,a,!0);return;case"textarea":Qe("invalid",t),g=p=c=null;for(x in a)if(a.hasOwnProperty(x)&&(I=a[x],I!=null))switch(x){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(91));break;default:bt(t,s,x,I,a,null)}Bn(t,c,p,g),Ds(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:bt(t,s,V,c,a,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(c=0;c<Ku.length;c++)Qe(Ku[c],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in a)if(a.hasOwnProperty(oe)&&(c=a[oe],c!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:bt(t,s,oe,c,a,null)}return;default:if(fr(s)){for(me in a)a.hasOwnProperty(me)&&(c=a[me],c!==void 0&&zp(t,s,me,c,a,void 0));return}}for(I in a)a.hasOwnProperty(I)&&(c=a[I],c!=null&&bt(t,s,I,c,a,null))}function JT(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,I=null,V=null,oe=null,me=null;for(ce in a){var ve=a[ce];if(a.hasOwnProperty(ce)&&ve!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":V=ve;default:c.hasOwnProperty(ce)||bt(t,s,ce,null,c,ve)}}for(var le in c){var ce=c[le];if(ve=a[le],c.hasOwnProperty(le)&&(ce!=null||ve!=null))switch(le){case"type":g=ce;break;case"name":p=ce;break;case"checked":oe=ce;break;case"defaultChecked":me=ce;break;case"value":x=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(137,s));break;default:ce!==ve&&bt(t,s,le,ce,c,ve)}}Ct(t,x,I,V,oe,me,g,p);return;case"select":ce=x=I=le=null;for(g in a)if(V=a[g],a.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ce=V;default:c.hasOwnProperty(g)||bt(t,s,g,null,c,V)}for(p in c)if(g=c[p],V=a[p],c.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":le=g;break;case"defaultValue":I=g;break;case"multiple":x=g;default:g!==V&&bt(t,s,p,g,c,V)}s=I,a=x,c=ce,le!=null?bn(t,!!a,le,!1):!!c!=!!a&&(s!=null?bn(t,!!a,s,!0):bn(t,!!a,a?[]:"",!1));return;case"textarea":ce=le=null;for(I in a)if(p=a[I],a.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:bt(t,s,I,null,c,p)}for(x in c)if(p=c[x],g=a[x],c.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":le=p;break;case"defaultValue":ce=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==g&&bt(t,s,x,p,c,g)}ze(t,le,ce);return;case"option":for(var je in a)if(le=a[je],a.hasOwnProperty(je)&&le!=null&&!c.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:bt(t,s,je,null,c,le)}for(V in c)if(le=c[V],ce=a[V],c.hasOwnProperty(V)&&le!==ce&&(le!=null||ce!=null))switch(V){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:bt(t,s,V,le,c,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)le=a[De],a.hasOwnProperty(De)&&le!=null&&!c.hasOwnProperty(De)&&bt(t,s,De,null,c,le);for(oe in c)if(le=c[oe],ce=a[oe],c.hasOwnProperty(oe)&&le!==ce&&(le!=null||ce!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,s));break;default:bt(t,s,oe,le,c,ce)}return;default:if(fr(s)){for(var wt in a)le=a[wt],a.hasOwnProperty(wt)&&le!==void 0&&!c.hasOwnProperty(wt)&&zp(t,s,wt,void 0,c,le);for(me in c)le=c[me],ce=a[me],!c.hasOwnProperty(me)||le===ce||le===void 0&&ce===void 0||zp(t,s,me,le,c,ce);return}}for(var $ in a)le=a[$],a.hasOwnProperty($)&&le!=null&&!c.hasOwnProperty($)&&bt(t,s,$,null,c,le);for(ve in c)le=c[ve],ce=a[ve],!c.hasOwnProperty(ve)||le===ce||le==null&&ce==null||bt(t,s,ve,le,c,ce)}var Up=null,jp=null;function Jh(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Bp(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hp=null;function e1(){var t=window.event;return t&&t.type==="popstate"?t===Hp?!1:(Hp=t,!0):(Hp=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(i1)}:Ly;function i1(t){setTimeout(function(){throw t})}function Do(t){return t==="head"}function Dy(t,s){var a=s,c=0,p=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var x=t.ownerDocument;if(a&1&&$u(x.documentElement),a&2&&$u(x.body),a&4)for(a=x.head,$u(a),x=a.firstChild;x;){var I=x.nextSibling,V=x.nodeName;x[Os]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=I}}if(p===0){t.removeChild(g),rc(s);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);rc(s)}function qp(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qp(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function s1(t,s,a,c){for(;t.nodeType===1;){var p=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Os])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function r1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=vs(t.nextSibling),t===null))return null;return t}function Vp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function o1(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Fp=null;function ky(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function zy(t,s,a){switch(s=Jh(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function $u(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Is(t)}var Yi=new Map,Uy=new Set;function ef(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Or=ae.d;ae.d={f:a1,r:l1,D:u1,C:c1,L:h1,m:f1,X:p1,S:d1,M:m1};function a1(){var t=Or.f(),s=Gh();return t||s}function l1(t){var s=hi(t);s!==null&&s.tag===5&&s.type==="form"?sv(s):Or.r(t)}var ql=typeof document>"u"?null:document;function jy(t,s,a){var c=ql;if(c&&typeof s=="string"&&s){var p=Pt(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Uy.has(p)||(Uy.add(p),t={rel:t,crossOrigin:a,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),xn(s,"link",t),kt(s),c.head.appendChild(s)))}}function u1(t){Or.D(t),jy("dns-prefetch",t,null)}function c1(t,s){Or.C(t,s),jy("preconnect",t,s)}function h1(t,s,a){Or.L(t,s,a);var c=ql;if(c&&t&&s){var p='link[rel="preload"][as="'+Pt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Pt(a.imageSizes)+'"]')):p+='[href="'+Pt(t)+'"]';var g=p;switch(s){case"style":g=Vl(t);break;case"script":g=Fl(t)}Yi.has(g)||(t=C({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Yi.set(g,t),c.querySelector(p)!==null||s==="style"&&c.querySelector(Qu(g))||s==="script"&&c.querySelector(Ju(g))||(s=c.createElement("link"),xn(s,"link",t),kt(s),c.head.appendChild(s)))}}function f1(t,s){Or.m(t,s);var a=ql;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Pt(c)+'"][href="'+Pt(t)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fl(t)}if(!Yi.has(g)&&(t=C({rel:"modulepreload",href:t},s),Yi.set(g,t),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ju(g)))return}c=a.createElement("link"),xn(c,"link",t),kt(c),a.head.appendChild(c)}}}function d1(t,s,a){Or.S(t,s,a);var c=ql;if(c&&t){var p=un(c).hoistableStyles,g=Vl(t);s=s||"default";var x=p.get(g);if(!x){var I={loading:0,preload:null};if(x=c.querySelector(Qu(g)))I.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Yi.get(g))&&Gp(t,a);var V=x=c.createElement("link");kt(V),xn(V,"link",t),V._p=new Promise(function(oe,me){V.onload=oe,V.onerror=me}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,tf(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:I},p.set(g,x)}}}function p1(t,s){Or.X(t,s);var a=ql;if(a&&t){var c=un(a).hoistableScripts,p=Fl(t),g=c.get(p);g||(g=a.querySelector(Ju(p)),g||(t=C({src:t,async:!0},s),(s=Yi.get(p))&&Zp(t,s),g=a.createElement("script"),kt(g),xn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function m1(t,s){Or.M(t,s);var a=ql;if(a&&t){var c=un(a).hoistableScripts,p=Fl(t),g=c.get(p);g||(g=a.querySelector(Ju(p)),g||(t=C({src:t,async:!0,type:"module"},s),(s=Yi.get(p))&&Zp(t,s),g=a.createElement("script"),kt(g),xn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function By(t,s,a,c){var p=(p=xe.current)?ef(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Vl(a.href),a=un(p).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vl(a.href);var g=un(p).hoistableStyles,x=g.get(t);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,x),(g=p.querySelector(Qu(t)))&&!g._p&&(x.instance=g,x.state.loading=5),Yi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yi.set(t,a),g||g1(p,t,a,x.state))),s&&c===null)throw Error(o(528,""));return x}if(s&&c!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fl(a),a=un(p).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Vl(t){return'href="'+Pt(t)+'"'}function Qu(t){return'link[rel="stylesheet"]['+t+"]"}function Hy(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function g1(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),xn(s,"link",a),kt(s),t.head.appendChild(s))}function Fl(t){return'[src="'+Pt(t)+'"]'}function Ju(t){return"script[async]"+t}function qy(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(c)return s.instance=c,kt(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),kt(c),xn(c,"style",p),tf(c,a.precedence,t),s.instance=c;case"stylesheet":p=Vl(a.href);var g=t.querySelector(Qu(p));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;c=Hy(a),(p=Yi.get(p))&&Gp(c,p),g=(t.ownerDocument||t).createElement("link"),kt(g);var x=g;return x._p=new Promise(function(I,V){x.onload=I,x.onerror=V}),xn(g,"link",c),s.state.loading|=4,tf(g,a.precedence,t),s.instance=g;case"script":return g=Fl(a.src),(p=t.querySelector(Ju(g)))?(s.instance=p,kt(p),p):(c=a,(p=Yi.get(g))&&(c=C({},a),Zp(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),kt(p),xn(p,"link",c),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,tf(c,a.precedence,t));return s.instance}function tf(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,x=0;x<c.length;x++){var I=c[x];if(I.dataset.precedence===s)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Gp(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Zp(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var nf=null;function Vy(t,s,a){if(nf===null){var c=new Map,p=nf=new Map;p.set(a,c)}else p=nf,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),p=0;p<a.length;p++){var g=a[p];if(!(g[Os]||g[Gt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=t+x;var I=c.get(x);I?I.push(g):c.set(x,[g])}}return c}function Fy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function _1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ec=null;function v1(){}function y1(t,s,a){if(ec===null)throw Error(o(475));var c=ec;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Vl(a.href),g=t.querySelector(Qu(p));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=sf.bind(c),t.then(c,c)),s.state.loading|=4,s.instance=g,kt(g);return}g=t.ownerDocument||t,a=Hy(a),(p=Yi.get(p))&&Gp(a,p),g=g.createElement("link"),kt(g);var x=g;x._p=new Promise(function(I,V){x.onload=I,x.onerror=V}),xn(g,"link",a),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=sf.bind(c),t.addEventListener("load",s),t.addEventListener("error",s))}}function b1(){if(ec===null)throw Error(o(475));var t=ec;return t.stylesheets&&t.count===0&&Wp(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Wp(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function sf(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rf=null;function Wp(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rf=new Map,s.forEach(w1,t),rf=null,sf.call(t))}function w1(t,s){if(!(s.state.loading&4)){var a=rf.get(t);if(a)var c=a.get(null);else{a=new Map,rf.set(t,a);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}p=s.instance,x=p.getAttribute("data-precedence"),g=a.get(x)||c,g===c&&a.set(null,p),a.set(x,p),this.count++,c=sf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var tc={$$typeof:ne,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function S1(t,s,a,c,p,g,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Zy(t,s,a,c,p,g,x,I,V,oe,me,ve){return t=new S1(t,s,a,x,I,V,oe,ve),s=1,g===!0&&(s|=24),g=Zn(3,null,null,s),t.current=g,g.stateNode=t,s=Rd(),s.refCount++,t.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:s},Pd(g),t}function Wy(t){return t?(t=wr,t):wr}function Yy(t,s,a,c,p,g){p=Wy(p),c.context===null?c.context=p:c.pendingContext=p,c=So(s),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=Eo(t,c,s),a!==null&&(Ai(a,t,s),Iu(a,t,s))}function Ky(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Yp(t,s){Ky(t,s),(t=t.alternate)&&Ky(t,s)}function Xy(t){if(t.tag===13){var s=_o(t,67108864);s!==null&&Ai(s,t,67108864),Yp(t,67108864)}}var of=!0;function E1(t,s,a,c){var p=W.T;W.T=null;var g=ae.p;try{ae.p=2,Kp(t,s,a,c)}finally{ae.p=g,W.T=p}}function T1(t,s,a,c){var p=W.T;W.T=null;var g=ae.p;try{ae.p=8,Kp(t,s,a,c)}finally{ae.p=g,W.T=p}}function Kp(t,s,a,c){if(of){var p=Xp(c);if(p===null)kp(t,s,c,af,a),Qy(t,c);else if(C1(p,t,s,a,c))c.stopPropagation();else if(Qy(t,c),s&4&&-1<x1.indexOf(t)){for(;p!==null;){var g=hi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Qn(g.pendingLanes);if(x!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var V=1<<31-ln(x);I.entanglements[1]|=V,x&=~V}Ws(g),(gt&6)===0&&(Vh=On()+500,Yu(0))}}break;case 13:I=_o(g,2),I!==null&&Ai(I,g,2),Gh(),Yp(g,2)}if(g=Xp(c),g===null&&kp(t,s,c,af,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else kp(t,s,c,null,a)}}function Xp(t){return t=wn(t),$p(t)}var af=null;function $p(t){if(af=null,t=Mi(t),t!==null){var s=h(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return af=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case aa:return 2;case sr:return 8;case ts:case ol:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Qp=!1,ko=null,zo=null,Uo=null,nc=new Map,ic=new Map,jo=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,s){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":nc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(s.pointerId)}}function sc(t,s,a,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=hi(s),s!==null&&Xy(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function C1(t,s,a,c,p){switch(s){case"focusin":return ko=sc(ko,t,s,a,c,p),!0;case"dragenter":return zo=sc(zo,t,s,a,c,p),!0;case"mouseover":return Uo=sc(Uo,t,s,a,c,p),!0;case"pointerover":var g=p.pointerId;return nc.set(g,sc(nc.get(g)||null,t,s,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ic.set(g,sc(ic.get(g)||null,t,s,a,c,p)),!0}return!1}function Jy(t){var s=Mi(t.target);if(s!==null){var a=h(s);if(a!==null){if(s=a.tag,s===13){if(s=m(a),s!==null){t.blockedOn=s,Xr(t.priority,function(){if(a.tag===13){var c=Ci();c=ar(c);var p=_o(a,c);p!==null&&Ai(p,a,c),Yp(a,c)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lf(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Xp(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);mi=c,a.target.dispatchEvent(c),mi=null}else return s=hi(a),s!==null&&Xy(s),t.blockedOn=a,!1;s.shift()}return!0}function eb(t,s,a){lf(t)&&a.delete(s)}function A1(){Qp=!1,ko!==null&&lf(ko)&&(ko=null),zo!==null&&lf(zo)&&(zo=null),Uo!==null&&lf(Uo)&&(Uo=null),nc.forEach(eb),ic.forEach(eb)}function uf(t,s){t.blockedOn===s&&(t.blockedOn=null,Qp||(Qp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,A1)))}var cf=null;function tb(t){cf!==t&&(cf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cf===t&&(cf=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],p=t[s+2];if(typeof c!="function"){if($p(c||a)===null)continue;break}var g=hi(a);g!==null&&(t.splice(s,3),s-=3,$d(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function rc(t){function s(V){return uf(V,t)}ko!==null&&uf(ko,t),zo!==null&&uf(zo,t),Uo!==null&&uf(Uo,t),nc.forEach(s),ic.forEach(s);for(var a=0;a<jo.length;a++){var c=jo[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<jo.length&&(a=jo[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&jo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],x=p[jt]||null;if(typeof g=="function")x||tb(a);else if(x){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[jt]||null)I=x.formAction;else if($p(p)!==null)continue}else I=x.action;typeof I=="function"?a[c+1]=I:(a.splice(c,3),c-=3),tb(a)}}}function Jp(t){this._internalRoot=t}hf.prototype.render=Jp.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,c=Ci();Yy(a,c,t,s,null,null)},hf.prototype.unmount=Jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Yy(t.current,2,null,t,null,null),Gh(),s[Jn]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ns();t={blockedOn:null,target:t,priority:s};for(var a=0;a<jo.length&&s!==0&&s<jo[a].priority;a++);jo.splice(a,0,t),a===0&&Jy(t)}};var nb=e.version;if(nb!=="19.1.0")throw Error(o(527,nb,"19.1.0"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{Tt=ff.inject(R1),ot=ff}catch{}}return ac.createRoot=function(t,s){if(!l(t))throw Error(o(299));var a=!1,c="",p=vv,g=yv,x=bv,I=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=Zy(t,1,!1,null,null,a,c,p,g,x,I,null),t[Jn]=s.current,Dp(t),new Jp(s)},ac.hydrateRoot=function(t,s,a){if(!l(t))throw Error(o(299));var c=!1,p="",g=vv,x=yv,I=bv,V=null,oe=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(oe=a.formState)),s=Zy(t,1,!0,s,a??null,c,p,g,x,I,V,oe),s.context=Wy(null),a=s.current,c=Ci(),c=ar(c),p=So(c),p.callback=null,Eo(a,p,c),a=c,s.current.lanes=a,Li(s,a),Ws(s),t[Jn]=s.current,Dp(t),new hf(s)},ac.version="19.1.0",ac}var fb;function j1(){if(fb)return nm.exports;fb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=U1(),nm.exports}var B1=j1();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var db="popstate";function H1(i={}){function e(o,l){let{pathname:h,search:m,hash:v}=o.location;return Im("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:Lc(l)}return V1(e,n,null,i)}function Dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cs(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q1(){return Math.random().toString(36).substring(2,10)}function pb(i,e){return{usr:i.state,key:i.key,idx:e}}function Im(i,e,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?uu(e):e,state:n,key:e&&e.key||o||q1()}}function Lc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function uu(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(e.search=i.substring(o),i=i.substring(0,o)),i&&(e.pathname=i)}return e}function V1(i,e,n,o={}){let{window:l=document.defaultView,v5Compat:h=!1}=o,m=l.history,v="POP",y=null,w=C();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function C(){return(m.state||{idx:null}).idx}function O(){v="POP";let J=C(),se=J==null?null:J-w;w=J,y&&y({action:v,location:K.location,delta:se})}function N(J,se){v="PUSH";let X=Im(K.location,J,se);w=C()+1;let ne=pb(X,w),ge=K.createHref(X);try{m.pushState(ne,"",ge)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;l.location.assign(ge)}h&&y&&y({action:v,location:K.location,delta:1})}function Z(J,se){v="REPLACE";let X=Im(K.location,J,se);w=C();let ne=pb(X,w),ge=K.createHref(X);m.replaceState(ne,"",ge),h&&y&&y({action:v,location:K.location,delta:0})}function j(J){return F1(J)}let K={get action(){return v},get location(){return i(l,m)},listen(J){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(db,O),y=J,()=>{l.removeEventListener(db,O),y=null}},createHref(J){return e(l,J)},createURL:j,encodeLocation(J){let se=j(J);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:N,replace:Z,go(J){return m.go(J)}};return K}function F1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:Lc(i);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function pw(i,e,n="/"){return G1(i,e,n,!1)}function G1(i,e,n,o){let l=typeof e=="string"?uu(e):e,h=zr(l.pathname||"/",n);if(h==null)return null;let m=mw(i);Z1(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let w=ix(h);v=tx(m[y],w,o)}return v}function mw(i,e=[],n=[],o=""){let l=(h,m,v)=>{let y={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};y.relativePath.startsWith("/")&&(Dt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length));let w=Dr([o,y.relativePath]),C=n.concat(y);h.children&&h.children.length>0&&(Dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),mw(h.children,e,C,w)),!(h.path==null&&!h.index)&&e.push({path:w,score:J1(w,h.index),routesMeta:C})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))l(h,m);else for(let v of gw(h.path))l(h,m,v)}),e}function gw(i){let e=i.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(o.length===0)return l?[h,""]:[h];let m=gw(o.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>i.startsWith("/")&&y===""?"/":y)}function Z1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:ex(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var W1=/^:[\w-]+$/,Y1=3,K1=2,X1=1,$1=10,Q1=-2,mb=i=>i==="*";function J1(i,e){let n=i.split("/"),o=n.length;return n.some(mb)&&(o+=Q1),e&&(o+=K1),n.filter(l=>!mb(l)).reduce((l,h)=>l+(W1.test(h)?Y1:h===""?X1:$1),o)}function ex(i,e){return i.length===e.length&&i.slice(0,-1).every((o,l)=>o===e[l])?i[i.length-1]-e[e.length-1]:0}function tx(i,e,n=!1){let{routesMeta:o}=i,l={},h="/",m=[];for(let v=0;v<o.length;++v){let y=o[v],w=v===o.length-1,C=h==="/"?e:e.slice(h.length)||"/",O=If({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},C),N=y.route;if(!O&&w&&n&&!o[o.length-1].route.index&&(O=If({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},C)),!O)return null;Object.assign(l,O.params),m.push({params:l,pathname:Dr([h,O.pathname]),pathnameBase:ax(Dr([h,O.pathnameBase])),route:N}),O.pathnameBase!=="/"&&(h=Dr([h,O.pathnameBase]))}return m}function If(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=nx(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:o.reduce((w,{paramName:C,isOptional:O},N)=>{if(C==="*"){let j=v[N]||"";m=h.slice(0,h.length-j.length).replace(/(.)\/+$/,"$1")}const Z=v[N];return O&&!Z?w[C]=void 0:w[C]=(Z||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:m,pattern:i}}function nx(i,e=!1,n=!0){Cs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(o.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function ix(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function zr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function sx(i,e="/"){let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?uu(i):i;return{pathname:n?n.startsWith("/")?n:rx(n,e):e,search:lx(o),hash:ux(l)}}function rx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function om(i,e,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ox(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ng(i){let e=ox(i);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function ig(i,e,n,o=!1){let l;typeof i=="string"?l=uu(i):(l={...i},Dt(!l.pathname||!l.pathname.includes("?"),om("?","pathname","search",l)),Dt(!l.pathname||!l.pathname.includes("#"),om("#","pathname","hash",l)),Dt(!l.search||!l.search.includes("#"),om("#","search","hash",l)));let h=i===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let O=e.length-1;if(!o&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),O-=1;l.pathname=N.join("/")}v=O>=0?e[O]:"/"}let y=sx(l,v),w=m&&m!=="/"&&m.endsWith("/"),C=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(w||C)&&(y.pathname+="/"),y}var Dr=i=>i.join("/").replace(/\/\/+/g,"/"),ax=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),lx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ux=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function cx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _w=["POST","PUT","PATCH","DELETE"];new Set(_w);var hx=["GET",..._w];new Set(hx);var cu=Q.createContext(null);cu.displayName="DataRouter";var td=Q.createContext(null);td.displayName="DataRouterState";Q.createContext(!1);var vw=Q.createContext({isTransitioning:!1});vw.displayName="ViewTransition";var fx=Q.createContext(new Map);fx.displayName="Fetchers";var dx=Q.createContext(null);dx.displayName="Await";var As=Q.createContext(null);As.displayName="Navigation";var Wc=Q.createContext(null);Wc.displayName="Location";var Ji=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var sg=Q.createContext(null);sg.displayName="RouteError";function px(i,{relative:e}={}){Dt(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=Q.useContext(As),{hash:l,pathname:h,search:m}=Yc(i,{relative:e}),v=h;return n!=="/"&&(v=h==="/"?n:Dr([n,h])),o.createHref({pathname:v,search:m,hash:l})}function hu(){return Q.useContext(Wc)!=null}function Vr(){return Dt(hu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Wc).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(i){Q.useContext(As).static||Q.useLayoutEffect(i)}function nd(){let{isDataRoute:i}=Q.useContext(Ji);return i?Ox():mx()}function mx(){Dt(hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(cu),{basename:e,navigator:n}=Q.useContext(As),{matches:o}=Q.useContext(Ji),{pathname:l}=Vr(),h=JSON.stringify(ng(o)),m=Q.useRef(!1);return bw(()=>{m.current=!0}),Q.useCallback((y,w={})=>{if(Cs(m.current,yw),!m.current)return;if(typeof y=="number"){n.go(y);return}let C=ig(y,JSON.parse(h),l,w.relative==="path");i==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:Dr([e,C.pathname])),(w.replace?n.replace:n.push)(C,w.state,w)},[e,n,h,l,i])}var gx=Q.createContext(null);function _x(i){let e=Q.useContext(Ji).outlet;return e&&Q.createElement(gx.Provider,{value:i},e)}function vx(){let{matches:i}=Q.useContext(Ji),e=i[i.length-1];return e?e.params:{}}function Yc(i,{relative:e}={}){let{matches:n}=Q.useContext(Ji),{pathname:o}=Vr(),l=JSON.stringify(ng(n));return Q.useMemo(()=>ig(i,JSON.parse(l),o,e==="path"),[i,l,o,e])}function yx(i,e){return ww(i,e)}function ww(i,e,n,o){Dt(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Q.useContext(As),{matches:h}=Q.useContext(Ji),m=h[h.length-1],v=m?m.params:{},y=m?m.pathname:"/",w=m?m.pathnameBase:"/",C=m&&m.route;{let se=C&&C.path||"";Sw(y,!C||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let O=Vr(),N;if(e){let se=typeof e=="string"?uu(e):e;Dt(w==="/"||se.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${se.pathname}" was given in the \`location\` prop.`),N=se}else N=O;let Z=N.pathname||"/",j=Z;if(w!=="/"){let se=w.replace(/^\//,"").split("/");j="/"+Z.replace(/^\//,"").split("/").slice(se.length).join("/")}let K=pw(i,{pathname:j});Cs(C||K!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Cs(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=Tx(K&&K.map(se=>Object.assign({},se,{params:Object.assign({},v,se.params),pathname:Dr([w,l.encodeLocation?l.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?w:Dr([w,l.encodeLocation?l.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),h,n,o);return e&&J?Q.createElement(Wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function bx(){let i=Nx(),e=cx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:h},"ErrorBoundary")," or"," ",Q.createElement("code",{style:h},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:l},n):null,m)}var wx=Q.createElement(bx,null),Sx=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(Ji.Provider,{value:this.props.routeContext},Q.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ex({routeContext:i,match:e,children:n}){let o=Q.useContext(cu);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Ji.Provider,{value:i},n)}function Tx(i,e=[],n=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,h=n?.errors;if(h!=null){let y=l.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let m=!1,v=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:C,errors:O}=n,N=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!O||O[w.route.id]===void 0);if(w.route.lazy||N){m=!0,v>=0?l=l.slice(0,v+1):l=[l[0]];break}}}return l.reduceRight((y,w,C)=>{let O,N=!1,Z=null,j=null;n&&(O=h&&w.route.id?h[w.route.id]:void 0,Z=w.route.errorElement||wx,m&&(v<0&&C===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,j=null):v===C&&(N=!0,j=w.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,C+1)),J=()=>{let se;return O?se=Z:N?se=j:w.route.Component?se=Q.createElement(w.route.Component,null):w.route.element?se=w.route.element:se=y,Q.createElement(Ex,{match:w,routeContext:{outlet:y,matches:K,isDataRoute:n!=null},children:se})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?Q.createElement(Sx,{location:n.location,revalidation:n.revalidation,component:Z,error:O,children:J(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):J()},null)}function rg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xx(i){let e=Q.useContext(cu);return Dt(e,rg(i)),e}function Cx(i){let e=Q.useContext(td);return Dt(e,rg(i)),e}function Ax(i){let e=Q.useContext(Ji);return Dt(e,rg(i)),e}function og(i){let e=Ax(i),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Rx(){return og("useRouteId")}function Nx(){let i=Q.useContext(sg),e=Cx("useRouteError"),n=og("useRouteError");return i!==void 0?i:e.errors?.[n]}function Ox(){let{router:i}=xx("useNavigate"),e=og("useNavigate"),n=Q.useRef(!1);return bw(()=>{n.current=!0}),Q.useCallback(async(l,h={})=>{Cs(n.current,yw),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...h}))},[i,e])}var gb={};function Sw(i,e,n){!e&&!gb[i]&&(gb[i]=!0,Cs(!1,n))}Q.memo(Ix);function Ix({routes:i,future:e,state:n}){return ww(i,void 0,n,e)}function Ew({to:i,replace:e,state:n,relative:o}){Dt(hu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=Q.useContext(As);Cs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=Q.useContext(Ji),{pathname:m}=Vr(),v=nd(),y=ig(i,ng(h),m,o==="path"),w=JSON.stringify(y);return Q.useEffect(()=>{v(JSON.parse(w),{replace:e,state:n,relative:o})},[v,w,o,e,n]),null}function Px(i){return _x(i.context)}function Ni(i){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lx({basename:i="/",children:e=null,location:n,navigationType:o="POP",navigator:l,static:h=!1}){Dt(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),v=Q.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof n=="string"&&(n=uu(n));let{pathname:y="/",search:w="",hash:C="",state:O=null,key:N="default"}=n,Z=Q.useMemo(()=>{let j=zr(y,m);return j==null?null:{location:{pathname:j,search:w,hash:C,state:O,key:N},navigationType:o}},[m,y,w,C,O,N,o]);return Cs(Z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${w}${C}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:Q.createElement(As.Provider,{value:v},Q.createElement(Wc.Provider,{children:e,value:Z}))}function Mx({children:i,location:e}){return yx(Pm(i),e)}function Pm(i,e=[]){let n=[];return Q.Children.forEach(i,(o,l)=>{if(!Q.isValidElement(o))return;let h=[...e,l];if(o.type===Q.Fragment){n.push.apply(n,Pm(o.props.children,h));return}Dt(o.type===Ni,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Pm(o.props.children,h)),n.push(m)}),n}var Ef="get",Tf="application/x-www-form-urlencoded";function id(i){return i!=null&&typeof i.tagName=="string"}function Dx(i){return id(i)&&i.tagName.toLowerCase()==="button"}function kx(i){return id(i)&&i.tagName.toLowerCase()==="form"}function zx(i){return id(i)&&i.tagName.toLowerCase()==="input"}function Ux(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jx(i,e){return i.button===0&&(!e||e==="_self")&&!Ux(i)}var df=null;function Bx(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var Hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(i){return i!=null&&!Hx.has(i)?(Cs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):i}function qx(i,e){let n,o,l,h,m;if(kx(i)){let v=i.getAttribute("action");o=v?zr(v,e):null,n=i.getAttribute("method")||Ef,l=am(i.getAttribute("enctype"))||Tf,h=new FormData(i)}else if(Dx(i)||zx(i)&&(i.type==="submit"||i.type==="image")){let v=i.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||v.getAttribute("action");if(o=y?zr(y,e):null,n=i.getAttribute("formmethod")||v.getAttribute("method")||Ef,l=am(i.getAttribute("formenctype"))||am(v.getAttribute("enctype"))||Tf,h=new FormData(v,i),!Bx()){let{name:w,type:C,value:O}=i;if(C==="image"){let N=w?`${w}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else w&&h.append(w,O)}}else{if(id(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,o=null,l=Tf,m=i}return h&&l==="text/plain"&&(m=h,h=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vx(i,e,n){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${n}`:e&&zr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function Fx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Zx(i,e,n){let o=await Promise.all(i.map(async l=>{let h=e.routes[l.route.id];if(h){let m=await Fx(h,n);return m.links?m.links():[]}return[]}));return Xx(o.flat(1).filter(Gx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function _b(i,e,n,o,l,h){let m=(y,w)=>n[w]?y.route.id!==n[w].route.id:!0,v=(y,w)=>n[w].pathname!==y.pathname||n[w].route.path?.endsWith("*")&&n[w].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,w)=>m(y,w)||v(y,w)):h==="data"?e.filter((y,w)=>{let C=o.routes[y.route.id];if(!C||!C.hasLoader)return!1;if(m(y,w)||v(y,w))return!0;if(y.route.shouldRevalidate){let O=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function Wx(i,e,{includeHydrateFallback:n}={}){return Yx(i.map(o=>{let l=e.routes[o.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function Yx(i){return[...new Set(i)]}function Kx(i){let e={},n=Object.keys(i).sort();for(let o of n)e[o]=i[o];return e}function Xx(i,e){let n=new Set;return new Set(e),i.reduce((o,l)=>{let h=JSON.stringify(Kx(l));return n.has(h)||(n.add(h),o.push({key:h,link:l})),o},[])}function Tw(){let i=Q.useContext(cu);return ag(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $x(){let i=Q.useContext(td);return ag(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lg=Q.createContext(void 0);lg.displayName="FrameworkContext";function xw(){let i=Q.useContext(lg);return ag(i,"You must render this element inside a <HydratedRouter> element"),i}function Qx(i,e){let n=Q.useContext(lg),[o,l]=Q.useState(!1),[h,m]=Q.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:w,onMouseLeave:C,onTouchStart:O}=e,N=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let K=se=>{se.forEach(X=>{m(X.isIntersecting)})},J=new IntersectionObserver(K,{threshold:.5});return N.current&&J.observe(N.current),()=>{J.disconnect()}}},[i]),Q.useEffect(()=>{if(o){let K=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(K)}}},[o]);let Z=()=>{l(!0)},j=()=>{l(!1),m(!1)};return n?i!=="intent"?[h,N,{}]:[h,N,{onFocus:lc(v,Z),onBlur:lc(y,j),onMouseEnter:lc(w,Z),onMouseLeave:lc(C,j),onTouchStart:lc(O,Z)}]:[!1,N,{}]}function lc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Jx({page:i,...e}){let{router:n}=Tw(),o=Q.useMemo(()=>pw(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?Q.createElement(tC,{page:i,matches:o,...e}):null}function eC(i){let{manifest:e,routeModules:n}=xw(),[o,l]=Q.useState([]);return Q.useEffect(()=>{let h=!1;return Zx(i,e,n).then(m=>{h||l(m)}),()=>{h=!0}},[i,e,n]),o}function tC({page:i,matches:e,...n}){let o=Vr(),{manifest:l,routeModules:h}=xw(),{basename:m}=Tw(),{loaderData:v,matches:y}=$x(),w=Q.useMemo(()=>_b(i,e,y,l,o,"data"),[i,e,y,l,o]),C=Q.useMemo(()=>_b(i,e,y,l,o,"assets"),[i,e,y,l,o]),O=Q.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let j=new Set,K=!1;if(e.forEach(se=>{let X=l.routes[se.route.id];!X||!X.hasLoader||(!w.some(ne=>ne.route.id===se.route.id)&&se.route.id in v&&h[se.route.id]?.shouldRevalidate||X.hasClientLoader?K=!0:j.add(se.route.id))}),j.size===0)return[];let J=Vx(i,m,"data");return K&&j.size>0&&J.searchParams.set("_routes",e.filter(se=>j.has(se.route.id)).map(se=>se.route.id).join(",")),[J.pathname+J.search]},[m,v,o,l,w,e,i,h]),N=Q.useMemo(()=>Wx(C,l),[C,l]),Z=eC(C);return Q.createElement(Q.Fragment,null,O.map(j=>Q.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),N.map(j=>Q.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),Z.map(({key:j,link:K})=>Q.createElement("link",{key:j,...K})))}function nC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.7.0")}catch{}function iC({basename:i,children:e,window:n}){let o=Q.useRef();o.current==null&&(o.current=H1({window:n,v5Compat:!0}));let l=o.current,[h,m]=Q.useState({action:l.action,location:l.location}),v=Q.useCallback(y=>{Q.startTransition(()=>m(y))},[m]);return Q.useLayoutEffect(()=>l.listen(v),[l,v]),Q.createElement(Lx,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:l})}var Aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:w,preventScrollReset:C,viewTransition:O,...N},Z){let{basename:j}=Q.useContext(As),K=typeof w=="string"&&Aw.test(w),J,se=!1;if(typeof w=="string"&&K&&(J=w,Cw))try{let P=new URL(window.location.href),B=w.startsWith("//")?new URL(P.protocol+w):new URL(w),k=zr(B.pathname,j);B.origin===P.origin&&k!=null?w=k+B.search+B.hash:se=!0}catch{Cs(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=px(w,{relative:l}),[ne,ge,G]=Qx(o,N),fe=oC(w,{replace:m,state:v,target:y,preventScrollReset:C,relative:l,viewTransition:O});function H(P){e&&e(P),P.defaultPrevented||fe(P)}let R=Q.createElement("a",{...N,...G,href:J||X,onClick:se||h?e:H,ref:nC(Z,ge),target:y,"data-discover":!K&&n==="render"?"true":void 0});return ne&&!K?Q.createElement(Q.Fragment,null,R,Q.createElement(Jx,{page:X})):R});An.displayName="Link";var Xs=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...w},C){let O=Yc(m,{relative:w.relative}),N=Vr(),Z=Q.useContext(td),{navigator:j,basename:K}=Q.useContext(As),J=Z!=null&&hC(O)&&v===!0,se=j.encodeLocation?j.encodeLocation(O).pathname:O.pathname,X=N.pathname,ne=Z&&Z.navigation&&Z.navigation.location?Z.navigation.location.pathname:null;n||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,se=se.toLowerCase()),ne&&K&&(ne=zr(ne,K)||ne);const ge=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let G=X===se||!l&&X.startsWith(se)&&X.charAt(ge)==="/",fe=ne!=null&&(ne===se||!l&&ne.startsWith(se)&&ne.charAt(se.length)==="/"),H={isActive:G,isPending:fe,isTransitioning:J},R=G?e:void 0,P;typeof o=="function"?P=o(H):P=[o,G?"active":null,fe?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(H):h;return Q.createElement(An,{...w,"aria-current":R,className:P,ref:C,style:B,to:m,viewTransition:v},typeof y=="function"?y(H):y)});Xs.displayName="NavLink";var sC=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:l,state:h,method:m=Ef,action:v,onSubmit:y,relative:w,preventScrollReset:C,viewTransition:O,...N},Z)=>{let j=uC(),K=cC(v,{relative:w}),J=m.toLowerCase()==="get"?"get":"post",se=typeof v=="string"&&Aw.test(v),X=ne=>{if(y&&y(ne),ne.defaultPrevented)return;ne.preventDefault();let ge=ne.nativeEvent.submitter,G=ge?.getAttribute("formmethod")||m;j(ge||ne.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:l,state:h,relative:w,preventScrollReset:C,viewTransition:O})};return Q.createElement("form",{ref:Z,method:J,action:K,onSubmit:o?y:X,...N,"data-discover":!se&&i==="render"?"true":void 0})});sC.displayName="Form";function rC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(i){let e=Q.useContext(cu);return Dt(e,rC(i)),e}function oC(i,{target:e,replace:n,state:o,preventScrollReset:l,relative:h,viewTransition:m}={}){let v=nd(),y=Vr(),w=Yc(i,{relative:h});return Q.useCallback(C=>{if(jx(C,e)){C.preventDefault();let O=n!==void 0?n:Lc(y)===Lc(w);v(i,{replace:O,state:o,preventScrollReset:l,relative:h,viewTransition:m})}},[y,v,w,n,o,e,i,l,h,m])}var aC=0,lC=()=>`__${String(++aC)}__`;function uC(){let{router:i}=Rw("useSubmit"),{basename:e}=Q.useContext(As),n=Rx();return Q.useCallback(async(o,l={})=>{let{action:h,method:m,encType:v,formData:y,body:w}=qx(o,e);if(l.navigate===!1){let C=l.fetcherKey||lC();await i.fetch(C,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||v,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||m,formEncType:l.encType||v,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function cC(i,{relative:e}={}){let{basename:n}=Q.useContext(As),o=Q.useContext(Ji);Dt(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),h={...Yc(i||".",{relative:e})},m=Vr();if(i==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(C=>C==="")){v.delete("index"),y.filter(O=>O).forEach(O=>v.append("index",O));let C=v.toString();h.search=C?`?${C}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Dr([n,h.pathname])),Lc(h)}function hC(i,e={}){let n=Q.useContext(vw);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Rw("useViewTransitionState"),l=Yc(i,{relative:e.relative});if(!n.isTransitioning)return!1;let h=zr(n.currentLocation.pathname,o)||n.currentLocation.pathname,m=zr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return If(l.pathname,m)!=null||If(l.pathname,h)!=null}const Nw=Q.createContext(void 0),Kc=()=>{const i=Q.useContext(Nw);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},fC=({children:i})=>{const[e,n]=Q.useState(null),[o,l]=Q.useState(null),[h,m]=Q.useState(!0);Q.useEffect(()=>{(()=>{try{const K=localStorage.getItem("loggedUser");if(K){const se=JSON.parse(localStorage.getItem("users")||"[]").find(X=>X.email===K);if(se){const X={uid:se.uid||`uid_${Date.now()}`,email:se.email,emailVerified:se.emailVerified||!1,photoURL:se.photoURL};n(X),l({...se,uid:X.uid,emailVerified:X.emailVerified,createdAt:se.createdAt?new Date(se.createdAt):new Date,lastLogin:new Date})}}}catch(K){console.error("Error loading user:",K)}finally{m(!1)}})()},[]);const Z={currentUser:e,userProfile:o,loading:h,login:async(j,K)=>{try{const J=JSON.parse(localStorage.getItem("users")||"[]"),se=J.find(ne=>ne.email===j&&ne.password===K);if(!se)throw new Error("Credenciales inválidas. Verifica tu email y contraseña");se.lastLogin=new Date().toISOString(),localStorage.setItem("users",JSON.stringify(J)),localStorage.setItem("loggedUser",j);const X={uid:se.uid,email:se.email,emailVerified:se.emailVerified,photoURL:se.photoURL};n(X),l({...se,createdAt:new Date(se.createdAt),lastLogin:new Date(se.lastLogin)}),console.log("Login exitoso (localStorage)")}catch(J){throw console.error("Error in login:",J),J}},register:async j=>{try{const K=JSON.parse(localStorage.getItem("users")||"[]");if(K.find(X=>X.email===j.email))throw new Error("Ya existe una cuenta con este correo electrónico");const J={uid:`uid_${Date.now()}`,email:j.email,password:j.password,nombre:j.nombre,apellidos:j.apellidos,fechaNacimiento:j.fechaNacimiento,genero:j.genero,reportes:[],emailVerified:!1,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};K.push(J),localStorage.setItem("users",JSON.stringify(K)),localStorage.setItem("loggedUser",J.email);const se={uid:J.uid,email:J.email,emailVerified:J.emailVerified,photoURL:void 0};n(se),l({...J,createdAt:new Date(J.createdAt),lastLogin:new Date(J.lastLogin)}),console.log("Usuario registrado exitosamente (localStorage)")}catch(K){throw console.error("Error in registration:",K),K}},logout:async()=>{try{localStorage.removeItem("loggedUser"),n(null),l(null),console.log("Logout exitoso")}catch(j){throw console.error("Error in logout:",j),new Error("Error al cerrar sesión")}},resetPassword:async j=>{try{if(!JSON.parse(localStorage.getItem("users")||"[]").find(se=>se.email===j))throw new Error("No existe una cuenta con este correo electrónico");console.log("Se ha enviado un correo para resetear tu contraseña (simulado)")}catch(K){throw console.error("Error resetting password:",K),K}},resendVerification:async()=>{if(!e)throw new Error("No hay usuario autenticado");try{console.log("Email de verificación enviado (simulado)")}catch(j){throw console.error("Error resending verification:",j),new Error("Error al enviar email de verificación")}},updateUserProfile:async j=>{if(!e)throw new Error("No hay usuario autenticado");try{const K=JSON.parse(localStorage.getItem("users")||"[]"),J=K.findIndex(se=>se.email===e.email);J!==-1&&(K[J]={...K[J],...j},localStorage.setItem("users",JSON.stringify(K)),o&&l({...o,...j})),console.log("Perfil actualizado exitosamente")}catch(K){throw console.error("Error updating profile:",K),new Error("Error al actualizar perfil")}}};return E.jsx(Nw.Provider,{value:Z,children:!h&&i})},dC=()=>{const[i,e]=Q.useState(!1),n=Q.useRef(null),{currentUser:o,userProfile:l,logout:h}=Kc();Q.useEffect(()=>{const y=w=>{n.current&&!n.current.contains(w.target)&&e(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=y=>{const w=new Date,C=new Date(y);let O=w.getFullYear()-C.getFullYear();const N=w.getMonth()-C.getMonth();return(N<0||N===0&&w.getDate()<C.getDate())&&O--,O},v=async()=>{try{await h(),e(!1)}catch(y){console.error("Error al cerrar sesión:",y)}};return E.jsxs("div",{ref:n,className:"login-button-container",children:[E.jsx("button",{onClick:()=>e(y=>!y),className:"login-button",type:"button",children:o?E.jsx("div",{className:"user-avatar",children:l?.nombre?.charAt(0)||o.email?.charAt(0)||"?"}):"Iniciar sesión"}),i&&E.jsx("div",{className:"login-dropdown",children:o&&l?E.jsxs("div",{className:"user-menu",children:[E.jsxs("div",{className:"user-info",children:[E.jsxs("div",{className:"user-avatar large",children:[l.nombre.charAt(0),l.apellidos.charAt(0)]}),E.jsxs("div",{className:"user-details",children:[E.jsxs("h4",{children:[l.nombre," ",l.apellidos]}),E.jsx("p",{className:"email",children:l.email}),E.jsxs("p",{className:"age",children:[m(l.fechaNacimiento)," años • ",l.genero]}),!o.emailVerified&&E.jsx("span",{className:"unverified",children:"⚠️ Email no verificado"})]})]}),E.jsx("div",{className:"user-stats",children:E.jsxs("div",{className:"stat",children:[E.jsx("span",{className:"stat-number",children:l.reportes.length}),E.jsx("span",{className:"stat-label",children:"Reportes"})]})}),E.jsxs("div",{className:"menu-actions",children:[E.jsxs(An,{to:"/perfil",className:"menu-item",onClick:()=>e(!1),children:[E.jsx("span",{children:"👤"}),"Ver Perfil"]}),E.jsxs(An,{to:"/reporte",className:"menu-item",onClick:()=>e(!1),children:[E.jsx("span",{children:"📝"}),"Nuevo Reporte"]}),E.jsxs("button",{onClick:v,className:"menu-item logout",children:[E.jsx("span",{children:"🚪"}),"Cerrar Sesión"]})]})]}):E.jsxs("div",{className:"guest-menu",children:[E.jsxs("div",{className:"welcome-message",children:[E.jsx("h4",{children:"¡Únete a Komuni!"}),E.jsx("p",{children:"Inicia sesión para reportar barreras y mejorar la accesibilidad"})]}),E.jsxs("div",{className:"auth-actions",children:[E.jsx(An,{to:"/login",className:"auth-button primary",onClick:()=>e(!1),children:"Iniciar Sesión"}),E.jsx(An,{to:"/registro",className:"auth-button secondary",onClick:()=>e(!1),children:"Registrarse"})]})]})})]})};function pC(){const[i,e]=Q.useState(!1),[n,o]=Q.useState(!1);Q.useEffect(()=>{const h=()=>{e(window.scrollY>2)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const l=()=>{o(!n)};return Q.useEffect(()=>{n?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[n]),E.jsx(E.Fragment,{children:E.jsx("div",{className:`header${i?" header--scrolled":""}`,style:{padding:1},children:E.jsxs("div",{className:"topbar",children:[E.jsx("h1",{className:"logo",children:E.jsxs(An,{to:"/",onClick:()=>o(!1),children:[" ",E.jsx("img",{className:"logo-komuni",src:"/icons/barrier-icon.png",alt:"Logo de KOMUNI, con una imagen de una chincheta de mapa con una silla de ruedas en azul."})]})}),E.jsxs("button",{className:"hamburger-menu",onClick:l,"aria-label":"Toggle navigation menu",children:[E.jsx("div",{className:`bar ${n?"open":""}`}),E.jsx("div",{className:`bar ${n?"open":""}`}),E.jsx("div",{className:`bar ${n?"open":""}`})]}),E.jsx("nav",{className:`navi ${n?"navi--open":""}`,children:E.jsxs("ul",{className:`menu ${n?"menu--open":""}`,children:[" ",E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/",end:!0,className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Home"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/mapa",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Mapa"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/about",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Sobre nosotros"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/blog",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Blog"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/contacto",className:({isActive:h})=>"menu_link"+(h?" active":""),onClick:()=>o(!1),children:"Contacto"})}),E.jsx("li",{className:"menu_item",children:E.jsx(dC,{})})]})})]})})})}function mC(){const i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return E.jsx("footer",{className:"footer ",children:E.jsxs("div",{children:[E.jsx("div",{children:E.jsxs("ul",{className:"menu",children:[E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/privacidad",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Política de privacidad"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/about",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Sobre KOMUNI"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/contacto",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Contacto"})}),E.jsx("li",{className:"menu_item",children:E.jsx(Xs,{to:"/faq",className:({isActive:e})=>"menu_link"+(e?" active":""),children:"Preguntas frecuentes"})})]})}),E.jsxs("div",{className:"",style:{position:"relative"},children:[E.jsxs("p",{className:"",children:[E.jsx("span",{children:"Email: "}),E.jsx("span",{children:E.jsxs("a",{href:"#0",className:"",children:["komunitgn@gmail.com"," "]})})]}),E.jsx("p",{className:"",children:E.jsxs("small",{children:["© ",new Date().getFullYear()," Komuni. Plataforma colaborativa de accesibilidad."]})}),E.jsx("button",{onClick:i,style:{background:"rgba(255, 255, 255, 0.15)",border:"none",color:"white",fontSize:"2rem",cursor:"pointer",position:"absolute",bottom:"1rem",right:"1rem",padding:"0.6rem 1rem",borderRadius:"8px",transition:"background-color 0.3s ease",display:"flex",justifyContent:"center",alignItems:"center"},"aria-label":"Volver arriba de la página",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16",style:{display:"block"},children:E.jsx("path",{fillRule:"evenodd",d:"M8 12a.5.5 0 0 0 .5-.5V3.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 3.707V11.5a.5.5 0 0 0 .5.5"})})})]})]})})}const gC=()=>{const[i,e]=Q.useState(!1),n=Q.useRef(null),o=()=>{e(m=>!m)},l=()=>{document.body.classList.toggle("large-text")},h=()=>{document.body.classList.toggle("high-contrast")};return Q.useEffect(()=>{const m=v=>{n.current&&!n.current.contains(v.target)&&e(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),E.jsxs("div",{className:"accessibility-container",ref:n,children:[E.jsx("button",{id:"accessibility-button",className:"accessibility-button","aria-label":"Menú de accesibilidad",onClick:o,children:E.jsx("span",{children:E.jsx("img",{src:"../public/icons/accesibilidad.png",className:"acceso-icon",alt:"Botón de opciones de accesibilidad"})})}),E.jsxs("div",{id:"accessibility-menu",className:`accessibility-menu ${i?"open":""}`,children:[E.jsx("button",{id:"increase-text",className:"acceso-option",onClick:l,children:"Aumentar texto"}),E.jsx("button",{id:"high-contrast",className:"acceso-option",onClick:h,children:"Alto contraste"})]})]})},_C=()=>E.jsxs(E.Fragment,{children:[E.jsx(pC,{}),E.jsx(Px,{}),E.jsx(mC,{}),E.jsx(gC,{})]});var lm={},uc={},pf={},mf={},um={exports:{}},cm,vb;function vC(){if(vb)return cm;vb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cm=i,cm}var hm,yb;function yC(){if(yb)return hm;yb=1;var i=vC();function e(){}function n(){}return n.resetWarningCache=e,hm=function(){function o(m,v,y,w,C,O){if(O!==i){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}o.isRequired=o;function l(){return o}var h={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return h.PropTypes=h,h},hm}var bb;function bC(){return bb||(bb=1,um.exports=yC()()),um.exports}var wb;function wC(){return wb||(wb=1,function(i){(function(e,n){n(i,sa(),bC())})(mf,function(e,n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=j;var l=m(n),h=m(o);function m(X){return X&&X.__esModule?X:{default:X}}var v=Object.assign||function(X){for(var ne=1;ne<arguments.length;ne++){var ge=arguments[ne];for(var G in ge)Object.prototype.hasOwnProperty.call(ge,G)&&(X[G]=ge[G])}return X};function y(X,ne){var ge={};for(var G in X)ne.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(X,G)&&(ge[G]=X[G]);return ge}function w(X,ne){if(!(X instanceof ne))throw new TypeError("Cannot call a class as a function")}var C=function(){function X(ne,ge){for(var G=0;G<ge.length;G++){var fe=ge[G];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ne,fe.key,fe)}}return function(ne,ge,G){return ge&&X(ne.prototype,ge),G&&X(ne,G),ne}}();function O(X,ne){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:X}function N(X,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);X.prototype=Object.create(ne&&ne.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(X,ne):X.__proto__=ne)}var Z=!1;function j(X){Z=X}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){j(!0)}}))}catch{}function K(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return Z?X:X.capture}function J(X){if("touches"in X){var ne=X.touches[0],ge=ne.pageX,G=ne.pageY;return{x:ge,y:G}}var fe=X.screenX,H=X.screenY;return{x:fe,y:H}}var se=function(X){N(ne,X);function ne(){var ge;w(this,ne);for(var G=arguments.length,fe=Array(G),H=0;H<G;H++)fe[H]=arguments[H];var R=O(this,(ge=ne.__proto__||Object.getPrototypeOf(ne)).call.apply(ge,[this].concat(fe)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return C(ne,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,K({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,K({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(G){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(G))}},{key:"_onMouseMove",value:function(G){this.mouseDown&&this._handleSwipeMove(G)}},{key:"_onMouseUp",value:function(G){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(G)}},{key:"_handleSwipeStart",value:function(G){var fe=J(G),H=fe.x,R=fe.y;this.moveStart={x:H,y:R},this.props.onSwipeStart(G)}},{key:"_handleSwipeMove",value:function(G){if(this.moveStart){var fe=J(G),H=fe.x,R=fe.y,P=H-this.moveStart.x,B=R-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:P,y:B},G);k&&G.cancelable&&G.preventDefault(),this.movePosition={deltaX:P,deltaY:B}}}},{key:"_handleSwipeEnd",value:function(G){this.props.onSwipeEnd(G);var fe=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-fe?this.props.onSwipeLeft(1,G):this.movePosition.deltaX>fe&&this.props.onSwipeRight(1,G),this.movePosition.deltaY<-fe?this.props.onSwipeUp(1,G):this.movePosition.deltaY>fe&&this.props.onSwipeDown(1,G)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(G){this.swiper=G,this.props.innerRef(G)}},{key:"render",value:function(){var G=this.props;G.tagName;var fe=G.className,H=G.style,R=G.children;G.allowMouseEvents,G.onSwipeUp,G.onSwipeDown,G.onSwipeLeft,G.onSwipeRight,G.onSwipeStart,G.onSwipeMove,G.onSwipeEnd,G.innerRef,G.tolerance;var P=y(G,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return l.default.createElement(this.props.tagName,v({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:fe,style:H},P),R)}}]),ne}(n.Component);se.displayName="ReactSwipe",se.propTypes={tagName:h.default.string,className:h.default.string,style:h.default.object,children:h.default.node,allowMouseEvents:h.default.bool,onSwipeUp:h.default.func,onSwipeDown:h.default.func,onSwipeLeft:h.default.func,onSwipeRight:h.default.func,onSwipeStart:h.default.func,onSwipeMove:h.default.func,onSwipeEnd:h.default.func,innerRef:h.default.func,tolerance:h.default.number.isRequired},se.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=se})}(mf)),mf}var Sb;function Ow(){return Sb||(Sb=1,function(i){(function(e,n){n(i,wC())})(pf,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var o=l(n);function l(h){return h&&h.__esModule?h:{default:h}}e.default=o.default})}(pf)),pf}var cc={},fm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Eb;function SC(){return Eb||(Eb=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var h="",m=0;m<arguments.length;m++){var v=arguments[m];v&&(h=l(h,o(v)))}return h}function o(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return n.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var m="";for(var v in h)e.call(h,v)&&h[v]&&(m=l(m,v));return m}function l(h,m){return m?h?h+" "+m:h+m:h}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(fm)),fm.exports}var Tb;function Iw(){if(Tb)return cc;Tb=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.default=void 0;var i=e(SC());function e(l){return l&&l.__esModule?l:{default:l}}function n(l,h,m){return h in l?Object.defineProperty(l,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):l[h]=m,l}var o={ROOT:function(h){return(0,i.default)(n({"carousel-root":!0},h||"",!!h))},CAROUSEL:function(h){return(0,i.default)({carousel:!0,"carousel-slider":h})},WRAPPER:function(h,m){return(0,i.default)({"thumbs-wrapper":!h,"slider-wrapper":h,"axis-horizontal":m==="horizontal","axis-vertical":m!=="horizontal"})},SLIDER:function(h,m){return(0,i.default)({thumbs:!h,slider:h,animated:!m})},ITEM:function(h,m,v){return(0,i.default)({thumb:!h,slide:h,selected:m,previous:v})},ARROW_PREV:function(h){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":h})},ARROW_NEXT:function(h){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":h})},DOT:function(h){return(0,i.default)({dot:!0,selected:h})}};return cc.default=o,cc}var hc={},fc={},xb;function EC(){if(xb)return fc;xb=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.outerWidth=void 0;var i=function(n){var o=n.offsetWidth,l=getComputedStyle(n);return o+=parseInt(l.marginLeft)+parseInt(l.marginRight),o};return fc.outerWidth=i,fc}var dc={},Cb;function ug(){if(Cb)return dc;Cb=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.default=void 0;var i=function(n,o,l){var h=n===0?n:n+o,m=l==="horizontal"?[h,0,0]:[0,h,0],v="translate3d",y="("+m.join(",")+")";return v+y};return dc.default=i,dc}var pc={},Ab;function Pw(){if(Ab)return pc;Ab=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=void 0;var i=function(){return window};return pc.default=i,pc}var Rb;function Lw(){if(Rb)return hc;Rb=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.default=void 0;var i=y(sa()),e=m(Iw()),n=EC(),o=m(ug()),l=m(Ow()),h=m(Pw());function m(R){return R&&R.__esModule?R:{default:R}}function v(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return v=function(){return R},R}function y(R){if(R&&R.__esModule)return R;if(R===null||w(R)!=="object"&&typeof R!="function")return{default:R};var P=v();if(P&&P.has(R))return P.get(R);var B={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in R)if(Object.prototype.hasOwnProperty.call(R,M)){var D=k?Object.getOwnPropertyDescriptor(R,M):null;D&&(D.get||D.set)?Object.defineProperty(B,M,D):B[M]=R[M]}return B.default=R,P&&P.set(R,B),B}function w(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(B){return typeof B}:w=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},w(R)}function C(){return C=Object.assign||function(R){for(var P=1;P<arguments.length;P++){var B=arguments[P];for(var k in B)Object.prototype.hasOwnProperty.call(B,k)&&(R[k]=B[k])}return R},C.apply(this,arguments)}function O(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function N(R,P){for(var B=0;B<P.length;B++){var k=P[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,k.key,k)}}function Z(R,P,B){return P&&N(R.prototype,P),R}function j(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),P&&K(R,P)}function K(R,P){return K=Object.setPrototypeOf||function(k,M){return k.__proto__=M,k},K(R,P)}function J(R){var P=ne();return function(){var k=ge(R),M;if(P){var D=ge(this).constructor;M=Reflect.construct(k,arguments,D)}else M=k.apply(this,arguments);return se(this,M)}}function se(R,P){return P&&(w(P)==="object"||typeof P=="function")?P:X(R)}function X(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ge(R){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},ge(R)}function G(R,P,B){return P in R?Object.defineProperty(R,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):R[P]=B,R}var fe=function(P){return P.hasOwnProperty("key")},H=function(R){j(B,R);var P=J(B);function B(k){var M;return O(this,B),M=P.call(this,k),G(X(M),"itemsWrapperRef",void 0),G(X(M),"itemsListRef",void 0),G(X(M),"thumbsRef",void 0),G(X(M),"setItemsWrapperRef",function(D){M.itemsWrapperRef=D}),G(X(M),"setItemsListRef",function(D){M.itemsListRef=D}),G(X(M),"setThumbsRef",function(D,pe){M.thumbsRef||(M.thumbsRef=[]),M.thumbsRef[pe]=D}),G(X(M),"updateSizes",function(){if(!(!M.props.children||!M.itemsWrapperRef||!M.thumbsRef)){var D=i.Children.count(M.props.children),pe=M.itemsWrapperRef.clientWidth,F=M.props.thumbWidth?M.props.thumbWidth:(0,n.outerWidth)(M.thumbsRef[0]),W=Math.floor(pe/F),ae=W<D,te=ae?D-W:0;M.setState(function(Ce,U){return{itemSize:F,visibleItems:W,firstItem:ae?M.getFirstItem(U.selectedItem):0,lastPosition:te,showArrows:ae}})}}),G(X(M),"handleClickItem",function(D,pe,F){if(!fe(F)||F.key==="Enter"){var W=M.props.onSelectItem;typeof W=="function"&&W(D,pe)}}),G(X(M),"onSwipeStart",function(){M.setState({swiping:!0})}),G(X(M),"onSwipeEnd",function(){M.setState({swiping:!1})}),G(X(M),"onSwipeMove",function(D){var pe=D.x;if(!M.state.itemSize||!M.itemsWrapperRef||!M.state.visibleItems)return!1;var F=0,W=i.Children.count(M.props.children),ae=-(M.state.firstItem*100)/M.state.visibleItems,te=Math.max(W-M.state.visibleItems,0),Ce=-te*100/M.state.visibleItems;ae===F&&pe>0&&(pe=0),ae===Ce&&pe<0&&(pe=0);var U=M.itemsWrapperRef.clientWidth,ue=ae+100/(U/pe);return M.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(we){M.itemsListRef.style[we]=(0,o.default)(ue,"%",M.props.axis)}),!0}),G(X(M),"slideRight",function(D){M.moveTo(M.state.firstItem-(typeof D=="number"?D:1))}),G(X(M),"slideLeft",function(D){M.moveTo(M.state.firstItem+(typeof D=="number"?D:1))}),G(X(M),"moveTo",function(D){D=D<0?0:D,D=D>=M.state.lastPosition?M.state.lastPosition:D,M.setState({firstItem:D})}),M.state={selectedItem:k.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},M}return Z(B,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(M){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==M.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,h.default)().addEventListener("resize",this.updateSizes),(0,h.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,h.default)().removeEventListener("resize",this.updateSizes),(0,h.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(M){var D=M;return M>=this.state.lastPosition&&(D=this.state.lastPosition),M<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),M<this.state.firstItem&&(D=M),D}},{key:"renderItems",value:function(){var M=this;return this.props.children.map(function(D,pe){var F=e.default.ITEM(!1,pe===M.state.selectedItem),W={key:pe,ref:function(te){return M.setThumbsRef(te,pe)},className:F,onClick:M.handleClickItem.bind(M,pe,M.props.children[pe]),onKeyDown:M.handleClickItem.bind(M,pe,M.props.children[pe]),"aria-label":"".concat(M.props.labels.item," ").concat(pe+1),style:{width:M.props.thumbWidth}};return i.default.createElement("li",C({},W,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var M=this;if(!this.props.children)return null;var D=i.Children.count(this.props.children)>1,pe=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,W={},ae=-this.state.firstItem*(this.state.itemSize||0),te=(0,o.default)(ae,"px",this.props.axis),Ce=this.props.transitionTime+"ms";return W={WebkitTransform:te,MozTransform:te,MsTransform:te,OTransform:te,transform:te,msTransform:te,WebkitTransitionDuration:Ce,MozTransitionDuration:Ce,MsTransitionDuration:Ce,OTransitionDuration:Ce,transitionDuration:Ce,msTransitionDuration:Ce},i.default.createElement("div",{className:e.default.CAROUSEL(!1)},i.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},i.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!pe),onClick:function(){return M.slideRight()},"aria-label":this.props.labels.leftArrow}),D?i.default.createElement(l.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:W,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):i.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ue){return M.setItemsListRef(ue)},style:W},this.renderItems()),i.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return M.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),B}(i.Component);return hc.default=H,G(H,"displayName","Thumbs"),G(H,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),hc}var mc={},Nb;function TC(){if(Nb)return mc;Nb=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=void 0;var i=function(){return document};return mc.default=i,mc}var Ri={},Ob;function Mw(){if(Ob)return Ri;Ob=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.setPosition=Ri.getPosition=Ri.isKeyboardEvent=Ri.defaultStatusFormatter=Ri.noop=void 0;var i=sa(),e=n(ug());function n(y){return y&&y.__esModule?y:{default:y}}var o=function(){};Ri.noop=o;var l=function(w,C){return"".concat(w," of ").concat(C)};Ri.defaultStatusFormatter=l;var h=function(w){return w?w.hasOwnProperty("key"):!1};Ri.isKeyboardEvent=h;var m=function(w,C){if(C.infiniteLoop&&++w,w===0)return 0;var O=i.Children.count(C.children);if(C.centerMode&&C.axis==="horizontal"){var N=-w*C.centerSlidePercentage,Z=O-1;return w&&(w!==Z||C.infiniteLoop)?N+=(100-C.centerSlidePercentage)/2:w===Z&&(N+=100-C.centerSlidePercentage),N}return-w*100};Ri.getPosition=m;var v=function(w,C){var O={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(N){O[N]=(0,e.default)(w,"%",C)}),O};return Ri.setPosition=v,Ri}var ys={},Ib;function xC(){if(Ib)return ys;Ib=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.fadeAnimationHandler=ys.slideStopSwipingHandler=ys.slideSwipeAnimationHandler=ys.slideAnimationHandler=void 0;var i=sa(),e=o(ug()),n=Mw();function o(O){return O&&O.__esModule?O:{default:O}}function l(O,N){var Z=Object.keys(O);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(O);N&&(j=j.filter(function(K){return Object.getOwnPropertyDescriptor(O,K).enumerable})),Z.push.apply(Z,j)}return Z}function h(O){for(var N=1;N<arguments.length;N++){var Z=arguments[N]!=null?arguments[N]:{};N%2?l(Object(Z),!0).forEach(function(j){m(O,j,Z[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(Z)):l(Object(Z)).forEach(function(j){Object.defineProperty(O,j,Object.getOwnPropertyDescriptor(Z,j))})}return O}function m(O,N,Z){return N in O?Object.defineProperty(O,N,{value:Z,enumerable:!0,configurable:!0,writable:!0}):O[N]=Z,O}var v=function(N,Z){var j={},K=Z.selectedItem,J=K,se=i.Children.count(N.children)-1,X=N.infiniteLoop&&(K<0||K>se);if(X)return J<0?N.centerMode&&N.centerSlidePercentage&&N.axis==="horizontal"?j.itemListStyle=(0,n.setPosition)(-(se+2)*N.centerSlidePercentage-(100-N.centerSlidePercentage)/2,N.axis):j.itemListStyle=(0,n.setPosition)(-(se+2)*100,N.axis):J>se&&(j.itemListStyle=(0,n.setPosition)(0,N.axis)),j;var ne=(0,n.getPosition)(K,N),ge=(0,e.default)(ne,"%",N.axis),G=N.transitionTime+"ms";return j.itemListStyle={WebkitTransform:ge,msTransform:ge,OTransform:ge,transform:ge},Z.swiping||(j.itemListStyle=h(h({},j.itemListStyle),{},{WebkitTransitionDuration:G,MozTransitionDuration:G,OTransitionDuration:G,transitionDuration:G,msTransitionDuration:G})),j};ys.slideAnimationHandler=v;var y=function(N,Z,j,K){var J={},se=Z.axis==="horizontal",X=i.Children.count(Z.children),ne=0,ge=(0,n.getPosition)(j.selectedItem,Z),G=Z.infiniteLoop?(0,n.getPosition)(X-1,Z)-100:(0,n.getPosition)(X-1,Z),fe=se?N.x:N.y,H=fe;ge===ne&&fe>0&&(H=0),ge===G&&fe<0&&(H=0);var R=ge+100/(j.itemSize/H),P=Math.abs(fe)>Z.swipeScrollTolerance;return Z.infiniteLoop&&P&&(j.selectedItem===0&&R>-100?R-=X*100:j.selectedItem===X-1&&R<-X*100&&(R+=X*100)),(!Z.preventMovementUntilSwipeScrollTolerance||P||j.swipeMovementStarted)&&(j.swipeMovementStarted||K({swipeMovementStarted:!0}),J.itemListStyle=(0,n.setPosition)(R,Z.axis)),P&&!j.cancelClick&&K({cancelClick:!0}),J};ys.slideSwipeAnimationHandler=y;var w=function(N,Z){var j=(0,n.getPosition)(Z.selectedItem,N),K=(0,n.setPosition)(j,N.axis);return{itemListStyle:K}};ys.slideStopSwipingHandler=w;var C=function(N,Z){var j=N.transitionTime+"ms",K="ease-in-out",J={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:K,msTransitionTimingFunction:K,MozTransitionTimingFunction:K,WebkitTransitionTimingFunction:K,OTransitionTimingFunction:K};return Z.swiping||(J=h(h({},J),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),{slideStyle:J,selectedStyle:h(h({},J),{},{opacity:1,position:"relative"}),prevStyle:h({},J)}};return ys.fadeAnimationHandler=C,ys}var Pb;function CC(){if(Pb)return uc;Pb=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.default=void 0;var i=C(sa()),e=y(Ow()),n=y(Iw()),o=y(Lw()),l=y(TC()),h=y(Pw()),m=Mw(),v=xC();function y(k){return k&&k.__esModule?k:{default:k}}function w(){if(typeof WeakMap!="function")return null;var k=new WeakMap;return w=function(){return k},k}function C(k){if(k&&k.__esModule)return k;if(k===null||O(k)!=="object"&&typeof k!="function")return{default:k};var M=w();if(M&&M.has(k))return M.get(k);var D={},pe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in k)if(Object.prototype.hasOwnProperty.call(k,F)){var W=pe?Object.getOwnPropertyDescriptor(k,F):null;W&&(W.get||W.set)?Object.defineProperty(D,F,W):D[F]=k[F]}return D.default=k,M&&M.set(k,D),D}function O(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(D){return typeof D}:O=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},O(k)}function N(){return N=Object.assign||function(k){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var pe in D)Object.prototype.hasOwnProperty.call(D,pe)&&(k[pe]=D[pe])}return k},N.apply(this,arguments)}function Z(k,M){var D=Object.keys(k);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(k);M&&(pe=pe.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),D.push.apply(D,pe)}return D}function j(k){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?Z(Object(D),!0).forEach(function(pe){P(k,pe,D[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(D)):Z(Object(D)).forEach(function(pe){Object.defineProperty(k,pe,Object.getOwnPropertyDescriptor(D,pe))})}return k}function K(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function J(k,M){for(var D=0;D<M.length;D++){var pe=M[D];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(k,pe.key,pe)}}function se(k,M,D){return M&&J(k.prototype,M),k}function X(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),M&&ne(k,M)}function ne(k,M){return ne=Object.setPrototypeOf||function(pe,F){return pe.__proto__=F,pe},ne(k,M)}function ge(k){var M=H();return function(){var pe=R(k),F;if(M){var W=R(this).constructor;F=Reflect.construct(pe,arguments,W)}else F=pe.apply(this,arguments);return G(this,F)}}function G(k,M){return M&&(O(M)==="object"||typeof M=="function")?M:fe(k)}function fe(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(k){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(k)}function P(k,M,D){return M in k?Object.defineProperty(k,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[M]=D,k}var B=function(k){X(D,k);var M=ge(D);function D(pe){var F;K(this,D),F=M.call(this,pe),P(fe(F),"thumbsRef",void 0),P(fe(F),"carouselWrapperRef",void 0),P(fe(F),"listRef",void 0),P(fe(F),"itemsRef",void 0),P(fe(F),"timer",void 0),P(fe(F),"animationHandler",void 0),P(fe(F),"setThumbsRef",function(ae){F.thumbsRef=ae}),P(fe(F),"setCarouselWrapperRef",function(ae){F.carouselWrapperRef=ae}),P(fe(F),"setListRef",function(ae){F.listRef=ae}),P(fe(F),"setItemsRef",function(ae,te){F.itemsRef||(F.itemsRef=[]),F.itemsRef[te]=ae}),P(fe(F),"autoPlay",function(){i.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),P(fe(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),P(fe(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),P(fe(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),P(fe(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),P(fe(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,l.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,l.default)().activeElement)):!1}),P(fe(F),"navigateWithKeyboard",function(ae){if(F.isFocusWithinTheCarousel()){var te=F.props.axis,Ce=te==="horizontal",U={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ue=Ce?U.ArrowRight:U.ArrowDown,we=Ce?U.ArrowLeft:U.ArrowUp;ue===ae.keyCode?F.increment():we===ae.keyCode&&F.decrement()}}),P(fe(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ae=F.props.axis==="horizontal",te=F.itemsRef[0];if(te){var Ce=ae?te.clientWidth:te.clientHeight;F.setState({itemSize:Ce}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),P(fe(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),P(fe(F),"handleClickItem",function(ae,te){if(i.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ae,te),ae!==F.state.selectedItem&&F.setState({selectedItem:ae})}}),P(fe(F),"handleOnChange",function(ae,te){i.Children.count(F.props.children)<=1||F.props.onChange(ae,te)}),P(fe(F),"handleClickThumb",function(ae,te){F.props.onClickThumb(ae,te),F.moveTo(ae)}),P(fe(F),"onSwipeStart",function(ae){F.setState({swiping:!0}),F.props.onSwipeStart(ae)}),P(fe(F),"onSwipeEnd",function(ae){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ae),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),P(fe(F),"onSwipeMove",function(ae,te){F.props.onSwipeMove(te);var Ce=F.props.swipeAnimationHandler(ae,F.props,F.state,F.setState.bind(fe(F)));return F.setState(j({},Ce)),!!Object.keys(Ce).length}),P(fe(F),"decrement",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ae=="number"?ae:1))}),P(fe(F),"increment",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ae=="number"?ae:1))}),P(fe(F),"moveTo",function(ae){if(typeof ae=="number"){var te=i.Children.count(F.props.children)-1;ae<0&&(ae=F.props.infiniteLoop?te:0),ae>te&&(ae=F.props.infiniteLoop?0:te),F.selectItem({selectedItem:ae}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),P(fe(F),"onClickNext",function(){F.increment(1)}),P(fe(F),"onClickPrev",function(){F.decrement(1)}),P(fe(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),P(fe(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),P(fe(F),"changeItem",function(ae){return function(te){(!(0,m.isKeyboardEvent)(te)||te.key==="Enter")&&F.moveTo(ae)}}),P(fe(F),"selectItem",function(ae){F.setState(j({previousItem:F.state.selectedItem},ae),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ae.selectedItem,i.Children.toArray(F.props.children)[ae.selectedItem])}),P(fe(F),"getInitialImage",function(){var ae=F.props.selectedItem,te=F.itemsRef&&F.itemsRef[ae],Ce=te&&te.getElementsByTagName("img")||[];return Ce[0]}),P(fe(F),"getVariableItemHeight",function(ae){var te=F.itemsRef&&F.itemsRef[ae];if(F.state.hasMount&&te&&te.children.length){var Ce=te.children[0].getElementsByTagName("img")||[];if(Ce.length>0){var U=Ce[0];if(!U.complete){var ue=function Te(){F.forceUpdate(),U.removeEventListener("load",Te)};U.addEventListener("load",ue)}}var we=Ce[0]||te.children[0],ye=we.clientHeight;return ye>0?ye:null}return null});var W={initialized:!1,previousItem:pe.selectedItem,selectedItem:pe.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:pe.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof pe.animationHandler=="function"&&pe.animationHandler||pe.animationHandler==="fade"&&v.fadeAnimationHandler||v.slideAnimationHandler,F.state=j(j({},W),F.animationHandler(pe,W)),F}return se(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,W){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),W.swiping&&!this.state.swiping&&this.setState(j({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&i.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var W=F.getInitialImage();W&&!W.complete?W.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,h.default)().addEventListener("resize",this.updateSizes),(0,h.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,l.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,h.default)().removeEventListener("resize",this.updateSizes),(0,h.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,l.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var W=this;return this.props.children?i.Children.map(this.props.children,function(ae,te){var Ce=te===W.state.selectedItem,U=te===W.state.previousItem,ue=Ce&&W.state.selectedStyle||U&&W.state.prevStyle||W.state.slideStyle||{};W.props.centerMode&&W.props.axis==="horizontal"&&(ue=j(j({},ue),{},{minWidth:W.props.centerSlidePercentage+"%"})),W.state.swiping&&W.state.swipeMovementStarted&&(ue=j(j({},ue),{},{pointerEvents:"none"}));var we={ref:function(Te){return W.setItemsRef(Te,te)},key:"itemKey"+te+(F?"clone":""),className:n.default.ITEM(!0,te===W.state.selectedItem,te===W.state.previousItem),onClick:W.handleClickItem.bind(W,te,ae),style:ue};return i.default.createElement("li",we,W.props.renderItem(ae,{isSelected:te===W.state.selectedItem,isPrevious:te===W.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,W=this.props,ae=W.showIndicators,te=W.labels,Ce=W.renderIndicator,U=W.children;return ae?i.default.createElement("ul",{className:"control-dots"},i.Children.map(U,function(ue,we){return Ce&&Ce(F.changeItem(we),we===F.state.selectedItem,we,te.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?i.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,i.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||i.Children.count(this.props.children)===0?null:i.default.createElement(o.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||i.Children.count(this.props.children)===0)return null;var W=this.props.swipeable&&i.Children.count(this.props.children)>1,ae=this.props.axis==="horizontal",te=this.props.showArrows&&i.Children.count(this.props.children)>1,Ce=te&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,U=te&&(this.state.selectedItem<i.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ue=this.renderItems(!0),we=ue.shift(),ye=ue.pop(),Te={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Re={};if(ae){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);Re.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=j(j({},Te.style),{},{height:this.state.itemSize}),Re.height=this.state.itemSize;return i.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},i.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Ce,this.props.labels.leftArrow),i.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Re},W?i.default.createElement(e.default,N({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&we):i.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Ke){return F.setListRef(Ke)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&we)),this.props.renderArrowNext(this.onClickNext,U,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(i.default.Component);return uc.default=B,P(B,"displayName","Carousel"),P(B,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:m.noop,onClickThumb:m.noop,onChange:m.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(M,D,pe){return i.default.createElement("button",{type:"button","aria-label":pe,className:n.default.ARROW_PREV(!D),onClick:M})},renderArrowNext:function(M,D,pe){return i.default.createElement("button",{type:"button","aria-label":pe,className:n.default.ARROW_NEXT(!D),onClick:M})},renderIndicator:function(M,D,pe,F){return i.default.createElement("li",{className:n.default.DOT(D),onClick:M,onKeyDown:M,value:pe,key:pe,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(pe+1)})},renderItem:function(M){return M},renderThumbs:function(M){var D=i.Children.map(M,function(pe){var F=pe;if(pe.type!=="img"&&(F=i.Children.toArray(pe.props.children).find(function(W){return W.type==="img"})),!!F)return F});return D.filter(function(pe){return pe}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:m.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:v.slideSwipeAnimationHandler,stopSwipingHandler:v.slideStopSwipingHandler}),uc}var Lb={},Mb;function AC(){return Mb||(Mb=1),Lb}var Db;function RC(){return Db||(Db=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(i,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(i,"Thumbs",{enumerable:!0,get:function(){return o.default}});var e=l(CC()),n=AC(),o=l(Lw());function l(h){return h&&h.__esModule?h:{default:h}}}(lm)),lm}var NC=RC();const OC=()=>E.jsxs("section",{className:"textalign",children:[E.jsx("h1",{children:"Bienvenido a Komuni"}),E.jsx("p",{style:{fontSize:"1.2rem",color:"#20706e",marginBottom:32},children:"Plataforma global para reportar barreras urbanas, mejorar la accesibilidad y construir una comunidad más inclusiva."}),E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"2rem",marginBottom:"2.5rem",justifyContent:"center"},children:[E.jsxs("div",{className:"card",style:{minWidth:260,flex:"1 1 48%"},children:[E.jsx("h2",{style:{marginTop:0},children:"🗺️ Mapa interactivo"}),E.jsx("p",{children:"Visualiza y reporta barreras urbanas en tiempo real. Ayuda a mejorar la accesibilidad de tu ciudad y otras ciudades del mundo."}),E.jsx(An,{to:"/mapa",children:E.jsx("button",{style:{marginTop:12,width:"100%"},children:"Ir al mapa"})})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",flex:"1 1 48%"},children:[E.jsxs("div",{className:"card",style:{minWidth:260,flex:1},children:[E.jsx("h2",{style:{marginTop:0},children:"🤝 Comunidad"}),E.jsx("p",{children:"Comparte tu experiencia, ayuda a otras personas y forma parte de una red global comprometida con la accesibilidad."}),E.jsx(An,{to:"/blog",children:E.jsx("button",{style:{marginTop:12,width:"100%"},children:"Lee nuestro blog"})})]})," ",E.jsxs("div",{className:"card",style:{minWidth:260,flex:1},children:[E.jsx("h2",{style:{marginTop:0},children:"📚 Educación"}),E.jsx("p",{children:"Descubre recursos, buenas prácticas y experiencias sobre accesibilidad urbana e inclusión social."}),E.jsx(An,{to:"/educacion",children:E.jsx("button",{style:{marginTop:12,width:"100%"},children:"Ver recursos"})})]})]})]}),E.jsxs(NC.Carousel,{showArrows:!0,infiniteLoop:!0,autoPlay:!0,interval:5e3,showThumbs:!1,children:[E.jsxs("div",{children:[E.jsx("img",{src:"/images/Argentina.png",alt:"Accesibilidad urbana",className:"imgcarousel"}),E.jsx("p",{className:"legend",children:"Mejora la accesibilidad en tu ciudad"})]}),E.jsxs("div",{children:[E.jsx("img",{src:"/images/America.jpg",alt:"Comunidad inclusiva",className:"imgcarousel"}),E.jsx("p",{className:"legend",children:"Construyamos una comunidad más inclusiva"})]}),E.jsxs("div",{children:[E.jsx("img",{src:"/images/China.png",alt:"Reporta barreras",className:"imgcarousel"}),E.jsx("p",{className:"legend",children:"Reporta barreras y haz la diferencia"})]})]}),E.jsx("div",{className:"komuni-quote-container",children:E.jsx("span",{className:"komuni-quote-text",children:"Tu ciudad no es solo calles: es el reflejo de quién la habita."})})]}),IC=()=>{const[i,e]=Q.useState([]),[n,o]=Q.useState(!0),[l,h]=Q.useState(null);return Q.useEffect(()=>{(async()=>{try{const v=await fetch("https://komuni-app-default-rtdb.europe-west1.firebasedatabase.app/admins.json");if(!v.ok)throw new Error("Error al conectar con la base de datos.");const y=await v.json(),w=Object.values(y);e(w)}catch(v){h(v instanceof Error?v.message:"Ocurrió un error desconocido")}finally{o(!1)}})()},[]),{equipo:i,loading:n,error:l}},PC=()=>{const{equipo:i}=IC();return E.jsxs("div",{className:"textalign",children:[E.jsx("h1",{children:"Sobre nuestro equipo"}),E.jsx("br",{}),E.jsx("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap",justifyContent:"space-evenly"},children:i.map(e=>E.jsxs("div",{style:{width:"300px",textAlign:"center"},className:"card",children:[E.jsx("img",{src:e.imagen,alt:"Foto de perfil de "+e.nombre,style:{width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",marginBottom:"1rem"}}),E.jsx("h3",{children:e.nombre}),E.jsx("p",{style:{fontSize:"0.95rem",color:""},children:e.descripción}),E.jsxs("div",{className:"contmini-icono",children:[E.jsx("a",{href:e.Github,children:E.jsx("img",{src:"/icons/github.png",alt:"Logo de Github",style:{height:"30px"}})}),E.jsx("a",{href:e.Linkedin,children:E.jsx("img",{src:"/icons/linkedin.png",alt:"Logo de Linkedin",style:{height:"30px"}})})]})]},e.nombre))}),E.jsxs("ul",{style:{marginTop:"3rem",listStyle:"none",padding:0},children:[E.jsxs("li",{style:{marginBottom:"1.5rem"},children:[E.jsx("h3",{children:"🚀 Misión"}),E.jsx("p",{children:"Crear una comunidad digital colaborativa que visibilice, reporte y mejore los espacios públicos para personas con discapacidad o movilidad reducida, facilitando el acceso a información útil, precisa y actualizada sobre zonas accesibles en tiempo real."})]}),E.jsxs("li",{style:{marginBottom:"1.5rem"},children:[E.jsx("h3",{children:"🔭 Visión"}),E.jsx("p",{children:"Ser la plataforma líder en accesibilidad urbana, donde usuarios, entidades públicas y organizaciones trabajen juntos para construir ciudades más inclusivas, seguras y adaptadas para todos, sin importar sus capacidades físicas."})]}),E.jsxs("li",{children:[E.jsx("h3",{children:"💖 Valores"}),E.jsx("p",{children:"Compromiso con la inclusión, respeto por la diversidad, colaboración entre ciudadanos y transparencia en la información. En KOMUNI creemos que el acceso equitativo al espacio público es un derecho, no un privilegio."})]})]})]})};var wc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var LC=wc.exports,kb;function MC(){return kb||(kb=1,function(i,e){(function(n,o){o(e)})(LC,function(n){var o="1.9.4";function l(r){var u,d,_,S;for(d=1,_=arguments.length;d<_;d++){S=arguments[d];for(u in S)r[u]=S[u]}return r}var h=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function m(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var _=d.call(arguments,2);return function(){return r.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function w(r,u,d){var _,S,A,q;return q=function(){_=!1,S&&(A.apply(d,S),S=!1)},A=function(){_?S=arguments:(r.apply(d,arguments),setTimeout(q,u),_=!0)},A}function C(r,u,d){var _=u[1],S=u[0],A=_-S;return r===_&&d?r:((r-S)%A+A)%A+S}function O(){return!1}function N(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function Z(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function j(r){return Z(r).split(/\s+/)}function K(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function J(r,u,d){var _=[];for(var S in r)_.push(encodeURIComponent(d?S.toUpperCase():S)+"="+encodeURIComponent(r[S]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var se=/\{ *([\w_ -]+) *\}/g;function X(r,u){return r.replace(se,function(d,_){var S=u[_];if(S===void 0)throw new Error("No value provided for variable "+d);return typeof S=="function"&&(S=S(u)),S})}var ne=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function ge(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function fe(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var H=0;function R(r){var u=+new Date,d=Math.max(0,16-(u-H));return H=u+d,window.setTimeout(r,d)}var P=window.requestAnimationFrame||fe("RequestAnimationFrame")||R,B=window.cancelAnimationFrame||fe("CancelAnimationFrame")||fe("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function k(r,u,d){if(d&&P===R)r.call(u);else return P.call(window,m(r,u))}function M(r){r&&B.call(window,r)}var D={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:w,wrapNum:C,falseFn:O,formatNum:N,trim:Z,splitWords:j,setOptions:K,getParamString:J,template:X,isArray:ne,indexOf:ge,emptyImageUrl:G,requestFn:P,cancelFn:B,requestAnimFrame:k,cancelAnimFrame:M};function pe(){}pe.extend=function(r){var u=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return r.statics&&l(u,r.statics),r.includes&&(F(r.includes),l.apply(null,[_].concat(r.includes))),l(_,r),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,q=_._initHooks.length;A<q;A++)_._initHooks[A].call(this)}},u},pe.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},pe.mergeOptions=function(r){return l(this.prototype.options,r),this},pe.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function F(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=ne(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u);else{r=j(r);for(var S=0,A=r.length;S<A;S++)this._on(r[S],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],u);else{r=j(r);for(var S=arguments.length===1,A=0,q=r.length;A<q;A++)S?this._off(r[A]):this._off(r[A],u,d)}return this},_on:function(r,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var S={fn:u,ctx:d};_&&(S.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(S)}},_off:function(r,u,d){var _,S,A;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,A=_.length;S<A;S++)_[S].fn=O;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var q=this._listens(r,u,d);if(q!==!1){var ee=_[q];this._firingCount&&(ee.fn=O,this._events[r]=_=_.slice()),_.splice(q,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var _=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[r];if(S){this._firingCount=this._firingCount+1||1;for(var A=0,q=S.length;A<q;A++){var ee=S[A],he=ee.fn;ee.once&&this.off(r,he,ee.ctx),he.call(ee.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(r,u,d,_){typeof r!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(_=!!u,S=void 0,d=void 0);var A=this._events&&this._events[r];if(A&&A.length&&this._listens(r,S,d)!==!1)return!0;if(_){for(var q in this._eventParents)if(this._eventParents[q].listens(r,u,d,_))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var _=this._events[r]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var S=0,A=_.length;S<A;S++)if(_[S].fn===u&&_[S].ctx===d)return S;return!1},once:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u,!0);else{r=j(r);for(var S=0,A=r.length;S<A;S++)this._on(r[S],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var ae=pe.extend(W);function te(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var Ce=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new te(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new te(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(r){r=U(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function U(r,u,d){return r instanceof te?r:ne(r)?new te(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new te(r.x,r.y):new te(r,u,d)}function ue(r,u){if(r)for(var d=u?[r,u]:r,_=0,S=d.length;_<S;_++)this.extend(d[_])}ue.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof te||typeof r[0]=="number"||"x"in r)u=d=U(r);else if(r=we(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof te?r=U(r):r=we(r),r instanceof ue?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=we(r);var u=this.min,d=this.max,_=r.min,S=r.max,A=S.x>=u.x&&_.x<=d.x,q=S.y>=u.y&&_.y<=d.y;return A&&q},overlaps:function(r){r=we(r);var u=this.min,d=this.max,_=r.min,S=r.max,A=S.x>u.x&&_.x<d.x,q=S.y>u.y&&_.y<d.y;return A&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*r,S=Math.abs(u.y-d.y)*r;return we(U(u.x-_,u.y-S),U(d.x+_,d.y+S))},equals:function(r){return r?(r=we(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function we(r,u){return!r||r instanceof ue?r:new ue(r,u)}function ye(r,u){if(r)for(var d=u?[r,u]:r,_=0,S=d.length;_<S;_++)this.extend(d[_])}ye.prototype={extend:function(r){var u=this._southWest,d=this._northEast,_,S;if(r instanceof Re)_=r,S=r;else if(r instanceof ye){if(_=r._southWest,S=r._northEast,!_||!S)return this}else return r?this.extend(xe(r)||Te(r)):this;return!u&&!d?(this._southWest=new Re(_.lat,_.lng),this._northEast=new Re(S.lat,S.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(S.lat,d.lat),d.lng=Math.max(S.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*r,S=Math.abs(u.lng-d.lng)*r;return new ye(new Re(u.lat-_,u.lng-S),new Re(d.lat+_,d.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Re||"lat"in r?r=xe(r):r=Te(r);var u=this._southWest,d=this._northEast,_,S;return r instanceof ye?(_=r.getSouthWest(),S=r.getNorthEast()):_=S=r,_.lat>=u.lat&&S.lat<=d.lat&&_.lng>=u.lng&&S.lng<=d.lng},intersects:function(r){r=Te(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),S=r.getNorthEast(),A=S.lat>=u.lat&&_.lat<=d.lat,q=S.lng>=u.lng&&_.lng<=d.lng;return A&&q},overlaps:function(r){r=Te(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),S=r.getNorthEast(),A=S.lat>u.lat&&_.lat<d.lat,q=S.lng>u.lng&&_.lng<d.lng;return A&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=Te(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(r,u){return r instanceof ye?r:new ye(r,u)}function Re(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}Re.prototype={equals:function(r,u){if(!r)return!1;r=xe(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+N(this.lat,r)+", "+N(this.lng,r)+")"},distanceTo:function(r){return Ke.distance(this,xe(r))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return Te([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function xe(r,u,d){return r instanceof Re?r:ne(r)&&typeof r[0]!="object"?r.length===3?new Re(r[0],r[1],r[2]):r.length===2?new Re(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Re(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Re(r,u,d)}var pt={latLngToPoint:function(r,u){var d=this.projection.project(r),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(r,u){var d=this.scale(u),_=this.transformation.untransform(r,d);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),_=this.transformation.transform(u.min,d),S=this.transformation.transform(u.max,d);return new ue(_,S)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new Re(d,u,_)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,S=u.lng-d.lng;if(_===0&&S===0)return r;var A=r.getSouthWest(),q=r.getNorthEast(),ee=new Re(A.lat-_,A.lng-S),he=new Re(q.lat-_,q.lng-S);return new ye(ee,he)}},Ke=l({},pt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,_=r.lat*d,S=u.lat*d,A=Math.sin((u.lat-r.lat)*d/2),q=Math.sin((u.lng-r.lng)*d/2),ee=A*A+Math.cos(_)*Math.cos(S)*q*q,he=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*he}}),ai=6378137,Ii={R:ai,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,r.lat),-d),S=Math.sin(_*u);return new te(this.R*r.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(r){var u=180/Math.PI;return new Re((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=ai*Math.PI;return new ue([-r,-r],[r,r])}()};function li(r,u,d,_){if(ne(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=_}li.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new te((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function ui(r,u,d,_){return new li(r,u,d,_)}var es=l({},Ke,{code:"EPSG:3857",projection:Ii,transformation:function(){var r=.5/(Math.PI*Ii.R);return ui(r,.5,-r,.5)}()}),ir=l({},es,{code:"EPSG:900913"});function Zr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function oa(r,u){var d="",_,S,A,q,ee,he;for(_=0,A=r.length;_<A;_++){for(ee=r[_],S=0,q=ee.length;S<q;S++)he=ee[S],d+=(S?"L":"M")+he.x+" "+he.y;d+=u?Pe.svg?"z":"x":""}return d||"M0 0"}var On=document.documentElement.style,Wr="ActiveXObject"in window,aa=Wr&&!document.addEventListener,sr="msLaunchUri"in navigator&&!("documentMode"in document),ts=Pn("webkit"),ol=Pn("android"),rr=Pn("android 2")||Pn("android 3"),la=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),al=ol&&Pn("Google")&&la<537&&!("AudioNode"in window),Tt=!!window.opera,ot=!sr&&Pn("chrome"),In=Pn("gecko")&&!ts&&!Tt&&!Wr,ln=!ot&&Pn("safari"),ua=Pn("phantom"),ll="OTransition"in On,or=navigator.platform.indexOf("Win")===0,Rs=Wr&&"transition"in On,ns="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rr,Qn="MozPerspective"in On,Yr=!window.L_DISABLE_3D&&(Rs||ns||Qn)&&!ll&&!ua,ci=typeof orientation<"u"||Pn("mobile"),ca=ci&&ts,ha=ci&&ns,fa=!window.PointerEvent&&window.MSPointerEvent,Pi=!!(window.PointerEvent||fa),Li="ontouchstart"in window||!!window.TouchEvent,da=!window.L_NO_TOUCH&&(Li||Pi),is=ci&&Tt,pa=ci&&In,ar=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kr=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",O,u),window.removeEventListener("testPassiveEventSupport",O,u)}catch{}return r}(),Ns=function(){return!!document.createElement("canvas").getContext}(),Xr=!!(document.createElementNS&&Zr("svg").createSVGRect),xt=!!Xr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Gt=!Xr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),jt=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Pn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Pe={ie:Wr,ielt9:aa,edge:sr,webkit:ts,android:ol,android23:rr,androidStock:al,opera:Tt,chrome:ot,gecko:In,safari:ln,phantom:ua,opera12:ll,win:or,ie3d:Rs,webkit3d:ns,gecko3d:Qn,any3d:Yr,mobile:ci,mobileWebkit:ca,mobileWebkit3d:ha,msPointer:fa,pointer:Pi,touch:da,touchNative:Li,mobileOpera:is,mobileGecko:pa,retina:ar,passiveEvents:Kr,canvas:Ns,svg:Xr,vml:Gt,inlineSvg:xt,mac:jt,linux:Jn},ss=Pe.msPointer?"MSPointerDown":"pointerdown",ma=Pe.msPointer?"MSPointerMove":"pointermove",Os=Pe.msPointer?"MSPointerUp":"pointerup",Is=Pe.msPointer?"MSPointerCancel":"pointercancel",Mi={touchstart:ss,touchmove:ma,touchend:Os,touchcancel:Is},hi={touchstart:ur,touchmove:lr,touchend:lr,touchcancel:lr},yn={},un=!1;function kt(r,u,d){return u==="touchstart"&&ul(),hi[u]?(d=hi[u].bind(this,d),r.addEventListener(Mi[u],d,!1),d):(console.warn("wrong event specified:",u),O)}function ga(r,u,d){if(!Mi[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(Mi[u],d,!1)}function $r(r){yn[r.pointerId]=r}function fi(r){yn[r.pointerId]&&(yn[r.pointerId]=r)}function Di(r){delete yn[r.pointerId]}function ul(){un||(document.addEventListener(ss,$r,!0),document.addEventListener(ma,fi,!0),document.addEventListener(Os,Di,!0),document.addEventListener(Is,Di,!0),un=!0)}function lr(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in yn)u.touches.push(yn[d]);u.changedTouches=[u],r(u)}}function ur(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&vt(u),lr(r,u)}function cl(r){var u={},d,_;for(_ in r)d=r[_],u[_]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Ps=200;function ki(r,u){r.addEventListener("dblclick",u);var d=0,_;function S(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var q=eo(A);if(!(q.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!q.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var ee=Date.now();ee-d<=Ps?(_++,_===2&&u(cl(A))):_=1,d=ee}}}return r.addEventListener("click",S),{dblclick:u,simDblclick:S}}function tn(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var rs=di(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ls=di(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Ls==="webkitTransition"||Ls==="OTransition"?Ls+"End":"transitionend";function cr(r){return typeof r=="string"?document.getElementById(r):r}function Ui(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);d=_?_[u]:null}return d==="auto"?null:d}function Ze(r,u,d){var _=document.createElement(r);return _.className=u||"",d&&d.appendChild(_),_}function ft(r){var u=r.parentNode;u&&u.removeChild(r)}function Kt(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ji(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Ms(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ds(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Pt(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qe(r,u){if(r.classList!==void 0)for(var d=j(u),_=0,S=d.length;_<S;_++)r.classList.add(d[_]);else if(!Ds(r,u)){var A=Pt(r);_a(r,(A?A+" ":"")+u)}}function mt(r,u){r.classList!==void 0?r.classList.remove(u):_a(r,Z((" "+Pt(r)+" ").replace(" "+u+" "," ")))}function _a(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Pt(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ct(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&hr(r,u)}function hr(r,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+_+"(opacity="+u+")"}function di(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function bn(r,u,d){var _=u||new te(0,0);r.style[rs]=(Pe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ze(r,u){r._leaflet_pos=u,Pe.any3d?bn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Bn(r){return r._leaflet_pos||new te(0,0)}var cn,pi,Qr;if("onselectstart"in document)cn=function(){Me(window,"selectstart",vt)},pi=function(){tt(window,"selectstart",vt)};else{var os=di(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cn=function(){if(os){var r=document.documentElement.style;Qr=r[os],r[os]="none"}},pi=function(){os&&(document.documentElement.style[os]=Qr,Qr=void 0)}}function fr(){Me(window,"dragstart",vt)}function va(){tt(window,"dragstart",vt)}var Jr,ks;function mi(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(wn(),Jr=r,ks=r.style.outlineStyle,r.style.outlineStyle="none",Me(window,"keydown",wn))}function wn(){Jr&&(Jr.style.outlineStyle=ks,Jr=void 0,ks=void 0,tt(window,"keydown",wn))}function Bi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function gi(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var ya={__proto__:null,TRANSFORM:rs,TRANSITION:Ls,TRANSITION_END:zi,get:cr,getStyle:Ui,create:Ze,remove:ft,empty:Kt,toFront:ji,toBack:Ms,hasClass:Ds,addClass:qe,removeClass:mt,setClass:_a,getClass:Pt,setOpacity:Ct,testProp:di,setTransform:bn,setPosition:ze,getPosition:Bn,get disableTextSelection(){return cn},get enableTextSelection(){return pi},disableImageDrag:fr,enableImageDrag:va,preventOutline:mi,restoreOutline:wn,getSizedParentNode:Bi,getScale:gi};function Me(r,u,d,_){if(u&&typeof u=="object")for(var S in u)as(r,S,u[S],d);else{u=j(u);for(var A=0,q=u.length;A<q;A++)as(r,u[A],d,_)}return this}var Hn="_leaflet_events";function tt(r,u,d,_){if(arguments.length===1)ei(r),delete r[Hn];else if(u&&typeof u=="object")for(var S in u)ti(r,S,u[S],d);else if(u=j(u),arguments.length===2)ei(r,function(ee){return ge(u,ee)!==-1});else for(var A=0,q=u.length;A<q;A++)ti(r,u[A],d,_);return this}function ei(r,u){for(var d in r[Hn]){var _=d.split(/\d/)[0];(!u||u(_))&&ti(r,_,null,null,d)}}var Ln={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function as(r,u,d,_){var S=u+y(d)+(_?"_"+y(_):"");if(r[Hn]&&r[Hn][S])return this;var A=function(ee){return d.call(_||r,ee||window.event)},q=A;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?A=kt(r,u,A):Pe.touch&&u==="dblclick"?A=ki(r,A):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Ln[u]||u,A,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(ee){ee=ee||window.event,us(r,ee)&&q(ee)},r.addEventListener(Ln[u],A,!1)):r.addEventListener(u,q,!1):r.attachEvent("on"+u,A),r[Hn]=r[Hn]||{},r[Hn][S]=A}function ti(r,u,d,_,S){S=S||u+y(d)+(_?"_"+y(_):"");var A=r[Hn]&&r[Hn][S];if(!A)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?ga(r,u,A):Pe.touch&&u==="dblclick"?tn(r,A):"removeEventListener"in r?r.removeEventListener(Ln[u]||u,A,!1):r.detachEvent("on"+u,A),r[Hn][S]=null}function Mn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function _i(r){return as(r,"wheel",Mn),this}function ls(r){return Me(r,"mousedown touchstart dblclick contextmenu",Mn),r._leaflet_disable_click=!0,this}function vt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function hn(r){return vt(r),Mn(r),this}function eo(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function Zt(r,u){if(!u)return new te(r.clientX,r.clientY);var d=gi(u),_=d.boundingClientRect;return new te((r.clientX-_.left)/d.x-u.clientLeft,(r.clientY-_.top)/d.y-u.clientTop)}var ct=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dr(r){return Pe.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/ct:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function us(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var hl={__proto__:null,on:Me,off:tt,stopPropagation:Mn,disableScrollPropagation:_i,disableClickPropagation:ls,preventDefault:vt,stop:hn,getPropagationPath:eo,getMousePosition:Zt,getWheelDelta:dr,isExternalTarget:us,addListener:Me,removeListener:tt},pr=ae.extend({run:function(r,u,d,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Bn(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),ze(this._el,d),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ve=ae.extend({options:{crs:es,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=K(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(xe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ls&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(xe(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var _=this.getZoomScale(u),S=this.getSize().divideBy(2),A=r instanceof te?r:this.latLngToContainerPoint(r),q=A.subtract(S).multiplyBy(1-1/_),ee=this.containerPointToLatLng(S.add(q));return this.setView(ee,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():Te(r);var d=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(r,!1,d.add(_));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:r.getCenter(),zoom:S};var A=_.subtract(d).divideBy(2),q=this.project(r.getSouthWest(),S),ee=this.project(r.getNorthEast(),S),he=this.unproject(q.add(ee).divideBy(2).add(A),S);return{center:he,zoom:S}},fitBounds:function(r,u){if(r=Te(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=U(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qe(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Pe.any3d)return this.setView(r,u,d);this._stop();var _=this.project(this.getCenter()),S=this.project(r),A=this.getSize(),q=this._zoom;r=xe(r),u=u===void 0?q:u;var ee=Math.max(A.x,A.y),he=ee*this.getZoomScale(q,u),be=S.distanceTo(_)||1,Ae=1.42,Ne=Ae*Ae;function Ie(Lt){var Gi=Lt?-1:1,ms=Lt?he:ee,Vs=he*he-ee*ee+Gi*Ne*Ne*be*be,gs=2*ms*Ne*be,Ma=Vs/gs,El=Math.sqrt(Ma*Ma+1)-Ma,Da=El<1e-9?-18:Math.log(El);return Da}function Be(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Rt(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function zt(Lt){return Be(Lt)/Rt(Lt)}var dn=Ie(0);function ni(Lt){return ee*(Rt(dn)/Rt(dn+Ae*Lt))}function gh(Lt){return ee*(Rt(dn)*zt(dn+Ae*Lt)-Be(dn))/Ne}function _h(Lt){return 1-Math.pow(1-Lt,1.5)}var La=Date.now(),yo=(Ie(1)-dn)/Ae,vh=d.duration?1e3*d.duration:1e3*yo*.8;function bo(){var Lt=(Date.now()-La)/vh,Gi=_h(Lt)*yo;Lt<=1?(this._flyToFrame=k(bo,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(gh(Gi)/be)),q),this.getScaleZoom(ee/ni(Gi),q),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),bo.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=Te(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,Te(r));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),A=this.project(r),q=this.getPixelBounds(),ee=we([q.min.add(d),q.max.subtract(_)]),he=ee.getSize();if(!ee.contains(A)){this._enforcingBounds=!0;var be=A.subtract(ee.getCenter()),Ae=ee.extend(A).getSize().subtract(he);S.x+=be.x<0?-Ae.x:Ae.x,S.y+=be.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),S=d.divideBy(2).round(),A=_.subtract(S);return!A.x&&!A.y?this:(r.animate&&r.pan?this.panBy(A):(r.pan&&this._rawPanBy(A),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,_=new Re(u,d),S=_.toBounds(r.coords.accuracy*2),A=this._locateOptions;if(A.setView){var q=this.getBoundsZoom(S);this.setView(_,A.maxZoom?Math.min(q,A.maxZoom):q)}var ee={latlng:_,bounds:S,timestamp:r.timestamp};for(var he in r.coords)typeof r.coords[he]=="number"&&(ee[he]=r.coords[he]);this.fire("locationfound",ee)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ft(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Ze("div",d,u||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ye(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=Te(r),d=U(d||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),A=this.getMaxZoom(),q=r.getNorthWest(),ee=r.getSouthEast(),he=this.getSize().subtract(d),be=we(this.project(ee,_),this.project(q,_)).getSize(),Ae=Pe.any3d?this.options.zoomSnap:1,Ne=he.x/be.x,Ie=he.y/be.y,Be=u?Math.max(Ne,Ie):Math.min(Ne,Ie);return _=this.getScaleZoom(Be,_),Ae&&(_=Math.round(_/(Ae/100))*(Ae/100),_=u?Math.ceil(_/Ae)*Ae:Math.floor(_/Ae)*Ae),Math.max(S,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new ue(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(r*d.scale(u));return isNaN(_)?1/0:_},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(xe(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(U(r),u)},layerPointToLatLng:function(r){var u=U(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(xe(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(xe(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Te(r))},distance:function(r,u){return this.options.crs.distance(xe(r),xe(u))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(r)))},mouseEventToContainerPoint:function(r){return Zt(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=cr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,qe(r,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ze(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qe(r.markerPane,"leaflet-zoom-hide"),qe(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){ze(this._mapPane,new te(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,d)._move(r,u)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,_){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?d&&d.pinch&&this.fire("zoom",d):((S||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ze(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var u=r?tt:Me;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],_,S=u==="mouseout"||u==="mouseover",A=r.target||r.srcElement,q=!1;A;){if(_=this._targets[y(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){q=!0;break}if(_&&_.listens(u,!0)&&(S&&!us(A,r)||(d.push(_),S))||A===this._container)break;A=A.parentNode}return!d.length&&!q&&!S&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&mi(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var _=l({},r);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var S=this._findEventTargets(r,u);if(d){for(var A=[],q=0;q<d.length;q++)d[q].listens(u,!0)&&A.push(d[q]);S=A.concat(S)}if(S.length){u==="contextmenu"&&vt(r);var ee=S[0],he={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var be=ee.getLatLng&&(!ee._radius||ee._radius<=10);he.containerPoint=be?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(r),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=be?ee.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(u,he,!0),he.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&ge(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Bn(this._mapPane)||new te(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return we([this.project(r.getSouthWest(),u)._subtract(_),this.project(r.getNorthWest(),u)._subtract(_),this.project(r.getSouthEast(),u)._subtract(_),this.project(r.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var _=this.project(r,u),S=this.getSize().divideBy(2),A=new ue(_.subtract(S),_.add(S)),q=this._getBoundsOffset(A,d,u);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(_.add(q),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),_=new ue(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(r,u,d){var _=we(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),S=_.min.subtract(r.min),A=_.max.subtract(r.max),q=this._rebound(S.x,-A.x),ee=this._rebound(S.y,-A.y);return new te(q,ee)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Pe.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=rs,_=this._proxy.style[d];bn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();bn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),S=this._getCenterOffset(r)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(S)?!1:(k(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hi(r,u){return new Ve(r,u)}var nn=pe.extend({options:{position:"topright"},initialize:function(r){K(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),_=r._controlCorners[d];return qe(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),fn=function(r){return new nn(r)};Ve.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Ze("div",u+"control-container",this._container);function _(S,A){var q=u+S+" "+u+A;r[S+A]=Ze("div",q,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ft(this._controlCorners[r]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ba=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(r,u,d){K(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Ze("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ls(u),_i(u);var _=this._section=Ze("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Me(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Ze("a",r+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Me(S,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){vt(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ze("div",r+"-base",_),this._separator=Ze("div",r+"-separator",_),this._overlaysList=Ze("div",r+"-overlays",_),u.appendChild(_)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kt(this._baseLayersList),Kt(this._overlaysList),this._layerControlInputs=[];var r,u,d,_,S=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,r=r||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&S>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(y(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(r.layer),Me(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+r.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(S);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,_=[],S=[];this._handlingClick=!0;for(var A=r.length-1;A>=0;A--)u=r[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||S.push(d);for(A=0;A<S.length;A++)this._map.hasLayer(S[A])&&this._map.removeLayer(S[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,_=this._map.getZoom(),S=r.length-1;S>=0;S--)u=r[S],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Me(r,"click",vt),this.expand();var u=this;setTimeout(function(){tt(r,"click",vt),u._preventClick=!1})}}),vu=function(r,u,d){return new ba(r,u,d)},cs=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Ze("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,_,S){var A=Ze("a",d,_);return A.innerHTML=r,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),ls(A),Me(A,"click",hn),Me(A,"click",S,this),Me(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";mt(this._zoomInButton,u),mt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cs,this.addControl(this.zoomControl))});var to=function(r){return new cs(r)},no=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Ze("div",u),_=this.options;return this._addScales(_,u+"-line",d),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Ze("div",u,d)),r.imperial&&(this._iScale=Ze("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,_,S;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),io=function(r){return new no(r)},fl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zs=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?fl+" ":"")+"Leaflet</a>"},initialize:function(r){K(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),ls(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&new zs().addTo(this)});var yu=function(r){return new zs(r)};nn.Layers=ba,nn.Zoom=cs,nn.Scale=no,nn.Attribution=zs,fn.layers=vu,fn.zoom=to,fn.scale=io,fn.attribution=yu;var Dn=pe.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(r,u){return r.addHandler(u,this),this};var mr={Events:W},wa=Pe.touch?"touchstart mousedown":"mousedown",vi=ae.extend({options:{clickTolerance:3},initialize:function(r,u,d,_){K(this,_),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Me(this._dragStartTarget,wa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vi._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,wa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ds(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){vi._dragging===this&&this.finishDrag();return}if(!(vi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(vi._dragging=this,this._preventOutline&&mi(this._element),fr(),cn(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=Bi(this._element);this._startPoint=new te(u.clientX,u.clientY),this._startPos=Bn(this._element),this._parentScale=gi(d);var _=r.type==="mousedown";Me(document,_?"mousemove":"touchmove",this._onMove,this),Me(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new te(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,vt(r),this._moved||(this.fire("dragstart"),this._moved=!0,qe(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ze(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),va(),pi();var u=this._moved&&this._moving;this._moving=!1,vi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function so(r,u,d){var _,S=[1,4,2,8],A,q,ee,he,be,Ae,Ne,Ie;for(A=0,Ae=r.length;A<Ae;A++)r[A]._code=qi(r[A],u);for(ee=0;ee<4;ee++){for(Ne=S[ee],_=[],A=0,Ae=r.length,q=Ae-1;A<Ae;q=A++)he=r[A],be=r[q],he._code&Ne?be._code&Ne||(Ie=gr(be,he,Ne,u,d),Ie._code=qi(Ie,u),_.push(Ie)):(be._code&Ne&&(Ie=gr(be,he,Ne,u,d),Ie._code=qi(Ie,u),_.push(Ie)),_.push(he));r=_}return r}function Us(r,u){var d,_,S,A,q,ee,he,be,Ae;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ne=xe([0,0]),Ie=Te(r),Be=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Be<1700&&(Ne=ro(r));var Rt=r.length,zt=[];for(d=0;d<Rt;d++){var dn=xe(r[d]);zt.push(u.project(xe([dn.lat-Ne.lat,dn.lng-Ne.lng])))}for(ee=he=be=0,d=0,_=Rt-1;d<Rt;_=d++)S=zt[d],A=zt[_],q=S.y*A.x-A.y*S.x,he+=(S.x+A.x)*q,be+=(S.y+A.y)*q,ee+=q*3;ee===0?Ae=zt[0]:Ae=[he/ee,be/ee];var ni=u.unproject(U(Ae));return xe([ni.lat+Ne.lat,ni.lng+Ne.lng])}function ro(r){for(var u=0,d=0,_=0,S=0;S<r.length;S++){var A=xe(r[S]);u+=A.lat,d+=A.lng,_++}return xe([u/_,d/_])}var oo={__proto__:null,clipPolygon:so,polygonCenter:Us,centroid:ro};function Sa(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=pl(r,d),r=dl(r,d),r}function ao(r,u,d){return Math.sqrt(f(r,u,d,!0))}function hs(r,u,d){return f(r,u,d)}function dl(r,u){var d=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,S=new _(d);S[0]=S[d-1]=1,lo(r,S,u,0,d-1);var A,q=[];for(A=0;A<d;A++)S[A]&&q.push(r[A]);return q}function lo(r,u,d,_,S){var A=0,q,ee,he;for(ee=_+1;ee<=S-1;ee++)he=f(r[ee],r[_],r[S],!0),he>A&&(q=ee,A=he);A>d&&(u[q]=1,lo(r,u,d,_,q),lo(r,u,d,q,S))}function pl(r,u){for(var d=[r[0]],_=1,S=0,A=r.length;_<A;_++)js(r[_],r[S])>u&&(d.push(r[_]),S=_);return S<A-1&&d.push(r[A-1]),d}var Ea;function Sn(r,u,d,_,S){var A=_?Ea:qi(r,d),q=qi(u,d),ee,he,be;for(Ea=q;;){if(!(A|q))return[r,u];if(A&q)return!1;ee=A||q,he=gr(r,u,ee,d,S),be=qi(he,d),ee===A?(r=he,A=be):(u=he,q=be)}}function gr(r,u,d,_,S){var A=u.x-r.x,q=u.y-r.y,ee=_.min,he=_.max,be,Ae;return d&8?(be=r.x+A*(he.y-r.y)/q,Ae=he.y):d&4?(be=r.x+A*(ee.y-r.y)/q,Ae=ee.y):d&2?(be=he.x,Ae=r.y+q*(he.x-r.x)/A):d&1&&(be=ee.x,Ae=r.y+q*(ee.x-r.x)/A),new te(be,Ae,S)}function qi(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function js(r,u){var d=u.x-r.x,_=u.y-r.y;return d*d+_*_}function f(r,u,d,_){var S=u.x,A=u.y,q=d.x-S,ee=d.y-A,he=q*q+ee*ee,be;return he>0&&(be=((r.x-S)*q+(r.y-A)*ee)/he,be>1?(S=d.x,A=d.y):be>0&&(S+=q*be,A+=ee*be)),q=r.x-S,ee=r.y-A,_?q*q+ee*ee:new te(S,A)}function b(r){return!ne(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function T(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),b(r)}function z(r,u){var d,_,S,A,q,ee,he,be;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ae=xe([0,0]),Ne=Te(r),Ie=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());Ie<1700&&(Ae=ro(r));var Be=r.length,Rt=[];for(d=0;d<Be;d++){var zt=xe(r[d]);Rt.push(u.project(xe([zt.lat-Ae.lat,zt.lng-Ae.lng])))}for(d=0,_=0;d<Be-1;d++)_+=Rt[d].distanceTo(Rt[d+1])/2;if(_===0)be=Rt[0];else for(d=0,A=0;d<Be-1;d++)if(q=Rt[d],ee=Rt[d+1],S=q.distanceTo(ee),A+=S,A>_){he=(A-_)/S,be=[ee.x-he*(ee.x-q.x),ee.y-he*(ee.y-q.y)];break}var dn=u.unproject(U(be));return xe([dn.lat+Ae.lat,dn.lng+Ae.lng])}var ie={__proto__:null,simplify:Sa,pointToSegmentDistance:ao,closestPointOnSegment:hs,clipSegment:Sn,_getEdgeIntersection:gr,_getBitCode:qi,_sqClosestPointOnSegment:f,isFlat:b,_flat:T,polylineCenter:z},de={project:function(r){return new te(r.lng,r.lat)},unproject:function(r){return new Re(r.y,r.x)},bounds:new ue([-180,-90],[180,90])},Se={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,_=r.lat*u,S=this.R_MINOR/d,A=Math.sqrt(1-S*S),q=A*Math.sin(_),ee=Math.tan(Math.PI/4-_/2)/Math.pow((1-q)/(1+q),A/2);return _=-d*Math.log(Math.max(ee,1e-10)),new te(r.lng*u*d,_)},unproject:function(r){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,S=Math.sqrt(1-_*_),A=Math.exp(-r.y/d),q=Math.PI/2-2*Math.atan(A),ee=0,he=.1,be;ee<15&&Math.abs(he)>1e-7;ee++)be=S*Math.sin(q),be=Math.pow((1-be)/(1+be),S/2),he=Math.PI/2-2*Math.atan(A*be)-q,q+=he;return new Re(q*u,r.x*u/d)}},at={__proto__:null,LonLat:de,Mercator:Se,SphericalMercator:Ii},At=l({},Ke,{code:"EPSG:3395",projection:Se,transformation:function(){var r=.5/(Math.PI*Se.R);return ui(r,.5,-r,.5)}()}),Xe=l({},Ke,{code:"EPSG:4326",projection:de,transformation:ui(1/180,1,-1/180,.5)}),Xt=l({},pt,{projection:de,transformation:ui(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,_=u.lat-r.lat;return Math.sqrt(d*d+_*_)},infinite:!0});pt.Earth=Ke,pt.EPSG3395=At,pt.EPSG3857=es,pt.EPSG900913=ir,pt.EPSG4326=Xe,pt.Simple=Xt;var dt=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=y(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?ne(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=y(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;r=S.minZoom===void 0?r:Math.min(r,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=dt.extend({initialize:function(r,u){K(this,u),this._layers={};var d,_;if(r)for(d=0,_=r.length;d<_;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[r]&&_[r].apply(_,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),zn=function(r,u){return new kn(r,u)},$t=kn.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),kn.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),kn.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ye;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),fs=function(r,u){return new $t(r,u)},uo=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){K(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var S=U(_),A=U(u==="shadow"&&d.shadowAnchor||d.iconAnchor||S&&S.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),A&&(r.style.marginLeft=-A.x+"px",r.style.marginTop=-A.y+"px"),S&&(r.style.width=S.x+"px",r.style.height=S.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Pe.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ml(r){return new uo(r)}var co=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof co.imagePath!="string"&&(co.imagePath=this._detectIconPath()),(this.options.imagePath||co.imagePath)+uo.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,_,S){var A=_.exec(d);return A&&A[S]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ze("div","leaflet-default-icon-path",document.body),u=Ui(r,"background-image")||Ui(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),bu=Dn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new vi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qe(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,A=Bn(u._icon),q=d.getPixelBounds(),ee=d.getPixelOrigin(),he=we(q.min._subtract(ee).add(S),q.max._subtract(ee).subtract(S));if(!he.contains(A)){var be=U((Math.max(he.max.x,A.x)-he.max.x)/(q.max.x-he.max.x)-(Math.min(he.min.x,A.x)-he.min.x)/(q.min.x-he.min.x),(Math.max(he.max.y,A.y)-he.max.y)/(q.max.y-he.max.y)-(Math.min(he.min.y,A.y)-he.min.y)/(q.min.y-he.min.y)).multiplyBy(_);d.panBy(be,{animate:!1}),this._draggable._newPos._add(be),this._draggable._startPos._add(be),ze(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=k(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,_=Bn(u._icon),S=u._map.layerPointToLatLng(_);d&&ze(d,_),u._latlng=S,r.latlng=S,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ho=dt.extend({options:{icon:new co,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){K(this,u),this._latlng=xe(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=xe(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),qe(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(d,"focus",this._panOnFocus,this);var S=r.icon.createShadow(this._shadow),A=!1;S!==this._shadow&&(this._removeShadow(),A=!0),S&&(qe(S,u),S.alt=""),this._shadow=S,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&A&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ze(this._icon,r),this._shadow&&ze(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ct(this._icon,r),this._shadow&&Ct(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?U(u.iconSize):U(0,0),_=u.iconAnchor?U(u.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wu(r,u){return new ho(r,u)}var ds=dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return K(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ta=ds.extend({options:{fill:!0,radius:10},initialize:function(r,u){K(this,u),this._latlng=xe(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=xe(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return ds.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),_=[r+d,u+d];this._pxBounds=new ue(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ch(r,u){return new Ta(r,u)}var Su=Ta.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),K(this,u),this._latlng=xe(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ds.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Ke.distance){var S=Math.PI/180,A=this._mRadius/Ke.R/S,q=d.project([u+A,r]),ee=d.project([u-A,r]),he=q.add(ee).divideBy(2),be=d.unproject(he).lat,Ae=Math.acos((Math.cos(A*S)-Math.sin(u*S)*Math.sin(be*S))/(Math.cos(u*S)*Math.cos(be*S)))/S;(isNaN(Ae)||Ae===0)&&(Ae=A/Math.cos(Math.PI/180*u)),this._point=he.subtract(d.getPixelOrigin()),this._radius=isNaN(Ae)?0:he.x-d.project([be,r-Ae]).x,this._radiusY=he.y-q.y}else{var Ne=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ne).x}this._updateBounds()}});function Td(r,u,d){return new Su(r,u,d)}var ps=ds.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){K(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,_=f,S,A,q=0,ee=this._parts.length;q<ee;q++)for(var he=this._parts[q],be=1,Ae=he.length;be<Ae;be++){S=he[be-1],A=he[be];var Ne=_(r,S,A,!0);Ne<u&&(u=Ne,d=_(r,S,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return z(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=xe(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ye,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return b(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=b(r),_=0,S=r.length;_<S;_++)d?(u[_]=xe(r[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(r[_]);return u},_project:function(){var r=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new te(r,r);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var _=r[0]instanceof Re,S=r.length,A,q;if(_){for(q=[],A=0;A<S;A++)q[A]=this._map.latLngToLayerPoint(r[A]),d.extend(q[A]);u.push(q)}else for(A=0;A<S;A++)this._projectLatlngs(r[A],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,S,A,q,ee,he;for(d=0,S=0,A=this._rings.length;d<A;d++)for(he=this._rings[d],_=0,q=he.length;_<q-1;_++)ee=Sn(he[_],he[_+1],r,_,!0),ee&&(u[S]=u[S]||[],u[S].push(ee[0]),(ee[1]!==he[_+1]||_===q-2)&&(u[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,_=r.length;d<_;d++)r[d]=Sa(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,_,S,A,q,ee,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,A=this._parts.length;d<A;d++)for(ee=this._parts[d],_=0,q=ee.length,S=q-1;_<q;S=_++)if(!(!u&&_===0)&&ao(r,ee[S],ee[_])<=he)return!0;return!1}});function xd(r,u){return new ps(r,u)}ps._flat=T;var fo=ps.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Us(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=ps.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof Re&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){ps.prototype._setLatLngs.call(this,r),b(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return b(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new te(u,u);if(r=new ue(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,A;_<S;_++)A=so(this._rings[_],r,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,_,S,A,q,ee,he,be;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(A=0,he=this._parts.length;A<he;A++)for(d=this._parts[A],q=0,be=d.length,ee=be-1;q<be;ee=q++)_=d[q],S=d[ee],_.y>r.y!=S.y>r.y&&r.x<(S.x-_.x)*(r.y-_.y)/(S.y-_.y)+_.x&&(u=!u);return u||ps.prototype._containsPoint.call(this,r,!0)}});function qn(r,u){return new fo(r,u)}var Vn=$t.extend({initialize:function(r,u){K(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=ne(r)?r:r.features,d,_,S;if(u){for(d=0,_=u.length;d<_;d++)S=u[d],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var A=this.options;if(A.filter&&!A.filter(r))return this;var q=xa(r,A);return q?(q.feature=po(r),q.defaultOptions=q.options,this.resetStyle(q),A.onEachFeature&&A.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function xa(r,u){var d=r.type==="Feature"?r.geometry:r,_=d?d.coordinates:null,S=[],A=u&&u.pointToLayer,q=u&&u.coordsToLatLng||gl,ee,he,be,Ae;if(!_&&!d)return null;switch(d.type){case"Point":return ee=q(_),Eu(A,r,ee,u);case"MultiPoint":for(be=0,Ae=_.length;be<Ae;be++)ee=q(_[be]),S.push(Eu(A,r,ee,u));return new $t(S);case"LineString":case"MultiLineString":return he=Ca(_,d.type==="LineString"?0:1,q),new ps(he,u);case"Polygon":case"MultiPolygon":return he=Ca(_,d.type==="Polygon"?1:2,q),new fo(he,u);case"GeometryCollection":for(be=0,Ae=d.geometries.length;be<Ae;be++){var Ne=xa({geometry:d.geometries[be],type:"Feature",properties:r.properties},u);Ne&&S.push(Ne)}return new $t(S);case"FeatureCollection":for(be=0,Ae=d.features.length;be<Ae;be++){var Ie=xa(d.features[be],u);Ie&&S.push(Ie)}return new $t(S);default:throw new Error("Invalid GeoJSON object.")}}function Eu(r,u,d,_){return r?r(u,d):new ho(d,_&&_.markersInheritOptions&&_)}function gl(r){return new Re(r[1],r[0],r[2])}function Ca(r,u,d){for(var _=[],S=0,A=r.length,q;S<A;S++)q=u?Ca(r[S],u-1,d):(d||gl)(r[S]),_.push(q);return _}function Aa(r,u){return r=xe(r),r.alt!==void 0?[N(r.lng,u),N(r.lat,u),N(r.alt,u)]:[N(r.lng,u),N(r.lat,u)]}function _l(r,u,d,_){for(var S=[],A=0,q=r.length;A<q;A++)S.push(u?_l(r[A],b(r[A])?0:u-1,d,_):Aa(r[A],_));return!u&&d&&S.length>0&&S.push(S[0].slice()),S}function yi(r,u){return r.feature?l({},r.feature,{geometry:u}):po(u)}function po(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var _r={toGeoJSON:function(r){return yi(this,{type:"Point",coordinates:Aa(this.getLatLng(),r)})}};ho.include(_r),Su.include(_r),Ta.include(_r),ps.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=_l(this._latlngs,u?1:0,!1,r);return yi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),fo.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=u&&!b(this._latlngs[0]),_=_l(this._latlngs,d?2:u?1:0,!0,r);return u||(_=[_]),yi(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),kn.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),yi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var A=S.toGeoJSON(r);if(d)_.push(A.geometry);else{var q=po(A);q.type==="FeatureCollection"?_.push.apply(_,q.features):_.push(q)}}}),d?yi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function vl(r,u){return new Vn(r,u)}var hh=vl,Vi=dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=Te(u),K(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&ji(this._image),this},bringToBack:function(){return this._map&&Ms(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Te(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Ze("img");if(qe(u,"leaflet-image-layer"),this._zoomAnimated&&qe(u,"leaflet-zoom-animated"),this.options.className&&qe(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;bn(this._image,d,u)},_reset:function(){var r=this._image,u=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ze(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),mo=function(r,u,d){return new Vi(r,u,d)},yl=Vi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Ze("video");if(qe(u,"leaflet-image-layer"),this._zoomAnimated&&qe(u,"leaflet-zoom-animated"),this.options.className&&qe(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onloadeddata=m(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),_=[],S=0;S<d.length;S++)_.push(d[S].src);this._url=d.length>0?_:[u.src];return}ne(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var q=Ze("source");q.src=this._url[A],u.appendChild(q)}}});function fh(r,u,d){return new yl(r,u,d)}var Bs=Vi.extend({_initImage:function(){var r=this._image=this._url;qe(r,"leaflet-image-layer"),this._zoomAnimated&&qe(r,"leaflet-zoom-animated"),this.options.className&&qe(r,this.options.className),r.onselectstart=O,r.onmousemove=O}});function dh(r,u,d){return new Bs(r,u,d)}var bi=dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Re||ne(r))?(this._latlng=xe(r),K(this,u)):(K(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(m(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=xe(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ji(this._container),this},bringToBack:function(){return this._map&&Ms(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof $t){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=U(this.options.offset),d=this._getAnchor();this._zoomAnimated?ze(this._container,r.add(d)):u=u.add(r).add(d);var _=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Ve.include({_initOverlay:function(r,u,d,_){var S=u;return S instanceof r||(S=new r(_).setContent(u)),d&&S.setLatLng(d),S}}),dt.include({_initOverlay:function(r,u,d,_){var S=d;return S instanceof r?(K(S,_),S._source=this):(S=u&&!_?u:new r(_,this),S.setContent(d)),S}});var Ra=bi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,bi.prototype.openOn.call(this,r)},onAdd:function(r){bi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ds||this._source.on("preclick",Mn))},onRemove:function(r){bi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ds||this._source.off("preclick",Mn))},getEvents:function(){var r=bi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ze("div",r+"-content-wrapper",u);if(this._contentNode=Ze("div",r+"-content",d),ls(u),_i(this._contentNode),Me(u,"contextmenu",Mn),this._tipContainer=Ze("div",r+"-tip-container",u),this._tip=Ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ze("a",r+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Me(_,"click",function(S){vt(S),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=r.offsetHeight,S=this.options.maxHeight,A="leaflet-popup-scrolled";S&&_>S?(u.height=S+"px",qe(r,A)):mt(r,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();ze(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,S=new te(this._containerLeft,-d-this._containerBottom);S._add(Bn(this._container));var A=r.layerPointToContainerPoint(S),q=U(this.options.autoPanPadding),ee=U(this.options.autoPanPaddingTopLeft||q),he=U(this.options.autoPanPaddingBottomRight||q),be=r.getSize(),Ae=0,Ne=0;A.x+_+he.x>be.x&&(Ae=A.x+_-be.x+he.x),A.x-Ae-ee.x<0&&(Ae=A.x-ee.x),A.y+d+he.y>be.y&&(Ne=A.y+d-be.y+he.y),A.y-Ne-ee.y<0&&(Ne=A.y-ee.y),(Ae||Ne)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ae,Ne]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cd=function(r,u){return new Ra(r,u)};Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(r,u,d){return this._initOverlay(Ra,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),dt.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Ra,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){hn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof ds)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var bl=bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){bi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){bi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=bi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,_=this._map,S=this._container,A=_.latLngToContainerPoint(_.getCenter()),q=_.layerPointToContainerPoint(r),ee=this.options.direction,he=S.offsetWidth,be=S.offsetHeight,Ae=U(this.options.offset),Ne=this._getAnchor();ee==="top"?(u=he/2,d=be):ee==="bottom"?(u=he/2,d=0):ee==="center"?(u=he/2,d=be/2):ee==="right"?(u=0,d=be/2):ee==="left"?(u=he,d=be/2):q.x<A.x?(ee="right",u=0,d=be/2):(ee="left",u=he+(Ae.x+Ne.x)*2,d=be/2),r=r.subtract(U(u,d,!0)).add(Ae).add(Ne),mt(S,"leaflet-tooltip-right"),mt(S,"leaflet-tooltip-left"),mt(S,"leaflet-tooltip-top"),mt(S,"leaflet-tooltip-bottom"),qe(S,"leaflet-tooltip-"+ee),ze(S,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ct(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ad=function(r,u){return new bl(r,u)};Ve.include({openTooltip:function(r,u,d){return this._initOverlay(bl,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),dt.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(bl,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Me(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Me(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,_;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Tu=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Kt(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=U(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function ph(r){return new Tu(r)}uo.Default=co;var vr=dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){K(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ft(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof te?r:new te(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),_=0,S=u.length,A;_<S;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=r(d,+A));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Ct(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var A=Math.min(1,(r-S.loaded)/200);Ct(S.el,A),A<1?u=!0:(S.active?d=!0:this._onOpaqueTile(S),S.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(M(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(ft(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[r],S=this._map;return _||(_=this._levels[r]={},_.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=S.project(S.unproject(S.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,S.getCenter(),S.getZoom()),O(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ft(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,_){var S=Math.floor(r/2),A=Math.floor(u/2),q=d-1,ee=new te(+S,+A);ee.z=+q;var he=this._tileCoordsToKey(ee),be=this._tiles[he];return be&&be.active?(be.retain=!0,!0):(be&&be.loaded&&(be.retain=!0),q>_?this._retainParent(S,A,q,_):!1)},_retainChildren:function(r,u,d,_){for(var S=2*r;S<2*r+2;S++)for(var A=2*u;A<2*u+2;A++){var q=new te(S,A);q.z=d+1;var ee=this._tileCoordsToKey(q),he=this._tiles[ee];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);d+1<_&&this._retainChildren(S,A,d+1,_)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,_){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var A=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||A)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var _=this._map.getZoomScale(d,r.zoom),S=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Pe.any3d?bn(r.el,S,_):ze(r.el,S)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),S=u.project(r,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new ue(S.subtract(A),S.add(A))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),S=this._pxBoundsToTileRange(_),A=S.getCenter(),q=[],ee=this.options.keepBuffer,he=new ue(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var be in this._tiles){var Ae=this._tiles[be].coords;(Ae.z!==this._tileZoom||!he.contains(new te(Ae.x,Ae.y)))&&(this._tiles[be].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Ne=S.min.y;Ne<=S.max.y;Ne++)for(var Ie=S.min.x;Ie<=S.max.x;Ie++){var Be=new te(Ie,Ne);if(Be.z=this._tileZoom,!!this._isValidTile(Be)){var Rt=this._tiles[this._tileCoordsToKey(Be)];Rt?Rt.current=!0:q.push(Be)}}if(q.sort(function(dn,ni){return dn.distanceTo(A)-ni.distanceTo(A)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zt=document.createDocumentFragment();for(Ie=0;Ie<q.length;Ie++)this._addTile(q[Ie],zt);this._level.el.appendChild(zt)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return Te(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),_=r.scaleBy(d),S=_.add(d),A=u.unproject(_,r.z),q=u.unproject(S,r.z);return[A,q]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ye(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new te(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(ft(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qe(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=O,r.onmousemove=O,Pe.ielt9&&this.options.opacity<1&&Ct(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),_=this._tileCoordsToKey(r),S=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(S),this.createTile.length<2&&k(m(this._tileReady,this,r,null,S)),ze(S,d),this._tiles[_]={el:S,coords:r,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var _=this._tileCoordsToKey(r);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ct(d.el,0),M(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qe(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new te(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new ue(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function wi(r){return new vr(r)}var yr=vr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=K(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Me(d,"load",m(this._tileOnLoad,this,u,d)),Me(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return X(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Pe.ielt9?setTimeout(m(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(r=u-r),r+_},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=O,u.onerror=O,!u.complete)){u.src=G;var d=this._tiles[r].coords;ft(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",G),vr.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===G))return vr.prototype._tileReady.call(this,r,u,d)}});function Fn(r,u){return new yr(r,u)}var Gn=yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=K(this,u);var S=u.detectRetina&&Pe.retina?2:1,A=this.getTileSize();d.width=A.x*S,d.height=A.y*S,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,yr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,_=we(d.project(u[0]),d.project(u[1])),S=_.min,A=_.max,q=(this._wmsVersion>=1.3&&this._crs===Xe?[S.y,S.x,A.y,A.x]:[S.x,S.y,A.x,A.y]).join(","),ee=yr.prototype.getTileUrl.call(this,r);return ee+J(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function go(r,u){return new Gn(r,u)}yr.WMS=Gn,Fn.wms=go;var Si=dt.extend({options:{padding:.1},initialize:function(r){K(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),A=_.multiplyBy(-d).add(S).subtract(this._map._getNewPixelOrigin(r,u));Pe.any3d?bn(this._container,A,d):ze(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new ue(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Na=Si.extend({options:{tolerance:0},getEvents:function(){var r=Si.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Me(r,"mousemove",this._onMouseMove,this),Me(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,ft(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),_=Pe.retina?2:1;ze(u,r.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],_,S;for(S=0;S<u.length;S++){if(_=Number(u[S]),isNaN(_))return;d.push(_)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,_,S,A,q=r._parts,ee=q.length,he=this._ctx;if(ee){for(he.beginPath(),d=0;d<ee;d++){for(_=0,S=q[d].length;_<S;_++)A=q[d][_],he[_?"lineTo":"moveTo"](A.x,A.y);u&&he.closePath()}this._fillStroke(he,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,_=Math.max(Math.round(r._radius),1),S=(Math.max(Math.round(r._radiusY),1)||_)/_;S!==1&&(d.save(),d.scale(1,S)),d.beginPath(),d.arc(u.x,u.y/S,_,0,Math.PI*2,!1),S!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,_,S=this._drawFirst;S;S=S.next)d=S.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(mt(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,_,S=this._drawFirst;S;S=S.next)d=S.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(qe(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Oa(r){return Pe.canvas?new Na(r):null}var br=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_o={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=br("shape");qe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=br("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;ft(u),r.removeInteractiveTarget(u),delete this._layers[y(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,_=r.options,S=r._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(u||(u=r._stroke=br("stroke")),S.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ne(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(S.removeChild(u),r._stroke=null),_.fill?(d||(d=r._fill=br("fill")),S.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(S.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),_=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){ji(r._container)},_bringToBack:function(r){Ms(r._container)}},Ia=Pe.vml?br:Zr,Hs=Si.extend({_initContainer:function(){this._container=Ia("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ia("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ze(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Ia("path");r.options.className&&qe(u,r.options.className),r.options.interactive&&qe(u,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ft(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,oa(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||d,S="a"+d+","+_+" 0 1,0 ",A=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+S+d*2+",0 "+S+-d*2+",0 ";this._setPath(r,A)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){ji(r._path)},_bringToBack:function(r){Ms(r._path)}});Pe.vml&&Hs.include(_o);function wr(r){return Pe.svg||Pe.vml?new Hs(r):null}Ve.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Oa(r)||wr(r)}});var mh=fo.extend({initialize:function(r,u){fo.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Te(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Zn(r,u){return new mh(r,u)}Hs.create=Ia,Hs.pointsToPath=oa,Vn.geometryToLayer=xa,Vn.coordsToLatLng=gl,Vn.coordsToLatLngs=Ca,Vn.latLngToCoords=Aa,Vn.latLngsToCoords=_l,Vn.getFeature=yi,Vn.asFeature=po,Ve.mergeOptions({boxZoom:!0});var wl=Dn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cn(),fr(),this._startPoint=this._map.mouseEventToContainerPoint(r),Me(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new ue(this._point,this._startPoint),d=u.getSize();ze(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ft(this._box),mt(this._container,"leaflet-crosshair")),pi(),va(),tt(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ve.addInitHook("addHandler","boxZoom",wl),Ve.mergeOptions({doubleClickZoom:!0});var Fi=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,S=r.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(r.containerPoint,S)}});Ve.addInitHook("addHandler","doubleClickZoom",Fi),Ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xu=Dn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new vi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Te(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-u+d)%r+u-d,A=(_+u+d)%r-u-d,q=Math.abs(S+d)<Math.abs(A+d)?S:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var u=this._map,d=u.options,_=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),_)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,q=d.easeLinearity,ee=S.multiplyBy(q/A),he=ee.distanceTo([0,0]),be=Math.min(d.inertiaMaxSpeed,he),Ae=ee.multiplyBy(be/he),Ne=be/(d.inertiaDeceleration*q),Ie=Ae.multiplyBy(-Ne/2).round();!Ie.x&&!Ie.y?u.fire("moveend"):(Ie=u._limitOffset(Ie,u.options.maxBounds),k(function(){u.panBy(Ie,{duration:Ne,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Ve.addInitHook("addHandler","dragging",xu),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pa=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Me(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,_=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,_,S;for(_=0,S=d.left.length;_<S;_++)u[d.left[_]]=[-1*r,0];for(_=0,S=d.right.length;_<S;_++)u[d.right[_]]=[r,0];for(_=0,S=d.down.length;_<S;_++)u[d.down[_]]=[0,r];for(_=0,S=d.up.length;_<S;_++)u[d.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,_,S;for(_=0,S=d.zoomIn.length;_<S;_++)u[d.zoomIn[_]]=r;for(_=0,S=d.zoomOut.length;_<S;_++)u[d.zoomOut[_]]=-r},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],r.shiftKey&&(_=U(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(U(_),d.options.maxBounds)),d.options.worldCopyJump){var S=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(S)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;hn(r)}}});Ve.addInitHook("addHandler","keyboard",Pa),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qs=Dn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=dr(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),hn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(S/d)*d:S,q=r._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+q):r.setZoomAround(this._lastMousePos,u+q))}});Ve.addInitHook("addHandler","scrollWheelZoom",qs);var Cu=600;Ve.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var Sl=Dn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new te(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",vt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Cu),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){tt(document,"touchend",vt),tt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new te(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Ve.addInitHook("addHandler","tapHold",Sl),Ve.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Sr=Dn.extend({addHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),vt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]),S=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var q=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(q,this,!0),vt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ve.addInitHook("addHandler","touchZoom",Sr),Ve.BoxZoom=wl,Ve.DoubleClickZoom=Fi,Ve.Drag=xu,Ve.Keyboard=Pa,Ve.ScrollWheelZoom=qs,Ve.TapHold=Sl,Ve.TouchZoom=Sr,n.Bounds=ue,n.Browser=Pe,n.CRS=pt,n.Canvas=Na,n.Circle=Su,n.CircleMarker=Ta,n.Class=pe,n.Control=nn,n.DivIcon=Tu,n.DivOverlay=bi,n.DomEvent=hl,n.DomUtil=ya,n.Draggable=vi,n.Evented=ae,n.FeatureGroup=$t,n.GeoJSON=Vn,n.GridLayer=vr,n.Handler=Dn,n.Icon=uo,n.ImageOverlay=Vi,n.LatLng=Re,n.LatLngBounds=ye,n.Layer=dt,n.LayerGroup=kn,n.LineUtil=ie,n.Map=Ve,n.Marker=ho,n.Mixin=mr,n.Path=ds,n.Point=te,n.PolyUtil=oo,n.Polygon=fo,n.Polyline=ps,n.Popup=Ra,n.PosAnimation=pr,n.Projection=at,n.Rectangle=mh,n.Renderer=Si,n.SVG=Hs,n.SVGOverlay=Bs,n.TileLayer=yr,n.Tooltip=bl,n.Transformation=li,n.Util=D,n.VideoOverlay=yl,n.bind=m,n.bounds=we,n.canvas=Oa,n.circle=Td,n.circleMarker=ch,n.control=fn,n.divIcon=ph,n.extend=l,n.featureGroup=fs,n.geoJSON=vl,n.geoJson=hh,n.gridLayer=wi,n.icon=ml,n.imageOverlay=mo,n.latLng=xe,n.latLngBounds=Te,n.layerGroup=zn,n.map=Hi,n.marker=wu,n.point=U,n.polygon=qn,n.polyline=xd,n.popup=Cd,n.rectangle=Zn,n.setOptions=K,n.stamp=y,n.svg=wr,n.svgOverlay=dh,n.tileLayer=Fn,n.tooltip=Ad,n.transformation=ui,n.version=o,n.videoOverlay=fh;var vo=window.L;n.noConflict=function(){return window.L=vo,this},window.L=n})}(wc,wc.exports)),wc.exports}var DC=MC();const Zl=O1(DC),kC=()=>{};var zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=function(i,e){if(!i)throw fu(e)},fu=function(i){return new Error("Firebase Database ("+Dw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},zC=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const l=i[n++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[n++];e[o++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[n++],m=i[n++],v=i[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;e[o++]=String.fromCharCode(55296+(y>>10)),e[o++]=String.fromCharCode(56320+(y&1023))}else{const h=i[n++],m=i[n++];e[o++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return e.join("")},cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const h=i[l],m=l+1<i.length,v=m?i[l+1]:0,y=l+2<i.length,w=y?i[l+2]:0,C=h>>2,O=(h&3)<<4|v>>4;let N=(v&15)<<2|w>>6,Z=w&63;y||(Z=64,m||(N=64)),o.push(n[C],n[O],n[N],n[Z])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const h=n[i.charAt(l++)],v=l<i.length?n[i.charAt(l)]:0;++l;const w=l<i.length?n[i.charAt(l)]:64;++l;const O=l<i.length?n[i.charAt(l)]:64;if(++l,h==null||v==null||w==null||O==null)throw new UC;const N=h<<2|v>>4;if(o.push(N),w!==64){const Z=v<<4&240|w>>2;if(o.push(Z),O!==64){const j=w<<6&192|O;o.push(j)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(i){const e=kw(i);return cg.encodeByteArray(e,!0)},Pf=function(i){return zw(i).replace(/\./g,"")},Lf=function(i){try{return cg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){return Uw(void 0,i)}function Uw(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!BC(n)||(i[n]=Uw(i[n],e[n]));return i}function BC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=()=>HC().__FIREBASE_DEFAULTS__,VC=()=>{if(typeof process>"u"||typeof zb>"u")return;const i=zb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},FC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lf(i[1]);return e&&JSON.parse(e)},hg=()=>{try{return kC()||qC()||VC()||FC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jw=i=>hg()?.emulatorHosts?.[i],fg=i=>{const e=jw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},Bw=()=>hg()?.config,Hw=i=>hg()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sd(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(m)),""].join(".")}const Sc={};function GC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?i.emulator.push(e):i.prod.push(e);return i}function ZC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Ub=!1;function rd(i,e){if(typeof window>"u"||typeof document>"u"||!Fr(window.location.host)||Sc[i]===e||Sc[i]||Ub)return;Sc[i]=e;function n(N){return`__firebase__banner__${N}`}const o="__firebase__banner",h=GC().prod.length>0;function m(){const N=document.getElementById(o);N&&N.remove()}function v(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,Z){N.setAttribute("width","24"),N.setAttribute("id",Z),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function w(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Ub=!0,m()},N}function C(N,Z){N.setAttribute("id",Z),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function O(){const N=ZC(o),Z=n("text"),j=document.getElementById(Z)||document.createElement("span"),K=n("learnmore"),J=document.getElementById(K)||document.createElement("a"),se=n("preprendIcon"),X=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ne=N.element;v(ne),C(J,K);const ge=w();y(X,se),ne.append(X,j,J,ge),document.body.appendChild(ne)}h?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){const i=$n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XC(){return Dw.NODE_ADMIN===!0}function $C(){try{return typeof indexedDB=="object"}catch{return!1}}function QC(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class tr extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=JC,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},l=`${this.service}/${e}`,h=this.errors[e],m=h?eA(h,o):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new tr(l,v,o)}}function eA(i,e){return i.replace(tA,(n,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const tA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(i){return JSON.parse(i)}function an(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=function(i){let e={},n={},o={},l="";try{const h=i.split(".");e=Mc(Lf(h[0])||""),n=Mc(Lf(h[1])||""),l=h[2],o=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:o,signature:l}},nA=function(i){const e=Vw(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iA=function(i){const e=Vw(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function tu(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Lm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Mf(i,e,n){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=e.call(n,i[l],l,i));return o}function Qo(i,e){if(i===e)return!0;const n=Object.keys(i),o=Object.keys(e);for(const l of n){if(!o.includes(l))return!1;const h=i[l],m=e[l];if(jb(h)&&jb(m)){if(!Qo(h,m))return!1}else if(h!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function jb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const o=this.W_;if(typeof e=="string")for(let O=0;O<16;O++)o[O]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let O=0;O<16;O++)o[O]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let O=16;O<80;O++){const N=o[O-3]^o[O-8]^o[O-14]^o[O-16];o[O]=(N<<1|N>>>31)&4294967295}let l=this.chain_[0],h=this.chain_[1],m=this.chain_[2],v=this.chain_[3],y=this.chain_[4],w,C;for(let O=0;O<80;O++){O<40?O<20?(w=v^h&(m^v),C=1518500249):(w=h^m^v,C=1859775393):O<60?(w=h&m|v&(h|m),C=2400959708):(w=h^m^v,C=3395469782);const N=(l<<5|l>>>27)+w+y+C+o[O]&4294967295;y=v,v=m,m=(h<<30|h>>>2)&4294967295,h=l,l=N}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const o=n-this.blockSize;let l=0;const h=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(h[m]=e.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}else for(;l<n;)if(h[m]=e[l],++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let h=24;h>=0;h-=8)e[o]=this.chain_[l]>>h&255,++o;return e}}function rA(i,e){const n=new oA(i,e);return n.subscribe.bind(n)}class oA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,o){let l;if(e===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:o},l.next===void 0&&(l.next=dm),l.error===void 0&&(l.error=dm),l.complete===void 0&&(l.complete=dm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function dm(){}function od(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const h=l-55296;o++,Ee(o<i.length,"Surrogate pair missing trail surrogate.");const m=i.charCodeAt(o)-56320;l=65536+(h<<10)+m}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},ad=function(i){let e=0;for(let n=0;n<i.length;n++){const o=i.charCodeAt(n);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(i){return i&&i._delegate?i._delegate:i}class Ur{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new Xc;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});o.resolve(h)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);o===v&&m.resolve(l)}return l}onInit(e,n){const o=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(o)??new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(i){return i===Va?void 0:i}function hA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const dA={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},pA=ht.INFO,mA={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},gA=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=mA[e];if(l)console[l](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ld{constructor(e){this.name=e,this._logLevel=pA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const _A=(i,e)=>e.some(n=>i instanceof n);let Bb,Hb;function vA(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return Hb||(Hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,Mm=new WeakMap,Gw=new WeakMap,pm=new WeakMap,mg=new WeakMap;function bA(i){const e=new Promise((n,o)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",m)},h=()=>{n(Yo(i.result)),l()},m=()=>{o(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",m)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,i)}).catch(()=>{}),mg.set(e,i),e}function wA(i){if(Mm.has(i))return;const e=new Promise((n,o)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",m),i.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",m),i.addEventListener("abort",m)});Mm.set(i,e)}let Dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Mm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Gw.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function SA(i){Dm=i(Dm)}function EA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(mm(this),e,...n);return Gw.set(o,e.sort?e.sort():[e]),Yo(o)}:yA().includes(i)?function(...e){return i.apply(mm(this),e),Yo(Fw.get(this))}:function(...e){return Yo(i.apply(mm(this),e))}}function TA(i){return typeof i=="function"?EA(i):(i instanceof IDBTransaction&&wA(i),_A(i,vA())?new Proxy(i,Dm):i)}function Yo(i){if(i instanceof IDBRequest)return bA(i);if(pm.has(i))return pm.get(i);const e=TA(i);return e!==i&&(pm.set(i,e),mg.set(e,i)),e}const mm=i=>mg.get(i);function xA(i,e,{blocked:n,upgrade:o,blocking:l,terminated:h}={}){const m=indexedDB.open(i,e),v=Yo(m);return o&&m.addEventListener("upgradeneeded",y=>{o(Yo(m.result),y.oldVersion,y.newVersion,Yo(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),v}const CA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],gm=new Map;function qb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,l=AA.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||CA.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let w=y.store;return o&&(w=w.index(v.shift())),(await Promise.all([w[n](...v),l&&y.done]))[0]};return gm.set(e,h),h}SA(i=>({...i,get:(e,n,o)=>qb(e,n)||i.get(e,n,o),has:(e,n)=>!!qb(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NA(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function NA(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",Vb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new ld("@firebase/app"),OA="@firebase/app-compat",IA="@firebase/analytics-compat",PA="@firebase/analytics",LA="@firebase/app-check-compat",MA="@firebase/app-check",DA="@firebase/auth",kA="@firebase/auth-compat",zA="@firebase/database",UA="@firebase/data-connect",jA="@firebase/database-compat",BA="@firebase/functions",HA="@firebase/functions-compat",qA="@firebase/installations",VA="@firebase/installations-compat",FA="@firebase/messaging",GA="@firebase/messaging-compat",ZA="@firebase/performance",WA="@firebase/performance-compat",YA="@firebase/remote-config",KA="@firebase/remote-config-compat",XA="@firebase/storage",$A="@firebase/storage-compat",QA="@firebase/firestore",JA="@firebase/ai",eR="@firebase/firestore-compat",tR="firebase",nR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",iR={[km]:"fire-core",[OA]:"fire-core-compat",[PA]:"fire-analytics",[IA]:"fire-analytics-compat",[MA]:"fire-app-check",[LA]:"fire-app-check-compat",[DA]:"fire-auth",[kA]:"fire-auth-compat",[zA]:"fire-rtdb",[UA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[BA]:"fire-fn",[HA]:"fire-fn-compat",[qA]:"fire-iid",[VA]:"fire-iid-compat",[FA]:"fire-fcm",[GA]:"fire-fcm-compat",[ZA]:"fire-perf",[WA]:"fire-perf-compat",[YA]:"fire-rc",[KA]:"fire-rc-compat",[XA]:"fire-gcs",[$A]:"fire-gcs-compat",[QA]:"fire-fst",[eR]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,sR=new Map,Um=new Map;function Fb(i,e){try{i.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Jo(i){const e=i.name;if(Um.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,i);for(const n of Df.values())Fb(n,i);for(const n of sR.values())Fb(n,i);return!0}function Qc(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ki(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new $c("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,o){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=nR;function Zw(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const o={name:zm,automaticDataCollectionEnabled:!0,...e},l=o.name;if(typeof l!="string"||!l)throw Ko.create("bad-app-name",{appName:String(l)});if(n||(n=Bw()),!n)throw Ko.create("no-options");const h=Df.get(l);if(h){if(Qo(n,h.options)&&Qo(o,h.config))return h;throw Ko.create("duplicate-app",{appName:l})}const m=new fA(l);for(const y of Um.values())m.addComponent(y);const v=new oR(n,o,m);return Df.set(l,v),v}function ud(i=zm){const e=Df.get(i);if(!e&&i===zm&&Bw())return Zw();if(!e)throw Ko.create("no-app",{appName:i});return e}function $i(i,e,n){let o=iR[i]??i;n&&(o+=`-${n}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(m.join(" "));return}Jo(new Ur(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebase-heartbeat-database",lR=1,Dc="firebase-heartbeat-store";let _m=null;function Ww(){return _m||(_m=xA(aR,lR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Dc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ko.create("idb-open",{originalErrorMessage:i.message})})),_m}async function uR(i){try{const n=(await Ww()).transaction(Dc),o=await n.objectStore(Dc).get(Yw(i));return await n.done,o}catch(e){if(e instanceof tr)jr.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}}async function Gb(i,e){try{const o=(await Ww()).transaction(Dc,"readwrite");await o.objectStore(Dc).put(e,Yw(i)),await o.done}catch(n){if(n instanceof tr)jr.warn(n.message);else{const o=Ko.create("idb-set",{originalErrorMessage:n?.message});jr.warn(o.message)}}}function Yw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1024,hR=30;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>hR){const l=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zb(),{heartbeatsToSend:n,unsentEntries:o}=dR(this._heartbeatsCache.heartbeats),l=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return jr.warn(e),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function dR(i,e=cR){const n=[];let o=i.slice();for(const l of i){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),Wb(n)>e){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Wb(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $C()?QC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wb(i){return Pf(JSON.stringify({version:2,heartbeats:i})).length}function mR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let o=1;o<i.length;o++)i[o].date<n&&(n=i[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(i){Jo(new Ur("platform-logger",e=>new RA(e),"PRIVATE")),Jo(new Ur("heartbeat",e=>new fR(e),"PRIVATE")),$i(km,Vb,i),$i(km,Vb,"esm2020"),$i("fire-js","")}gR("");var _R="firebase",vR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(_R,vR,"app");var Yb={};const Kb="@firebase/database",Xb="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw="";function yR(i){Kw=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return nr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bR(e)}}catch{}return new wR},Za=Xw("localStorage"),SR=Xw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new ld("@firebase/database"),ER=function(){let i=1;return function(){return i++}}(),$w=function(i){const e=lA(i),n=new sA;n.update(e);const o=n.digest();return cg.encodeByteArray(o)},Jc=function(...i){let e="";for(let n=0;n<i.length;n++){const o=i[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=Jc.apply(null,o):typeof o=="object"?e+=an(o):e+=o,e+=" "}return e};let Ec=null,$b=!0;const TR=function(i,e){Ee(!0,"Can't turn on custom loggers persistently."),Kl.logLevel=ht.VERBOSE,Ec=Kl.log.bind(Kl)},Cn=function(...i){if($b===!0&&($b=!1,Ec===null&&SR.get("logging_enabled")===!0&&TR()),Ec){const e=Jc.apply(null,i);Ec(e)}},eh=function(i){return function(...e){Cn(i,...e)}},jm=function(...i){const e="FIREBASE INTERNAL ERROR: "+Jc(...i);Kl.error(e)},Br=function(...i){const e=`FIREBASE FATAL ERROR: ${Jc(...i)}`;throw Kl.error(e),new Error(e)},Xn=function(...i){const e="FIREBASE WARNING: "+Jc(...i);Kl.warn(e)},xR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gg=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},CR=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nu="[MIN_NAME]",Qa="[MAX_NAME]",sl=function(i,e){if(i===e)return 0;if(i===nu||e===Qa)return-1;if(e===nu||i===Qa)return 1;{const n=Qb(i),o=Qb(e);return n!==null?o!==null?n-o===0?i.length-e.length:n-o:-1:o!==null?1:i<e?-1:1}},AR=function(i,e){return i===e?0:i<e?-1:1},gc=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+an(e))},_g=function(i){if(typeof i!="object"||i===null)return an(i);const e=[];for(const o in i)e.push(o);e.sort();let n="{";for(let o=0;o<e.length;o++)o!==0&&(n+=","),n+=an(e[o]),n+=":",n+=_g(i[e[o]]);return n+="}",n},Qw=function(i,e){const n=i.length;if(n<=e)return[i];const o=[];for(let l=0;l<n;l+=e)l+e>n?o.push(i.substring(l,n)):o.push(i.substring(l,l+e));return o};function Rn(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const Jw=function(i){Ee(!gg(i),"Invalid JSON number");const e=11,n=52,o=(1<<e-1)-1;let l,h,m,v,y;i===0?(h=0,m=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(v=Math.min(Math.floor(Math.log(i)/Math.LN2),o),h=v+o,m=Math.round(i*Math.pow(2,n-v)-Math.pow(2,n))):(h=0,m=Math.round(i/Math.pow(2,1-o-n))));const w=[];for(y=n;y;y-=1)w.push(m%2?1:0),m=Math.floor(m/2);for(y=e;y;y-=1)w.push(h%2?1:0),h=Math.floor(h/2);w.push(l?1:0),w.reverse();const C=w.join("");let O="";for(y=0;y<64;y+=8){let N=parseInt(C.substr(y,8),2).toString(16);N.length===1&&(N="0"+N),O=O+N}return O.toLowerCase()},RR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function OR(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const o=new Error(i+" at "+e._path.toString()+": "+n);return o.code=i.toUpperCase(),o}const IR=new RegExp("^-?(0*)\\d{1,10}$"),PR=-2147483648,LR=2147483647,Qb=function(i){if(IR.test(i)){const e=Number(i);if(e>=PR&&e<=LR)return e}return null},pu=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Xn("Exception was thrown by user callback.",n),e},Math.floor(0))}},MR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tc=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ki(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Xn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,o){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xn(e)}}class xf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="5",eS="v",tS="s",nS="r",iS="f",sS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rS="ls",oS="p",Bm="ac",aS="websocket",lS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,o,l,h=!1,m="",v=!1,y=!1,w=null){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=y,this.emulatorOptions=w,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Za.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Za.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function zR(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function cS(i,e,n){Ee(typeof e=="string","typeof type must == string"),Ee(typeof n=="object","typeof params must == object");let o;if(e===aS)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===lS)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zR(i)&&(n.ns=i.namespace);const l=[];return Rn(n,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.counters_={}}incrementCounter(e,n=1){nr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={},ym={};function yg(i){const e=i.toString();return vm[e]||(vm[e]=new UR),vm[e]}function jR(i,e){const n=i.toString();return ym[n]||(ym[n]=e()),ym[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&pu(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="start",HR="close",qR="pLPCommand",VR="pRTLPCB",hS="id",fS="pw",dS="ser",FR="cb",GR="seg",ZR="ts",WR="d",YR="dframe",pS=1870,mS=30,KR=pS-mS,XR=25e3,$R=3e4;class Wl{constructor(e,n,o,l,h,m,v){this.connId=e,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eh(e),this.stats_=yg(n),this.urlFn=y=>(this.appCheckToken&&(y[Bm]=this.appCheckToken),cS(n,lS,y))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($R)),CR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bg((...h)=>{const[m,v,y,w,C]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===Jb)this.id=v,this.password=y;else if(m===HR)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,v]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const o={};o[Jb]="t",o[dS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[FR]=this.scriptTagHolder.uniqueCallbackIdentifier),o[eS]=vg,this.transportSessionId&&(o[tS]=this.transportSessionId),this.lastSessionId&&(o[rS]=this.lastSessionId),this.applicationId&&(o[oS]=this.applicationId),this.appCheckToken&&(o[Bm]=this.appCheckToken),typeof location<"u"&&location.hostname&&sS.test(location.hostname)&&(o[nS]=iS);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wl.forceAllow_=!0}static forceDisallow(){Wl.forceDisallow_=!0}static isAvailable(){return Wl.forceAllow_?!0:!Wl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RR()&&!NR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=zw(n),l=Qw(o,KR);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[YR]="t",o[hS]=e,o[fS]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=an(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bg{constructor(e,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ER(),window[qR+this.uniqueCallbackIdentifier]=e,window[VR+this.uniqueCallbackIdentifier]=n,this.myIFrame=bg.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){Cn("frame writing exception"),v.stack&&Cn(v.stack),Cn(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Cn("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hS]=this.myID,e[fS]=this.myPW,e[dS]=this.currentSerial;let n=this.urlFn(e),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mS+o.length<=pS;){const m=this.pendingSegs.shift();o=o+"&"+GR+l+"="+m.seg+"&"+ZR+l+"="+m.ts+"&"+WR+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,o){this.pendingSegs.push({seg:e,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(XR)),h=()=>{clearTimeout(l),o()};this.addTag(e,h)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{Cn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=16384,JR=45e3;let kf=null;typeof MozWebSocket<"u"?kf=MozWebSocket:typeof WebSocket<"u"&&(kf=WebSocket);class ws{constructor(e,n,o,l,h,m,v){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eh(this.connId),this.stats_=yg(n),this.connURL=ws.connectionURL_(n,m,v,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,o,l,h){const m={};return m[eS]=vg,typeof location<"u"&&location.hostname&&sS.test(location.hostname)&&(m[nS]=iS),n&&(m[tS]=n),o&&(m[rS]=o),l&&(m[Bm]=l),h&&(m[oS]=h),cS(e,aS,m)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Za.set("previous_websocket_failure",!0);try{let o;XC(),this.mySock=new kf(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ws.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&kf!==null&&!ws.forceDisallow_}static previouslyFailed(){return Za.isInMemoryStorage||Za.get("previous_websocket_failure")===!0}markConnectionHealthy(){Za.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=Mc(n);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=Qw(n,QR);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ws.responsesRequiredToBeHealthy=2;ws.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{static get ALL_TRANSPORTS(){return[Wl,ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ws&&ws.isAvailable();let o=n&&!ws.previouslyFailed();if(e.webSocketOnly&&(n||Xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ws];else{const l=this.transports_=[];for(const h of kc.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);kc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6e4,tN=5e3,nN=10*1024,iN=100*1024,bm="t",e0="d",sN="s",t0="r",rN="e",n0="o",i0="a",s0="n",r0="p",oN="h";class aN{constructor(e,n,o,l,h,m,v,y,w,C){this.id=e,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=y,this.onKill_=w,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eh("c:"+this.id+":"),this.transportManager_=new kc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Tc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bm in e){const n=e[bm];n===i0?this.upgradeIfSecondaryHealthy_():n===t0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===n0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gc("t",e),o=gc("d",e);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:r0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:i0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:s0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gc("t",e),o=gc("d",e);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gc(bm,e);if(e0 in e){const o=e[e0];if(n===oN){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===s0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sN?this.onConnectionShutdown_(o):n===t0?this.onReset_(o):n===rN?jm("Server Error: "+o):n===n0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,o=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vg!==o&&Xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),Tc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:r0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Za.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{put(e,n,o,l){}merge(e,n,o,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,o){}onDisconnectMerge(e,n,o){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(e,n,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:o});const l=this.getInitialEvent(e);l&&n.apply(o,l)}off(e,n,o){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let h=0;h<l.length;h++)if(l[h].callback===n&&(!o||o===l[h].context)){l.splice(h,1);return}}validateEventType_(e){Ee(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends _S{static getInstance(){return new zf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=32,a0=768;class St{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new St("")}function et(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ea(i){return i.pieces_.length-i.pieceNum_}function It(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new St(i.pieces_,e)}function wg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function lN(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function zc(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function vS(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new St(e,0)}function Ht(i,e){const n=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)n.push(i.pieces_[o]);if(e instanceof St)for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);else{const o=e.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new St(n,0)}function Je(i){return i.pieceNum_>=i.pieces_.length}function Kn(i,e){const n=et(i),o=et(e);if(n===null)return e;if(n===o)return Kn(It(i),It(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function uN(i,e){const n=zc(i,0),o=zc(e,0);for(let l=0;l<n.length&&l<o.length;l++){const h=sl(n[l],o[l]);if(h!==0)return h}return n.length===o.length?0:n.length<o.length?-1:1}function yS(i,e){if(ea(i)!==ea(e))return!1;for(let n=i.pieceNum_,o=e.pieceNum_;n<=i.pieces_.length;n++,o++)if(i.pieces_[n]!==e.pieces_[o])return!1;return!0}function Xi(i,e){let n=i.pieceNum_,o=e.pieceNum_;if(ea(i)>ea(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[o])return!1;++n,++o}return!0}class cN{constructor(e,n){this.errorPrefix_=n,this.parts_=zc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=ad(this.parts_[o]);bS(this)}}function hN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=ad(e),bS(i)}function fN(i){const e=i.parts_.pop();i.byteLength_-=ad(e),i.parts_.length>0&&(i.byteLength_-=1)}function bS(i){if(i.byteLength_>a0)throw new Error(i.errorPrefix_+"has a key path longer than "+a0+" bytes ("+i.byteLength_+").");if(i.parts_.length>o0)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+o0+") or object contains a cycle "+Fa(i))}function Fa(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends _S{static getInstance(){return new Sg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return Ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=1e3,dN=60*5*1e3,l0=30*1e3,pN=1.3,mN=3e4,gN="server_kill",u0=3;class kr extends gS{constructor(e,n,o,l,h,m,v,y){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=y,this.id=kr.nextPersistentConnectionId_++,this.log_=eh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_c,this.maxReconnectDelay_=dN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,o){const l=++this.requestNumber_,h={r:l,a:e,b:n};this.log_(an(h)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const n=new Xc,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;m.s==="ok"?n.resolve(v):n.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),n.promise}listen(e,n,o,l){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:n,query:e,tag:o};this.listens.get(m).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(e){const n=e.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o},m="q";e.tag&&(h.q=n._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest(m,h,v=>{const y=v.d,w=v.s;kr.warnOnListenWarnings_(y,n),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",v),w!=="ok"&&this.removeListen_(o,l),e.onComplete&&e.onComplete(w,y))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&nr(e,"w")){const o=tu(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',h=n._path.toString();Xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=l0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nA(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const h=l.s,m=l.d||"error";this.authToken_===e&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,o=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(e,n){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,n)}sendUnlisten_(e,n,o,l){this.log_("Unlisten on "+e+" for "+n);const h={p:e},m="n";l&&(h.q=o,h.t=l),this.sendRequest(m,h)}onDisconnectPut(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:o})}onDisconnectMerge(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:o})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,o,l){const h={p:n,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,n,o,l){this.putInternal("p",e,n,o,l)}merge(e,n,o,l){this.putInternal("m",e,n,o,l)}putInternal(e,n,o,l,h){this.initConnection_();const m={p:n,d:o};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,h=>{this.log_(n+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const h=o.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+an(e));const n=e.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):jm("Unrecognized action received from server: "+an(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_c,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_c,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mN&&(this.reconnectDelay_=_c),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+kr.nextConnectionId_++,h=this.lastSessionId;let m=!1,v=null;const y=function(){v?v.close():(m=!0,o())},w=function(O){Ee(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(O)};this.realtime_={close:y,sendRequest:w};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[O,N]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);m?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),this.authToken_=O&&O.accessToken,this.appCheckToken_=N&&N.token,v=new aN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,o,Z=>{Xn(Z+" ("+this.repoInfo_.toString()+")"),this.interrupt(gN)},h))}catch(O){this.log_("Failed to get token: "+O),m||(this.repoInfo_.nodeAdmin&&Xn(O),y())}}}interrupt(e){Cn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Cn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lm(this.interruptReasons_)&&(this.reconnectDelay_=_c,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let o;n?o=n.map(h=>_g(h)).join("$"):o="default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const o=new St(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(n),h.delete(n),h.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,n){Cn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=u0&&(this.reconnectDelay_=l0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Cn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=u0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Kw.replace(/\./g,"-")]=1,pg()?e["framework.cordova"]=1:qw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zf.getInstance().currentlyOnline();return Lm(this.interruptReasons_)&&e}}kr.nextPersistentConnectionId_=0;kr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const o=new Ye(nu,e),l=new Ye(nu,n);return this.compare(o,l)!==0}minPost(){return Ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;class wS extends cd{static get __EMPTY_NODE(){return gf}static set __EMPTY_NODE(e){gf=e}compare(e,n){return sl(e.name,n.name)}isDefinedOn(e){throw fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(Qa,gf)}makePost(e,n){return Ee(typeof e=="string","KeyIndex indexValue must always be a string."),new Ye(e,gf)}toString(){return".key"}}const Xl=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!e.isEmpty();)if(e=e,m=n?o(e.key,n):1,l&&(m*=-1),m<0)this.isReverse_?e=e.left:e=e.right;else if(m===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vn{constructor(e,n,o,l,h){this.key=e,this.value=n,this.color=o??vn.RED,this.left=l??oi.EMPTY_NODE,this.right=h??oi.EMPTY_NODE}copy(e,n,o,l,h){return new vn(e??this.key,n??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const h=o(e,l.key);return h<0?l=l.copy(null,null,null,l.left.insert(e,n,o),null):h===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return oi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let o,l;if(o=this,n(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(e,o.key)===0){if(o.right.isEmpty())return oi.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vn.RED=!0;vn.BLACK=!1;class _N{copy(e,n,o,l,h){return this}insert(e,n,o){return new vn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class oi{constructor(e,n=oi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new oi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vn.BLACK,null,null))}remove(e){return new oi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vn.BLACK,null,null))}get(e){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(e,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(e){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(e,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _f(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _f(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _f(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _f(this.root_,null,this.comparator_,!0,e)}}oi.EMPTY_NODE=new _N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i,e){return sl(i.name,e.name)}function Eg(i,e){return sl(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm;function yN(i){Hm=i}const SS=function(i){return typeof i=="number"?"number:"+Jw(i):"string:"+i},ES=function(i){if(i.isLeafNode()){const e=i.val();Ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&nr(e,".sv"),"Priority must be a string or number.")}else Ee(i===Hm||i.isEmpty(),"priority of unexpected type.");Ee(i===Hm||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0;class _n{static set __childrenNodeConstructor(e){c0=e}static get __childrenNodeConstructor(){return c0}constructor(e,n=_n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ES(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Je(e)?this:et(e)===".priority"?this.priorityNode_:_n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const o=et(e);return o===null?n:n.isEmpty()&&o!==".priority"?this:(Ee(o!==".priority"||ea(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,_n.__childrenNodeConstructor.EMPTY_NODE.updateChild(It(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Jw(this.value_):e+=this.value_,this.lazyHash_=$w(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _n.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,o=typeof this.value_,l=_n.VALUE_TYPE_ORDER.indexOf(n),h=_n.VALUE_TYPE_ORDER.indexOf(o);return Ee(l>=0,"Unknown leaf type: "+n),Ee(h>=0,"Unknown leaf type: "+o),l===h?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TS,xS;function bN(i){TS=i}function wN(i){xS=i}class SN extends cd{compare(e,n){const o=e.node.getPriority(),l=n.node.getPriority(),h=o.compareTo(l);return h===0?sl(e.name,n.name):h}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(Qa,new _n("[PRIORITY-POST]",xS))}makePost(e,n){const o=TS(e);return new Ye(n,new _n("[PRIORITY-POST]",o))}toString(){return".priority"}}const qt=new SN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=Math.log(2);class TN{constructor(e){const n=h=>parseInt(Math.log(h)/EN,10),o=h=>parseInt(Array(h+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=o(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uf=function(i,e,n,o){i.sort(e);const l=function(y,w){const C=w-y;let O,N;if(C===0)return null;if(C===1)return O=i[y],N=n?n(O):O,new vn(N,O.node,vn.BLACK,null,null);{const Z=parseInt(C/2,10)+y,j=l(y,Z),K=l(Z+1,w);return O=i[Z],N=n?n(O):O,new vn(N,O.node,vn.BLACK,j,K)}},h=function(y){let w=null,C=null,O=i.length;const N=function(j,K){const J=O-j,se=O;O-=j;const X=l(J+1,se),ne=i[J],ge=n?n(ne):ne;Z(new vn(ge,ne.node,K,null,X))},Z=function(j){w?(w.left=j,w=j):(C=j,w=j)};for(let j=0;j<y.count;++j){const K=y.nextBitIsOne(),J=Math.pow(2,y.count-(j+1));K?N(J,vn.BLACK):(N(J,vn.BLACK),N(J,vn.RED))}return C},m=new TN(i.length),v=h(m);return new oi(o||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm;const Gl={};class Pr{static get Default(){return Ee(Gl&&qt,"ChildrenNode.ts has not been loaded"),wm=wm||new Pr({".priority":Gl},{".priority":qt}),wm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=tu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof oi?n:null}hasIndex(e){return nr(this.indexSet_,e.toString())}addIndex(e,n){Ee(e!==Xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=n.getIterator(Ye.Wrap);let m=h.getNext();for(;m;)l=l||e.isDefinedOn(m.node),o.push(m),m=h.getNext();let v;l?v=Uf(o,e.getCompare()):v=Gl;const y=e.toString(),w={...this.indexSet_};w[y]=e;const C={...this.indexes_};return C[y]=v,new Pr(C,w)}addToIndexes(e,n){const o=Mf(this.indexes_,(l,h)=>{const m=tu(this.indexSet_,h);if(Ee(m,"Missing index implementation for "+h),l===Gl)if(m.isDefinedOn(e.node)){const v=[],y=n.getIterator(Ye.Wrap);let w=y.getNext();for(;w;)w.name!==e.name&&v.push(w),w=y.getNext();return v.push(e),Uf(v,m.getCompare())}else return Gl;else{const v=n.get(e.name);let y=l;return v&&(y=y.remove(new Ye(e.name,v))),y.insert(e,e.node)}});return new Pr(o,this.indexSet_)}removeFromIndexes(e,n){const o=Mf(this.indexes_,l=>{if(l===Gl)return l;{const h=n.get(e.name);return h?l.remove(new Ye(e.name,h)):l}});return new Pr(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class Ue{static get EMPTY_NODE(){return vc||(vc=new Ue(new oi(Eg),null,Pr.Default))}constructor(e,n,o){this.children_=e,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ES(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vc}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vc:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(It(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ee(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const o=new Ye(e,n);let l,h;n.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),h=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?vc:this.priorityNode_;return new Ue(l,m,h)}}updateChild(e,n){const o=et(e);if(o===null)return n;{Ee(et(e)!==".priority"||ea(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(It(e),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let o=0,l=0,h=!0;if(this.forEachChild(qt,(m,v)=>{n[m]=v.val(e),o++,h&&Ue.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):h=!1}),!e&&h&&l<2*o){const m=[];for(const v in n)m[v]=n[v];return m}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SS(this.getPriority().val())+":"),this.forEachChild(qt,(n,o)=>{const l=o.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":$w(e)}return this.lazyHash_}getPredecessorChildName(e,n,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new Ye(e,n));return h?h.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ye(n,this.children_.get(n)):null}forEachChild(e,n){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ye.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===th?-1:0}withIndex(e){if(e===Xl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(qt),l=n.getIterator(qt);let h=o.getNext(),m=l.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=l.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(e){return e===Xl?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xN extends Ue{constructor(){super(new oi(Eg),Ue.EMPTY_NODE,Pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const th=new xN;Object.defineProperties(Ye,{MIN:{value:new Ye(nu,Ue.EMPTY_NODE)},MAX:{value:new Ye(Qa,th)}});wS.__EMPTY_NODE=Ue.EMPTY_NODE;_n.__childrenNodeConstructor=Ue;yN(th);wN(th);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=!0;function on(i,e=null){if(i===null)return Ue.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new _n(n,on(e))}if(!(i instanceof Array)&&CN){const n=[];let o=!1;if(Rn(i,(m,v)=>{if(m.substring(0,1)!=="."){const y=on(v);y.isEmpty()||(o=o||!y.getPriority().isEmpty(),n.push(new Ye(m,y)))}}),n.length===0)return Ue.EMPTY_NODE;const h=Uf(n,vN,m=>m.name,Eg);if(o){const m=Uf(n,qt.getCompare());return new Ue(h,on(e),new Pr({".priority":m},{".priority":qt}))}else return new Ue(h,on(e),Pr.Default)}else{let n=Ue.EMPTY_NODE;return Rn(i,(o,l)=>{if(nr(i,o)&&o.substring(0,1)!=="."){const h=on(l);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(on(e))}}bN(on);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends cd{constructor(e){super(),this.indexPath_=e,Ee(!Je(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const o=this.extractChild(e.node),l=this.extractChild(n.node),h=o.compareTo(l);return h===0?sl(e.name,n.name):h}makePost(e,n){const o=on(e),l=Ue.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ye(n,l)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,th);return new Ye(Qa,e)}toString(){return zc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN extends cd{compare(e,n){const o=e.node.compareTo(n.node);return o===0?sl(e.name,n.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(e,n){const o=on(e);return new Ye(n,o)}toString(){return".value"}}const NN=new RN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(i){return{type:"value",snapshotNode:i}}function iu(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Uc(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function jc(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function ON(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.index_=e}updateChild(e,n,o,l,h,m){Ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(n);return v.getChild(l).equals(o.getChild(l))&&v.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?e.hasChild(n)?m.trackChildChange(Uc(n,v)):Ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(iu(n,o)):m.trackChildChange(jc(n,o,v))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(e,n,o){return o!=null&&(e.isLeafNode()||e.forEachChild(qt,(l,h)=>{n.hasChild(l)||o.trackChildChange(Uc(l,h))}),n.isLeafNode()||n.forEachChild(qt,(l,h)=>{if(e.hasChild(l)){const m=e.getImmediateChild(l);m.equals(h)||o.trackChildChange(jc(l,h,m))}else o.trackChildChange(iu(l,h))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.indexedFilter_=new Tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bc.getStartPost_(e),this.endPost_=Bc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&o}updateChild(e,n,o,l,h,m){return this.matches(new Ye(n,o))||(o=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,o,l,h,m)}updateFullNode(e,n,o){n.isLeafNode()&&(n=Ue.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ue.EMPTY_NODE);const h=this;return n.forEachChild(qt,(m,v)=>{h.matches(new Ye(m,v))||(l=l.updateImmediateChild(m,Ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Bc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,o,l,h,m){return this.rangedFilter_.matches(new Ye(n,o))||(o=Ue.EMPTY_NODE),e.getImmediateChild(n).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,o,l,h,m):this.fullLimitUpdateChild_(e,n,o,h,m)}updateFullNode(e,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ue.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const v=h.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))l=l.updateImmediateChild(v.name,v.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ue.EMPTY_NODE);let h;this.reverse_?h=l.getReverseIterator(this.index_):h=l.getIterator(this.index_);let m=0;for(;h.hasNext();){const v=h.getNext();m<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?m++:l=l.updateImmediateChild(v.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,o,l,h){let m;if(this.reverse_){const O=this.index_.getCompare();m=(N,Z)=>O(Z,N)}else m=this.index_.getCompare();const v=e;Ee(v.numChildren()===this.limit_,"");const y=new Ye(n,o),w=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),C=this.rangedFilter_.matches(y);if(v.hasChild(n)){const O=v.getImmediateChild(n);let N=l.getChildAfterChild(this.index_,w,this.reverse_);for(;N!=null&&(N.name===n||v.hasChild(N.name));)N=l.getChildAfterChild(this.index_,N,this.reverse_);const Z=N==null?1:m(N,y);if(C&&!o.isEmpty()&&Z>=0)return h?.trackChildChange(jc(n,o,O)),v.updateImmediateChild(n,o);{h?.trackChildChange(Uc(n,O));const K=v.updateImmediateChild(n,Ue.EMPTY_NODE);return N!=null&&this.rangedFilter_.matches(N)?(h?.trackChildChange(iu(N.name,N.node)),K.updateImmediateChild(N.name,N.node)):K}}else return o.isEmpty()?e:C&&m(w,y)>=0?(h!=null&&(h.trackChildChange(Uc(w.name,w.node)),h.trackChildChange(iu(n,o))),v.updateImmediateChild(n,o).updateImmediateChild(w.name,Ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nu}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qt}copy(){const e=new xg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function PN(i){return i.loadsAllData()?new Tg(i.getIndex()):i.hasLimit()?new IN(i):new Bc(i)}function h0(i){const e={};if(i.isDefault())return e;let n;if(i.index_===qt?n="$priority":i.index_===NN?n="$value":i.index_===Xl?n="$key":(Ee(i.index_ instanceof AN,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=an(n),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";e[o]=an(i.indexStartValue_),i.startNameSet_&&(e[o]+=","+an(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";e[o]=an(i.indexEndValue_),i.endNameSet_&&(e[o]+=","+an(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function f0(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==qt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends gS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,o,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=eh("p:rest:"),this.listens_={}}listen(e,n,o,l){const h=e._path.toString();this.log_("Listen called for "+h+" "+e._queryIdentifier);const m=jf.getListenId_(e,o),v={};this.listens_[m]=v;const y=h0(e._queryParams);this.restRequest_(h+".json",y,(w,C)=>{let O=C;if(w===404&&(O=null,w=null),w===null&&this.onDataUpdate_(h,O,!1,o),tu(this.listens_,m)===v){let N;w?w===401?N="permission_denied":N="rest_error:"+w:N="ok",l(N,null)}})}unlisten(e,n){const o=jf.getListenId_(e,n);delete this.listens_[o]}get(e){const n=h0(e._queryParams),o=e._path.toString(),l=new Xc;return this.restRequest_(o+".json",n,(h,m)=>{let v=m;h===404&&(v=null,h=null),h===null?(this.onDataUpdate_(o,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(n.auth=l.accessToken),h&&h.token&&(n.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+du(n);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(o&&v.readyState===4){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let y=null;if(v.status>=200&&v.status<300){try{y=Mc(v.responseText)}catch{Xn("Failed to parse JSON response for "+m+": "+v.responseText)}o(null,y)}else v.status!==401&&v.status!==404&&Xn("Got unsuccessful REST response for "+m+" Status: "+v.status),o(v.status);o=null}},v.open("GET",m,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(){return{value:null,children:new Map}}function AS(i,e,n){if(Je(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const o=et(e);i.children.has(o)||i.children.set(o,Bf());const l=i.children.get(o);e=It(e),AS(l,e,n)}}function qm(i,e,n){i.value!==null?n(e,i.value):MN(i,(o,l)=>{const h=new St(e.toString()+"/"+o);qm(l,h,n)})}function MN(i,e){i.children.forEach((n,o)=>{e(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Rn(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=10*1e3,kN=30*1e3,zN=5*60*1e3;class UN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DN(e);const o=d0+(kN-d0)*Math.random();Tc(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),n={};let o=!1;Rn(e,(l,h)=>{h>0&&nr(this.statsToReport_,l)&&(n[l]=h,o=!0)}),o&&this.server_.reportStats(n),Tc(this.reportStats_.bind(this),Math.floor(Math.random()*2*zN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ss||(Ss={}));function Cg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ag(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rg(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,o){this.path=e,this.affectedTree=n,this.revert=o,this.type=Ss.ACK_USER_WRITE,this.source=Cg()}operationForChild(e){if(Je(this.path)){if(this.affectedTree.value!=null)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(e));return new Hf(ut(),n,this.revert)}}else return Ee(et(this.path)===e,"operationForChild called for unrelated child."),new Hf(It(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.source=e,this.path=n,this.type=Ss.LISTEN_COMPLETE}operationForChild(e){return Je(this.path)?new Hc(this.source,ut()):new Hc(this.source,It(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,o){this.source=e,this.path=n,this.snap=o,this.type=Ss.OVERWRITE}operationForChild(e){return Je(this.path)?new Ja(this.source,ut(),this.snap.getImmediateChild(e)):new Ja(this.source,It(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,o){this.source=e,this.path=n,this.children=o,this.type=Ss.MERGE}operationForChild(e){if(Je(this.path)){const n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new Ja(this.source,ut(),n.value):new su(this.source,ut(),n)}else return Ee(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new su(this.source,It(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,o){this.node_=e,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BN(i,e,n,o){const l=[],h=[];return e.forEach(m=>{m.type==="child_changed"&&i.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(ON(m.childName,m.snapshotNode))}),yc(i,l,"child_removed",e,o,n),yc(i,l,"child_added",e,o,n),yc(i,l,"child_moved",h,o,n),yc(i,l,"child_changed",e,o,n),yc(i,l,"value",e,o,n),l}function yc(i,e,n,o,l,h){const m=o.filter(v=>v.type===n);m.sort((v,y)=>qN(i,v,y)),m.forEach(v=>{const y=HN(i,v,h);l.forEach(w=>{w.respondsTo(v.type)&&e.push(w.createEvent(y,i.query_))})})}function HN(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function qN(i,e,n){if(e.childName==null||n.childName==null)throw fu("Should only compare child_ events.");const o=new Ye(e.childName,e.snapshotNode),l=new Ye(n.childName,n.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i,e){return{eventCache:i,serverCache:e}}function xc(i,e,n,o){return hd(new ta(e,n,o),i.serverCache)}function RS(i,e,n,o){return hd(i.eventCache,new ta(e,n,o))}function qf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function el(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm;const VN=()=>(Sm||(Sm=new oi(AR)),Sm);class Ot{static fromObject(e){let n=new Ot(null);return Rn(e,(o,l)=>{n=n.set(new St(o),l)}),n}constructor(e,n=VN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(Je(e))return null;{const o=et(e),l=this.children.get(o);if(l!==null){const h=l.findRootMostMatchingPathAndValue(It(e),n);return h!=null?{path:Ht(new St(o),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const n=et(e),o=this.children.get(n);return o!==null?o.subtree(It(e)):new Ot(null)}}set(e,n){if(Je(e))return new Ot(n,this.children);{const o=et(e),h=(this.children.get(o)||new Ot(null)).set(It(e),n),m=this.children.insert(o,h);return new Ot(this.value,m)}}remove(e){if(Je(e))return this.children.isEmpty()?new Ot(null):new Ot(null,this.children);{const n=et(e),o=this.children.get(n);if(o){const l=o.remove(It(e));let h;return l.isEmpty()?h=this.children.remove(n):h=this.children.insert(n,l),this.value===null&&h.isEmpty()?new Ot(null):new Ot(this.value,h)}else return this}}get(e){if(Je(e))return this.value;{const n=et(e),o=this.children.get(n);return o?o.get(It(e)):null}}setTree(e,n){if(Je(e))return n;{const o=et(e),h=(this.children.get(o)||new Ot(null)).setTree(It(e),n);let m;return h.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,h),new Ot(this.value,m)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(Ht(e,l),n)}),n(e,this.value,o)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(Je(e))return null;{const h=et(e),m=this.children.get(h);return m?m.findOnPath_(It(e),Ht(n,h),o):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,o){if(Je(e))return this;{this.value&&o(n,this.value);const l=et(e),h=this.children.get(l);return h?h.foreachOnPath_(It(e),Ht(n,l),o):new Ot(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Ht(e,o),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,o)=>{o.value&&e(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.writeTree_=e}static empty(){return new xs(new Ot(null))}}function Cc(i,e,n){if(Je(e))return new xs(new Ot(n));{const o=i.writeTree_.findRootMostValueAndPath(e);if(o!=null){const l=o.path;let h=o.value;const m=Kn(l,e);return h=h.updateChild(m,n),new xs(i.writeTree_.set(l,h))}else{const l=new Ot(n),h=i.writeTree_.setTree(e,l);return new xs(h)}}}function Vm(i,e,n){let o=i;return Rn(n,(l,h)=>{o=Cc(o,Ht(e,l),h)}),o}function p0(i,e){if(Je(e))return xs.empty();{const n=i.writeTree_.setTree(e,new Ot(null));return new xs(n)}}function Fm(i,e){return rl(i,e)!=null}function rl(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function m0(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qt,(o,l)=>{e.push(new Ye(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&e.push(new Ye(o,l.value))}),e}function Xo(i,e){if(Je(e))return i;{const n=rl(i,e);return n!=null?new xs(new Ot(n)):new xs(i.writeTree_.subtree(e))}}function Gm(i){return i.writeTree_.isEmpty()}function ru(i,e){return NS(ut(),i.writeTree_,e)}function NS(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let o=null;return e.children.inorderTraversal((l,h)=>{l===".priority"?(Ee(h.value!==null,"Priority writes must always be leaf nodes"),o=h.value):n=NS(Ht(i,l),h,n)}),!n.getChild(i).isEmpty()&&o!==null&&(n=n.updateChild(Ht(i,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(i,e){return LS(e,i)}function FN(i,e,n,o,l){Ee(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:o,visible:l}),l&&(i.visibleWrites=Cc(i.visibleWrites,e,n)),i.lastWriteId=o}function GN(i,e,n,o){Ee(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:n,writeId:o,visible:!0}),i.visibleWrites=Vm(i.visibleWrites,e,n),i.lastWriteId=o}function ZN(i,e){for(let n=0;n<i.allWrites.length;n++){const o=i.allWrites[n];if(o.writeId===e)return o}return null}function WN(i,e){const n=i.allWrites.findIndex(v=>v.writeId===e);Ee(n>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[n];i.allWrites.splice(n,1);let l=o.visible,h=!1,m=i.allWrites.length-1;for(;l&&m>=0;){const v=i.allWrites[m];v.visible&&(m>=n&&YN(v,o.path)?l=!1:Xi(o.path,v.path)&&(h=!0)),m--}if(l){if(h)return KN(i),!0;if(o.snap)i.visibleWrites=p0(i.visibleWrites,o.path);else{const v=o.children;Rn(v,y=>{i.visibleWrites=p0(i.visibleWrites,Ht(o.path,y))})}return!0}else return!1}function YN(i,e){if(i.snap)return Xi(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Xi(Ht(i.path,n),e))return!0;return!1}function KN(i){i.visibleWrites=OS(i.allWrites,XN,ut()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function XN(i){return i.visible}function OS(i,e,n){let o=xs.empty();for(let l=0;l<i.length;++l){const h=i[l];if(e(h)){const m=h.path;let v;if(h.snap)Xi(n,m)?(v=Kn(n,m),o=Cc(o,v,h.snap)):Xi(m,n)&&(v=Kn(m,n),o=Cc(o,ut(),h.snap.getChild(v)));else if(h.children){if(Xi(n,m))v=Kn(n,m),o=Vm(o,v,h.children);else if(Xi(m,n))if(v=Kn(m,n),Je(v))o=Vm(o,ut(),h.children);else{const y=tu(h.children,et(v));if(y){const w=y.getChild(It(v));o=Cc(o,ut(),w)}}}else throw fu("WriteRecord should have .snap or .children")}}return o}function IS(i,e,n,o,l){if(!o&&!l){const h=rl(i.visibleWrites,e);if(h!=null)return h;{const m=Xo(i.visibleWrites,e);if(Gm(m))return n;if(n==null&&!Fm(m,ut()))return null;{const v=n||Ue.EMPTY_NODE;return ru(m,v)}}}else{const h=Xo(i.visibleWrites,e);if(!l&&Gm(h))return n;if(!l&&n==null&&!Fm(h,ut()))return null;{const m=function(w){return(w.visible||l)&&(!o||!~o.indexOf(w.writeId))&&(Xi(w.path,e)||Xi(e,w.path))},v=OS(i.allWrites,m,e),y=n||Ue.EMPTY_NODE;return ru(v,y)}}}function $N(i,e,n){let o=Ue.EMPTY_NODE;const l=rl(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(qt,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(n){const h=Xo(i.visibleWrites,e);return n.forEachChild(qt,(m,v)=>{const y=ru(Xo(h,new St(m)),v);o=o.updateImmediateChild(m,y)}),m0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const h=Xo(i.visibleWrites,e);return m0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function QN(i,e,n,o,l){Ee(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=Ht(e,n);if(Fm(i.visibleWrites,h))return null;{const m=Xo(i.visibleWrites,h);return Gm(m)?l.getChild(n):ru(m,l.getChild(n))}}function JN(i,e,n,o){const l=Ht(e,n),h=rl(i.visibleWrites,l);if(h!=null)return h;if(o.isCompleteForChild(n)){const m=Xo(i.visibleWrites,l);return ru(m,o.getNode().getImmediateChild(n))}else return null}function eO(i,e){return rl(i.visibleWrites,e)}function tO(i,e,n,o,l,h,m){let v;const y=Xo(i.visibleWrites,e),w=rl(y,ut());if(w!=null)v=w;else if(n!=null)v=ru(y,n);else return[];if(v=v.withIndex(m),!v.isEmpty()&&!v.isLeafNode()){const C=[],O=m.getCompare(),N=h?v.getReverseIteratorFrom(o,m):v.getIteratorFrom(o,m);let Z=N.getNext();for(;Z&&C.length<l;)O(Z,o)!==0&&C.push(Z),Z=N.getNext();return C}else return[]}function nO(){return{visibleWrites:xs.empty(),allWrites:[],lastWriteId:-1}}function Vf(i,e,n,o){return IS(i.writeTree,i.treePath,e,n,o)}function Ng(i,e){return $N(i.writeTree,i.treePath,e)}function g0(i,e,n,o){return QN(i.writeTree,i.treePath,e,n,o)}function Ff(i,e){return eO(i.writeTree,Ht(i.treePath,e))}function iO(i,e,n,o,l,h){return tO(i.writeTree,i.treePath,e,n,o,l,h)}function Og(i,e,n){return JN(i.writeTree,i.treePath,e,n)}function PS(i,e){return LS(Ht(i.treePath,e),i.writeTree)}function LS(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,o=e.childName;Ee(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ee(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if(n==="child_added"&&h==="child_removed")this.changeMap.set(o,jc(o,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&h==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&h==="child_changed")this.changeMap.set(o,Uc(o,l.oldSnap));else if(n==="child_changed"&&h==="child_added")this.changeMap.set(o,iu(o,e.snapshotNode));else if(n==="child_changed"&&h==="child_changed")this.changeMap.set(o,jc(o,e.snapshotNode,l.oldSnap));else throw fu("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{getCompleteChild(e){return null}getChildAfterChild(e,n,o){return null}}const MS=new rO;class Ig{constructor(e,n,o=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Og(this.writes_,e,o)}}getChildAfterChild(e,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:el(this.viewCache_),h=iO(this.writes_,l,n,1,o,e);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(i){return{filter:i}}function aO(i,e){Ee(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ee(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function lO(i,e,n,o,l){const h=new sO;let m,v;if(n.type===Ss.OVERWRITE){const w=n;w.source.fromUser?m=Zm(i,e,w.path,w.snap,o,l,h):(Ee(w.source.fromServer,"Unknown source."),v=w.source.tagged||e.serverCache.isFiltered()&&!Je(w.path),m=Gf(i,e,w.path,w.snap,o,l,v,h))}else if(n.type===Ss.MERGE){const w=n;w.source.fromUser?m=cO(i,e,w.path,w.children,o,l,h):(Ee(w.source.fromServer,"Unknown source."),v=w.source.tagged||e.serverCache.isFiltered(),m=Wm(i,e,w.path,w.children,o,l,v,h))}else if(n.type===Ss.ACK_USER_WRITE){const w=n;w.revert?m=dO(i,e,w.path,o,l,h):m=hO(i,e,w.path,w.affectedTree,o,l,h)}else if(n.type===Ss.LISTEN_COMPLETE)m=fO(i,e,n.path,o,h);else throw fu("Unknown operation type: "+n.type);const y=h.getChanges();return uO(e,m,y),{viewCache:m,changes:y}}function uO(i,e,n){const o=e.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=qf(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(CS(qf(e)))}}function DS(i,e,n,o,l,h){const m=e.eventCache;if(Ff(o,n)!=null)return e;{let v,y;if(Je(n))if(Ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=el(e),C=w instanceof Ue?w:Ue.EMPTY_NODE,O=Ng(o,C);v=i.filter.updateFullNode(e.eventCache.getNode(),O,h)}else{const w=Vf(o,el(e));v=i.filter.updateFullNode(e.eventCache.getNode(),w,h)}else{const w=et(n);if(w===".priority"){Ee(ea(n)===1,"Can't have a priority with additional path components");const C=m.getNode();y=e.serverCache.getNode();const O=g0(o,n,C,y);O!=null?v=i.filter.updatePriority(C,O):v=m.getNode()}else{const C=It(n);let O;if(m.isCompleteForChild(w)){y=e.serverCache.getNode();const N=g0(o,n,m.getNode(),y);N!=null?O=m.getNode().getImmediateChild(w).updateChild(C,N):O=m.getNode().getImmediateChild(w)}else O=Og(o,w,e.serverCache);O!=null?v=i.filter.updateChild(m.getNode(),w,O,C,l,h):v=m.getNode()}}return xc(e,v,m.isFullyInitialized()||Je(n),i.filter.filtersNodes())}}function Gf(i,e,n,o,l,h,m,v){const y=e.serverCache;let w;const C=m?i.filter:i.filter.getIndexedFilter();if(Je(n))w=C.updateFullNode(y.getNode(),o,null);else if(C.filtersNodes()&&!y.isFiltered()){const Z=y.getNode().updateChild(n,o);w=C.updateFullNode(y.getNode(),Z,null)}else{const Z=et(n);if(!y.isCompleteForPath(n)&&ea(n)>1)return e;const j=It(n),J=y.getNode().getImmediateChild(Z).updateChild(j,o);Z===".priority"?w=C.updatePriority(y.getNode(),J):w=C.updateChild(y.getNode(),Z,J,j,MS,null)}const O=RS(e,w,y.isFullyInitialized()||Je(n),C.filtersNodes()),N=new Ig(l,O,h);return DS(i,O,n,l,N,v)}function Zm(i,e,n,o,l,h,m){const v=e.eventCache;let y,w;const C=new Ig(l,e,h);if(Je(n))w=i.filter.updateFullNode(e.eventCache.getNode(),o,m),y=xc(e,w,!0,i.filter.filtersNodes());else{const O=et(n);if(O===".priority")w=i.filter.updatePriority(e.eventCache.getNode(),o),y=xc(e,w,v.isFullyInitialized(),v.isFiltered());else{const N=It(n),Z=v.getNode().getImmediateChild(O);let j;if(Je(N))j=o;else{const K=C.getCompleteChild(O);K!=null?wg(N)===".priority"&&K.getChild(vS(N)).isEmpty()?j=K:j=K.updateChild(N,o):j=Ue.EMPTY_NODE}if(Z.equals(j))y=e;else{const K=i.filter.updateChild(v.getNode(),O,j,N,C,m);y=xc(e,K,v.isFullyInitialized(),i.filter.filtersNodes())}}}return y}function _0(i,e){return i.eventCache.isCompleteForChild(e)}function cO(i,e,n,o,l,h,m){let v=e;return o.foreach((y,w)=>{const C=Ht(n,y);_0(e,et(C))&&(v=Zm(i,v,C,w,l,h,m))}),o.foreach((y,w)=>{const C=Ht(n,y);_0(e,et(C))||(v=Zm(i,v,C,w,l,h,m))}),v}function v0(i,e,n){return n.foreach((o,l)=>{e=e.updateChild(o,l)}),e}function Wm(i,e,n,o,l,h,m,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y=e,w;Je(n)?w=o:w=new Ot(null).setTree(n,o);const C=e.serverCache.getNode();return w.children.inorderTraversal((O,N)=>{if(C.hasChild(O)){const Z=e.serverCache.getNode().getImmediateChild(O),j=v0(i,Z,N);y=Gf(i,y,new St(O),j,l,h,m,v)}}),w.children.inorderTraversal((O,N)=>{const Z=!e.serverCache.isCompleteForChild(O)&&N.value===null;if(!C.hasChild(O)&&!Z){const j=e.serverCache.getNode().getImmediateChild(O),K=v0(i,j,N);y=Gf(i,y,new St(O),K,l,h,m,v)}}),y}function hO(i,e,n,o,l,h,m){if(Ff(l,n)!=null)return e;const v=e.serverCache.isFiltered(),y=e.serverCache;if(o.value!=null){if(Je(n)&&y.isFullyInitialized()||y.isCompleteForPath(n))return Gf(i,e,n,y.getNode().getChild(n),l,h,v,m);if(Je(n)){let w=new Ot(null);return y.getNode().forEachChild(Xl,(C,O)=>{w=w.set(new St(C),O)}),Wm(i,e,n,w,l,h,v,m)}else return e}else{let w=new Ot(null);return o.foreach((C,O)=>{const N=Ht(n,C);y.isCompleteForPath(N)&&(w=w.set(C,y.getNode().getChild(N)))}),Wm(i,e,n,w,l,h,v,m)}}function fO(i,e,n,o,l){const h=e.serverCache,m=RS(e,h.getNode(),h.isFullyInitialized()||Je(n),h.isFiltered());return DS(i,m,n,o,MS,l)}function dO(i,e,n,o,l,h){let m;if(Ff(o,n)!=null)return e;{const v=new Ig(o,e,l),y=e.eventCache.getNode();let w;if(Je(n)||et(n)===".priority"){let C;if(e.serverCache.isFullyInitialized())C=Vf(o,el(e));else{const O=e.serverCache.getNode();Ee(O instanceof Ue,"serverChildren would be complete if leaf node"),C=Ng(o,O)}C=C,w=i.filter.updateFullNode(y,C,h)}else{const C=et(n);let O=Og(o,C,e.serverCache);O==null&&e.serverCache.isCompleteForChild(C)&&(O=y.getImmediateChild(C)),O!=null?w=i.filter.updateChild(y,C,O,It(n),v,h):e.eventCache.getNode().hasChild(C)?w=i.filter.updateChild(y,C,Ue.EMPTY_NODE,It(n),v,h):w=y,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(m=Vf(o,el(e)),m.isLeafNode()&&(w=i.filter.updateFullNode(w,m,h)))}return m=e.serverCache.isFullyInitialized()||Ff(o,ut())!=null,xc(e,w,m,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Tg(o.getIndex()),h=PN(o);this.processor_=oO(h);const m=n.serverCache,v=n.eventCache,y=l.updateFullNode(Ue.EMPTY_NODE,m.getNode(),null),w=h.updateFullNode(Ue.EMPTY_NODE,v.getNode(),null),C=new ta(y,m.isFullyInitialized(),l.filtersNodes()),O=new ta(w,v.isFullyInitialized(),h.filtersNodes());this.viewCache_=hd(O,C),this.eventGenerator_=new jN(this.query_)}get query(){return this.query_}}function mO(i){return i.viewCache_.serverCache.getNode()}function gO(i){return qf(i.viewCache_)}function _O(i,e){const n=el(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!Je(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function y0(i){return i.eventRegistrations_.length===0}function vO(i,e){i.eventRegistrations_.push(e)}function b0(i,e,n){const o=[];if(n){Ee(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(n,l);m&&o.push(m)})}if(e){let l=[];for(let h=0;h<i.eventRegistrations_.length;++h){const m=i.eventRegistrations_[h];if(!m.matches(e))l.push(m);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(h+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function w0(i,e,n,o){e.type===Ss.MERGE&&e.source.queryId!==null&&(Ee(el(i.viewCache_),"We should always have a full cache before handling merges"),Ee(qf(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,h=lO(i.processor_,l,e,n,o);return aO(i.processor_,h.viewCache),Ee(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=h.viewCache,kS(i,h.changes,h.viewCache.eventCache.getNode(),null)}function yO(i,e){const n=i.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qt,(h,m)=>{o.push(iu(h,m))}),n.isFullyInitialized()&&o.push(CS(n.getNode())),kS(i,o,n.getNode(),e)}function kS(i,e,n,o){const l=o?[o]:i.eventRegistrations_;return BN(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf;class zS{constructor(){this.views=new Map}}function bO(i){Ee(!Zf,"__referenceConstructor has already been defined"),Zf=i}function wO(){return Ee(Zf,"Reference.ts has not been loaded"),Zf}function SO(i){return i.views.size===0}function Pg(i,e,n,o){const l=e.source.queryId;if(l!==null){const h=i.views.get(l);return Ee(h!=null,"SyncTree gave us an op for an invalid query."),w0(h,e,n,o)}else{let h=[];for(const m of i.views.values())h=h.concat(w0(m,e,n,o));return h}}function US(i,e,n,o,l){const h=e._queryIdentifier,m=i.views.get(h);if(!m){let v=Vf(n,l?o:null),y=!1;v?y=!0:o instanceof Ue?(v=Ng(n,o),y=!1):(v=Ue.EMPTY_NODE,y=!1);const w=hd(new ta(v,y,!1),new ta(o,l,!1));return new pO(e,w)}return m}function EO(i,e,n,o,l,h){const m=US(i,e,o,l,h);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,m),vO(m,n),yO(m,n)}function TO(i,e,n,o){const l=e._queryIdentifier,h=[];let m=[];const v=na(i);if(l==="default")for(const[y,w]of i.views.entries())m=m.concat(b0(w,n,o)),y0(w)&&(i.views.delete(y),w.query._queryParams.loadsAllData()||h.push(w.query));else{const y=i.views.get(l);y&&(m=m.concat(b0(y,n,o)),y0(y)&&(i.views.delete(l),y.query._queryParams.loadsAllData()||h.push(y.query)))}return v&&!na(i)&&h.push(new(wO())(e._repo,e._path)),{removed:h,events:m}}function jS(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $o(i,e){let n=null;for(const o of i.views.values())n=n||_O(o,e);return n}function BS(i,e){if(e._queryParams.loadsAllData())return dd(i);{const o=e._queryIdentifier;return i.views.get(o)}}function HS(i,e){return BS(i,e)!=null}function na(i){return dd(i)!=null}function dd(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf;function xO(i){Ee(!Wf,"__referenceConstructor has already been defined"),Wf=i}function CO(){return Ee(Wf,"Reference.ts has not been loaded"),Wf}let AO=1;class S0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ot(null),this.pendingWriteTree_=nO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qS(i,e,n,o,l){return FN(i.pendingWriteTree_,e,n,o,l),l?mu(i,new Ja(Cg(),e,n)):[]}function RO(i,e,n,o){GN(i.pendingWriteTree_,e,n,o);const l=Ot.fromObject(n);return mu(i,new su(Cg(),e,l))}function Wo(i,e,n=!1){const o=ZN(i.pendingWriteTree_,e);if(WN(i.pendingWriteTree_,e)){let h=new Ot(null);return o.snap!=null?h=h.set(ut(),!0):Rn(o.children,m=>{h=h.set(new St(m),!0)}),mu(i,new Hf(o.path,h,n))}else return[]}function nh(i,e,n){return mu(i,new Ja(Ag(),e,n))}function NO(i,e,n){const o=Ot.fromObject(n);return mu(i,new su(Ag(),e,o))}function OO(i,e){return mu(i,new Hc(Ag(),e))}function IO(i,e,n){const o=Mg(i,n);if(o){const l=Dg(o),h=l.path,m=l.queryId,v=Kn(h,e),y=new Hc(Rg(m),v);return kg(i,h,y)}else return[]}function VS(i,e,n,o,l=!1){const h=e._path,m=i.syncPointTree_.get(h);let v=[];if(m&&(e._queryIdentifier==="default"||HS(m,e))){const y=TO(m,e,n,o);SO(m)&&(i.syncPointTree_=i.syncPointTree_.remove(h));const w=y.removed;if(v=y.events,!l){const C=w.findIndex(N=>N._queryParams.loadsAllData())!==-1,O=i.syncPointTree_.findOnPath(h,(N,Z)=>na(Z));if(C&&!O){const N=i.syncPointTree_.subtree(h);if(!N.isEmpty()){const Z=DO(N);for(let j=0;j<Z.length;++j){const K=Z[j],J=K.query,se=WS(i,K);i.listenProvider_.startListening(Ac(J),qc(i,J),se.hashFn,se.onComplete)}}}!O&&w.length>0&&!o&&(C?i.listenProvider_.stopListening(Ac(e),null):w.forEach(N=>{const Z=i.queryToTagMap.get(pd(N));i.listenProvider_.stopListening(Ac(N),Z)}))}kO(i,w)}return v}function FS(i,e,n,o){const l=Mg(i,o);if(l!=null){const h=Dg(l),m=h.path,v=h.queryId,y=Kn(m,e),w=new Ja(Rg(v),y,n);return kg(i,m,w)}else return[]}function PO(i,e,n,o){const l=Mg(i,o);if(l){const h=Dg(l),m=h.path,v=h.queryId,y=Kn(m,e),w=Ot.fromObject(n),C=new su(Rg(v),y,w);return kg(i,m,C)}else return[]}function LO(i,e,n,o=!1){const l=e._path;let h=null,m=!1;i.syncPointTree_.foreachOnPath(l,(N,Z)=>{const j=Kn(N,l);h=h||$o(Z,j),m=m||na(Z)});let v=i.syncPointTree_.get(l);v?(m=m||na(v),h=h||$o(v,ut())):(v=new zS,i.syncPointTree_=i.syncPointTree_.set(l,v));let y;h!=null?y=!0:(y=!1,h=Ue.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((Z,j)=>{const K=$o(j,ut());K&&(h=h.updateImmediateChild(Z,K))}));const w=HS(v,e);if(!w&&!e._queryParams.loadsAllData()){const N=pd(e);Ee(!i.queryToTagMap.has(N),"View does not exist, but we have a tag");const Z=zO();i.queryToTagMap.set(N,Z),i.tagToQueryMap.set(Z,N)}const C=fd(i.pendingWriteTree_,l);let O=EO(v,e,n,C,h,y);if(!w&&!m&&!o){const N=BS(v,e);O=O.concat(UO(i,e,N))}return O}function Lg(i,e,n){const l=i.pendingWriteTree_,h=i.syncPointTree_.findOnPath(e,(m,v)=>{const y=Kn(m,e),w=$o(v,y);if(w)return w});return IS(l,e,h,n,!0)}function MO(i,e){const n=e._path;let o=null;i.syncPointTree_.foreachOnPath(n,(w,C)=>{const O=Kn(w,n);o=o||$o(C,O)});let l=i.syncPointTree_.get(n);l?o=o||$o(l,ut()):(l=new zS,i.syncPointTree_=i.syncPointTree_.set(n,l));const h=o!=null,m=h?new ta(o,!0,!1):null,v=fd(i.pendingWriteTree_,e._path),y=US(l,e,v,h?m.getNode():Ue.EMPTY_NODE,h);return gO(y)}function mu(i,e){return GS(e,i.syncPointTree_,null,fd(i.pendingWriteTree_,ut()))}function GS(i,e,n,o){if(Je(i.path))return ZS(i,e,n,o);{const l=e.get(ut());n==null&&l!=null&&(n=$o(l,ut()));let h=[];const m=et(i.path),v=i.operationForChild(m),y=e.children.get(m);if(y&&v){const w=n?n.getImmediateChild(m):null,C=PS(o,m);h=h.concat(GS(v,y,w,C))}return l&&(h=h.concat(Pg(l,i,o,n))),h}}function ZS(i,e,n,o){const l=e.get(ut());n==null&&l!=null&&(n=$o(l,ut()));let h=[];return e.children.inorderTraversal((m,v)=>{const y=n?n.getImmediateChild(m):null,w=PS(o,m),C=i.operationForChild(m);C&&(h=h.concat(ZS(C,v,y,w)))}),l&&(h=h.concat(Pg(l,i,o,n))),h}function WS(i,e){const n=e.query,o=qc(i,n);return{hashFn:()=>(mO(e)||Ue.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?IO(i,n._path,o):OO(i,n._path);{const h=OR(l,n);return VS(i,n,null,h)}}}}function qc(i,e){const n=pd(e);return i.queryToTagMap.get(n)}function pd(i){return i._path.toString()+"$"+i._queryIdentifier}function Mg(i,e){return i.tagToQueryMap.get(e)}function Dg(i){const e=i.indexOf("$");return Ee(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new St(i.substr(0,e))}}function kg(i,e,n){const o=i.syncPointTree_.get(e);Ee(o,"Missing sync point for query tag that we're tracking");const l=fd(i.pendingWriteTree_,e);return Pg(o,n,l,null)}function DO(i){return i.fold((e,n,o)=>{if(n&&na(n))return[dd(n)];{let l=[];return n&&(l=jS(n)),Rn(o,(h,m)=>{l=l.concat(m)}),l}})}function Ac(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(CO())(i._repo,i._path):i}function kO(i,e){for(let n=0;n<e.length;++n){const o=e[n];if(!o._queryParams.loadsAllData()){const l=pd(o),h=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(h)}}}function zO(){return AO++}function UO(i,e,n){const o=e._path,l=qc(i,e),h=WS(i,n),m=i.listenProvider_.startListening(Ac(e),l,h.hashFn,h.onComplete),v=i.syncPointTree_.subtree(o);if(l)Ee(!na(v.value),"If we're adding a query, it shouldn't be shadowed");else{const y=v.fold((w,C,O)=>{if(!Je(w)&&C&&na(C))return[dd(C).query];{let N=[];return C&&(N=N.concat(jS(C).map(Z=>Z.query))),Rn(O,(Z,j)=>{N=N.concat(j)}),N}});for(let w=0;w<y.length;++w){const C=y[w];i.listenProvider_.stopListening(Ac(C),qc(i,C))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zg(n)}node(){return this.node_}}class Ug{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ht(this.path_,e);return new Ug(this.syncTree_,n)}node(){return Lg(this.syncTree_,this.path_)}}const jO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},E0=function(i,e,n){if(!i||typeof i!="object")return i;if(Ee(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return BO(i[".sv"],e,n);if(typeof i[".sv"]=="object")return HO(i[".sv"],e);Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},BO=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:Ee(!1,"Unexpected server value: "+i)}},HO=function(i,e,n){i.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&Ee(!1,"Unexpected increment value: "+o);const l=e.node();if(Ee(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},YS=function(i,e,n,o){return jg(e,new Ug(n,i),o)},KS=function(i,e,n){return jg(i,new zg(e),n)};function jg(i,e,n){const o=i.getPriority().val(),l=E0(o,e.getImmediateChild(".priority"),n);let h;if(i.isLeafNode()){const m=i,v=E0(m.getValue(),e,n);return v!==m.getValue()||l!==m.getPriority().val()?new _n(v,on(l)):i}else{const m=i;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new _n(l))),m.forEachChild(qt,(v,y)=>{const w=jg(y,e.getImmediateChild(v),n);w!==y&&(h=h.updateImmediateChild(v,w))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e="",n=null,o={children:{},childCount:0}){this.name=e,this.parent=n,this.node=o}}function Hg(i,e){let n=e instanceof St?e:new St(e),o=i,l=et(n);for(;l!==null;){const h=tu(o.node.children,l)||{children:{},childCount:0};o=new Bg(l,o,h),n=It(n),l=et(n)}return o}function gu(i){return i.node.value}function XS(i,e){i.node.value=e,Ym(i)}function $S(i){return i.node.childCount>0}function qO(i){return gu(i)===void 0&&!$S(i)}function md(i,e){Rn(i.node.children,(n,o)=>{e(new Bg(n,i,o))})}function QS(i,e,n,o){n&&e(i),md(i,l=>{QS(l,e,!0)})}function VO(i,e,n){let o=i.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function ih(i){return new St(i.parent===null?i.name:ih(i.parent)+"/"+i.name)}function Ym(i){i.parent!==null&&FO(i.parent,i.name,i)}function FO(i,e,n){const o=qO(n),l=nr(i.node.children,e);o&&l?(delete i.node.children[e],i.node.childCount--,Ym(i)):!o&&!l&&(i.node.children[e]=n.node,i.node.childCount++,Ym(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/[\[\].#$\/\u0000-\u001F\u007F]/,ZO=/[\[\].#$\u0000-\u001F\u007F]/,Em=10*1024*1024,qg=function(i){return typeof i=="string"&&i.length!==0&&!GO.test(i)},JS=function(i){return typeof i=="string"&&i.length!==0&&!ZO.test(i)},WO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),JS(i)},YO=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!gg(i)||i&&typeof i=="object"&&nr(i,".sv")},eE=function(i,e,n,o){o&&e===void 0||gd(od(i,"value"),e,n)},gd=function(i,e,n){const o=n instanceof St?new cN(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+Fa(o));if(typeof e=="function")throw new Error(i+"contains a function "+Fa(o)+" with contents = "+e.toString());if(gg(e))throw new Error(i+"contains "+e.toString()+" "+Fa(o));if(typeof e=="string"&&e.length>Em/3&&ad(e)>Em)throw new Error(i+"contains a string greater than "+Em+" utf8 bytes "+Fa(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,h=!1;if(Rn(e,(m,v)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!qg(m)))throw new Error(i+" contains an invalid key ("+m+") "+Fa(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hN(o,m),gd(i,v,o),fN(o)}),l&&h)throw new Error(i+' contains ".value" child '+Fa(o)+" in addition to actual children.")}},KO=function(i,e){let n,o;for(n=0;n<e.length;n++){o=e[n];const h=zc(o);for(let m=0;m<h.length;m++)if(!(h[m]===".priority"&&m===h.length-1)){if(!qg(h[m]))throw new Error(i+"contains an invalid key ("+h[m]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uN);let l=null;for(n=0;n<e.length;n++){if(o=e[n],l!==null&&Xi(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},XO=function(i,e,n,o){const l=od(i,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const h=[];Rn(e,(m,v)=>{const y=new St(m);if(gd(l,v,Ht(n,y)),wg(y)===".priority"&&!YO(v))throw new Error(l+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(y)}),KO(l,h)},tE=function(i,e,n,o){if(!JS(n))throw new Error(od(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$O=function(i,e,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tE(i,e,n)},Vg=function(i,e){if(et(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},QO=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!WO(n))throw new Error(od(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fg(i,e){let n=null;for(let o=0;o<e.length;o++){const l=e[o],h=l.getPath();n!==null&&!yS(h,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:h}),n.events.push(l)}n&&i.eventLists_.push(n)}function Qi(i,e,n){Fg(i,n),eI(i,o=>Xi(o,e)||Xi(e,o))}function eI(i,e){i.recursionDepth_++;let n=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const h=l.path;e(h)?(tI(i.eventLists_[o]),i.eventLists_[o]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function tI(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const o=n.getEventRunner();Ec&&Cn("event: "+n.toString()),pu(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="repo_interrupt",iI=25;class sI{constructor(e,n,o,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bf(),this.transactionQueueTree_=new Bg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rI(i,e,n){if(i.stats_=yg(i.repoInfo_),i.forceRestClient_||MR())i.server_=new jf(i.repoInfo_,(o,l,h,m)=>{T0(i,o,l,h,m)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>x0(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new kr(i.repoInfo_,e,(o,l,h,m)=>{T0(i,o,l,h,m)},o=>{x0(i,o)},o=>{oI(i,o)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=jR(i.repoInfo_,()=>new UN(i.stats_,i.server_)),i.infoData_=new LN,i.infoSyncTree_=new S0({startListening:(o,l,h,m)=>{let v=[];const y=i.infoData_.getNode(o._path);return y.isEmpty()||(v=nh(i.infoSyncTree_,o._path,y),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),Gg(i,"connected",!1),i.serverSyncTree_=new S0({startListening:(o,l,h,m)=>(i.server_.listen(o,h,l,(v,y)=>{const w=m(v,y);Qi(i.eventQueue_,o._path,w)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function nE(i){const n=i.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _d(i){return jO({timestamp:nE(i)})}function T0(i,e,n,o,l){i.dataUpdateCount++;const h=new St(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let m=[];if(l)if(o){const y=Mf(n,w=>on(w));m=PO(i.serverSyncTree_,h,y,l)}else{const y=on(n);m=FS(i.serverSyncTree_,h,y,l)}else if(o){const y=Mf(n,w=>on(w));m=NO(i.serverSyncTree_,h,y)}else{const y=on(n);m=nh(i.serverSyncTree_,h,y)}let v=h;m.length>0&&(v=ou(i,h)),Qi(i.eventQueue_,v,m)}function x0(i,e){Gg(i,"connected",e),e===!1&&cI(i)}function oI(i,e){Rn(e,(n,o)=>{Gg(i,n,o)})}function Gg(i,e,n){const o=new St("/.info/"+e),l=on(n);i.infoData_.updateSnapshot(o,l);const h=nh(i.infoSyncTree_,o,l);Qi(i.eventQueue_,o,h)}function Zg(i){return i.nextWriteId_++}function aI(i,e,n){const o=MO(i.serverSyncTree_,e);return o!=null?Promise.resolve(o):i.server_.get(e).then(l=>{const h=on(l).withIndex(e._queryParams.getIndex());LO(i.serverSyncTree_,e,n,!0);let m;if(e._queryParams.loadsAllData())m=nh(i.serverSyncTree_,e._path,h);else{const v=qc(i.serverSyncTree_,e);m=FS(i.serverSyncTree_,e._path,h,v)}return Qi(i.eventQueue_,e._path,m),VS(i.serverSyncTree_,e,n,null,!0),h},l=>(sh(i,"get for query "+an(e)+" failed: "+l),Promise.reject(new Error(l))))}function lI(i,e,n,o,l){sh(i,"set",{path:e.toString(),value:n,priority:o});const h=_d(i),m=on(n,o),v=Lg(i.serverSyncTree_,e),y=KS(m,v,h),w=Zg(i),C=qS(i.serverSyncTree_,e,y,w,!0);Fg(i.eventQueue_,C),i.server_.put(e.toString(),m.val(!0),(N,Z)=>{const j=N==="ok";j||Xn("set at "+e+" failed: "+N);const K=Wo(i.serverSyncTree_,w,!j);Qi(i.eventQueue_,e,K),Km(i,l,N,Z)});const O=Yg(i,e);ou(i,O),Qi(i.eventQueue_,O,[])}function uI(i,e,n,o){sh(i,"update",{path:e.toString(),value:n});let l=!0;const h=_d(i),m={};if(Rn(n,(v,y)=>{l=!1,m[v]=YS(Ht(e,v),on(y),i.serverSyncTree_,h)}),l)Cn("update() called with empty data.  Don't do anything."),Km(i,o,"ok",void 0);else{const v=Zg(i),y=RO(i.serverSyncTree_,e,m,v);Fg(i.eventQueue_,y),i.server_.merge(e.toString(),n,(w,C)=>{const O=w==="ok";O||Xn("update at "+e+" failed: "+w);const N=Wo(i.serverSyncTree_,v,!O),Z=N.length>0?ou(i,e):e;Qi(i.eventQueue_,Z,N),Km(i,o,w,C)}),Rn(n,w=>{const C=Yg(i,Ht(e,w));ou(i,C)}),Qi(i.eventQueue_,e,[])}}function cI(i){sh(i,"onDisconnectEvents");const e=_d(i),n=Bf();qm(i.onDisconnect_,ut(),(l,h)=>{const m=YS(l,h,i.serverSyncTree_,e);AS(n,l,m)});let o=[];qm(n,ut(),(l,h)=>{o=o.concat(nh(i.serverSyncTree_,l,h));const m=Yg(i,l);ou(i,m)}),i.onDisconnect_=Bf(),Qi(i.eventQueue_,ut(),o)}function hI(i){i.persistentConnection_&&i.persistentConnection_.interrupt(nI)}function sh(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),Cn(n,...e)}function Km(i,e,n,o){e&&pu(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,e(m)}})}function iE(i,e,n){return Lg(i.serverSyncTree_,e,n)||Ue.EMPTY_NODE}function Wg(i,e=i.transactionQueueTree_){if(e||vd(i,e),gu(e)){const n=rE(i,e);Ee(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&fI(i,ih(e),n)}else $S(e)&&md(e,n=>{Wg(i,n)})}function fI(i,e,n){const o=n.map(w=>w.currentWriteId),l=iE(i,e,o);let h=l;const m=l.hash();for(let w=0;w<n.length;w++){const C=n[w];Ee(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const O=Kn(e,C.path);h=h.updateChild(O,C.currentOutputSnapshotRaw)}const v=h.val(!0),y=e;i.server_.put(y.toString(),v,w=>{sh(i,"transaction put response",{path:y.toString(),status:w});let C=[];if(w==="ok"){const O=[];for(let N=0;N<n.length;N++)n[N].status=2,C=C.concat(Wo(i.serverSyncTree_,n[N].currentWriteId)),n[N].onComplete&&O.push(()=>n[N].onComplete(null,!0,n[N].currentOutputSnapshotResolved)),n[N].unwatcher();vd(i,Hg(i.transactionQueueTree_,e)),Wg(i,i.transactionQueueTree_),Qi(i.eventQueue_,e,C);for(let N=0;N<O.length;N++)pu(O[N])}else{if(w==="datastale")for(let O=0;O<n.length;O++)n[O].status===3?n[O].status=4:n[O].status=0;else{Xn("transaction at "+y.toString()+" failed: "+w);for(let O=0;O<n.length;O++)n[O].status=4,n[O].abortReason=w}ou(i,e)}},m)}function ou(i,e){const n=sE(i,e),o=ih(n),l=rE(i,n);return dI(i,l,o),o}function dI(i,e,n){if(e.length===0)return;const o=[];let l=[];const m=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const y=e[v],w=Kn(n,y.path);let C=!1,O;if(Ee(w!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)C=!0,O=y.abortReason,l=l.concat(Wo(i.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=iI)C=!0,O="maxretry",l=l.concat(Wo(i.serverSyncTree_,y.currentWriteId,!0));else{const N=iE(i,y.path,m);y.currentInputSnapshot=N;const Z=e[v].update(N.val());if(Z!==void 0){gd("transaction failed: Data returned ",Z,y.path);let j=on(Z);typeof Z=="object"&&Z!=null&&nr(Z,".priority")||(j=j.updatePriority(N.getPriority()));const J=y.currentWriteId,se=_d(i),X=KS(j,N,se);y.currentOutputSnapshotRaw=j,y.currentOutputSnapshotResolved=X,y.currentWriteId=Zg(i),m.splice(m.indexOf(J),1),l=l.concat(qS(i.serverSyncTree_,y.path,X,y.currentWriteId,y.applyLocally)),l=l.concat(Wo(i.serverSyncTree_,J,!0))}else C=!0,O="nodata",l=l.concat(Wo(i.serverSyncTree_,y.currentWriteId,!0))}Qi(i.eventQueue_,n,l),l=[],C&&(e[v].status=2,function(N){setTimeout(N,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(O==="nodata"?o.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):o.push(()=>e[v].onComplete(new Error(O),!1,null))))}vd(i,i.transactionQueueTree_);for(let v=0;v<o.length;v++)pu(o[v]);Wg(i,i.transactionQueueTree_)}function sE(i,e){let n,o=i.transactionQueueTree_;for(n=et(e);n!==null&&gu(o)===void 0;)o=Hg(o,n),e=It(e),n=et(e);return o}function rE(i,e){const n=[];return oE(i,e,n),n.sort((o,l)=>o.order-l.order),n}function oE(i,e,n){const o=gu(e);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);md(e,l=>{oE(i,l,n)})}function vd(i,e){const n=gu(e);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,XS(e,n.length>0?n:void 0)}md(e,o=>{vd(i,o)})}function Yg(i,e){const n=ih(sE(i,e)),o=Hg(i.transactionQueueTree_,e);return VO(o,l=>{Tm(i,l)}),Tm(i,o),QS(o,l=>{Tm(i,l)}),n}function Tm(i,e){const n=gu(e);if(n){const o=[];let l=[],h=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(Ee(h===m-1,"All SENT items should be at beginning of queue."),h=m,n[m].status=3,n[m].abortReason="set"):(Ee(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Wo(i.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?XS(e,void 0):n.length=h+1,Qi(i.eventQueue_,ih(e),l);for(let m=0;m<o.length;m++)pu(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){let e="";const n=i.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function mI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Xn(`Invalid query segment '${n}' in query '${i}'`)}return e}const C0=function(i,e){const n=gI(i),o=n.namespace;n.domain==="firebase.com"&&Br(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Br("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xR();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uS(n.host,n.secure,o,l,e,"",o!==n.subdomain),path:new St(n.pathString)}},gI=function(i){let e="",n="",o="",l="",h="",m=!0,v="https",y=443;if(typeof i=="string"){let w=i.indexOf("//");w>=0&&(v=i.substring(0,w-1),i=i.substring(w+2));let C=i.indexOf("/");C===-1&&(C=i.length);let O=i.indexOf("?");O===-1&&(O=i.length),e=i.substring(0,Math.min(C,O)),C<O&&(l=pI(i.substring(C,O)));const N=mI(i.substring(Math.min(i.length,O)));w=e.indexOf(":"),w>=0?(m=v==="https"||v==="wss",y=parseInt(e.substring(w+1),10)):w=e.length;const Z=e.slice(0,w);if(Z.toLowerCase()==="localhost")n="localhost";else if(Z.split(".").length<=2)n=Z;else{const j=e.indexOf(".");o=e.substring(0,j).toLowerCase(),n=e.substring(j+1),h=o}"ns"in N&&(h=N.ns)}return{host:e,port:y,domain:n,subdomain:o,secure:m,scheme:v,pathString:l,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_I=function(){let i=0;const e=[];return function(n){const o=n===i;i=n;let l;const h=new Array(8);for(l=7;l>=0;l--)h[l]=A0.charAt(n%64),n=Math.floor(n/64);Ee(n===0,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)m+=A0.charAt(e[l]);return Ee(m.length===20,"nextPushId: Length should be 20."),m}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,o,l){this.eventType=e,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+an(this.snapshot.exportVal())}}class yI{constructor(e,n,o){this.eventRegistration=e,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,o,l){this._repo=e,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return Je(this._path)?null:wg(this._path)}get ref(){return new Gr(this._repo,this._path)}get _queryIdentifier(){const e=f0(this._queryParams),n=_g(e);return n==="{}"?"default":n}get _queryObject(){return f0(this._queryParams)}isEqual(e){if(e=Nn(e),!(e instanceof Kg))return!1;const n=this._repo===e._repo,o=yS(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+lN(this._path)}}class Gr extends Kg{constructor(e,n){super(e,n,new xg,!1)}get parent(){const e=vS(this._path);return e===null?null:new Gr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Vc{constructor(e,n,o){this._node=e,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new St(e),o=Fc(this.ref,e);return new Vc(this._node.getChild(n),o,qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>e(new Vc(l,Fc(this.ref,o),qt)))}hasChild(e){const n=new St(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yd(i,e){return i=Nn(i),i._checkNotDeleted("ref"),e!==void 0?Fc(i._root,e):i._root}function Fc(i,e){return i=Nn(i),et(i._path)===null?$O("child","path",e):tE("child","path",e),new Gr(i._repo,Ht(i._path,e))}function wI(i,e){i=Nn(i),Vg("push",i._path),eE("push",e,i._path,!0);const n=nE(i._repo),o=_I(n),l=Fc(i,o),h=Fc(i,o);let m;return m=Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}function SI(i){return Vg("remove",i._path),aE(i,null)}function aE(i,e){i=Nn(i),Vg("set",i._path),eE("set",e,i._path,!1);const n=new Xc;return lI(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function EI(i,e){XO("update",e,i._path);const n=new Xc;return uI(i._repo,i._path,e,n.wrapCallback(()=>{})),n.promise}function lE(i){i=Nn(i);const e=new bI(()=>{}),n=new Xg(e);return aI(i._repo,i,n).then(o=>new Vc(o,new Gr(i._repo,i._path),i._queryParams.getIndex()))}class Xg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const o=n._queryParams.getIndex();return new vI("value",this,new Vc(e.snapshotNode,new Gr(n._repo,n._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yI(this,e,n):null}matches(e){return e instanceof Xg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}bO(Gr);xO(Gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FIREBASE_DATABASE_EMULATOR_HOST",Xm={};let xI=!1;function CI(i,e,n,o){const l=e.lastIndexOf(":"),h=e.substring(0,l),m=Fr(h);i.repoInfo_=new uS(e,m,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),o&&(i.authTokenProvider_=o)}function AI(i,e,n,o,l){let h=o||i.options.databaseURL;h===void 0&&(i.options.projectId||Br("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cn("Using default host for project ",i.options.projectId),h=`${i.options.projectId}-default-rtdb.firebaseio.com`);let m=C0(h,l),v=m.repoInfo,y;typeof process<"u"&&Yb&&(y=Yb[TI]),y?(h=`http://${y}?ns=${v.namespace}`,m=C0(h,l),v=m.repoInfo):m.repoInfo.secure;const w=new kR(i.name,i.options,e);QO("Invalid Firebase Database URL",m),Je(m.path)||Br("Database URL must point to the root of a Firebase Database (not including a child path).");const C=NI(v,i,w,new DR(i,n));return new OI(C,i)}function RI(i,e){const n=Xm[e];(!n||n[i.key]!==i)&&Br(`Database ${e}(${i.repoInfo_}) has already been deleted.`),hI(i),delete n[i.key]}function NI(i,e,n,o){let l=Xm[e.name];l||(l={},Xm[e.name]=l);let h=l[i.toURLString()];return h&&Br("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new sI(i,xI,n,o),l[i.toURLString()]=h,h}class OI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gr(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Br("Cannot call "+e+" on a deleted database.")}}function II(i=ud(),e){const n=Qc(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const o=fg("database");o&&PI(n,...o)}return n}function PI(i,e,n,o={}){i=Nn(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,h=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&Qo(o,h.repoInfo_.emulatorOptions))return;Br("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)o.mockUserToken&&Br('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new xf(xf.OWNER);else if(o.mockUserToken){const v=typeof o.mockUserToken=="string"?o.mockUserToken:dg(o.mockUserToken,i.app.options.projectId);m=new xf(v)}Fr(e)&&(sd(e),rd("Database",!0)),CI(h,l,o,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){yR(ra),Jo(new Ur("database",(e,{instanceIdentifier:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),h=e.getProvider("app-check-internal");return AI(o,l,h,n)},"PUBLIC").setMultipleInstances(!0)),$i(Kb,Xb,i),$i(Kb,Xb,"esm2020")}kr.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};kr.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};LI();var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $g;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,R){function P(){}P.prototype=R.prototype,H.D=R.prototype,H.prototype=new P,H.prototype.constructor=H,H.C=function(B,k,M){for(var D=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)D[pe-2]=arguments[pe];return R.prototype[k].apply(B,D)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,R,P){P||(P=0);var B=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)B[k]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(k=0;16>k;++k)B[k]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=H.g[0],P=H.g[1],k=H.g[2];var M=H.g[3],D=R+(M^P&(k^M))+B[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=M+(k^R&(P^k))+B[1]+3905402710&4294967295,M=R+(D<<12&4294967295|D>>>20),D=k+(P^M&(R^P))+B[2]+606105819&4294967295,k=M+(D<<17&4294967295|D>>>15),D=P+(R^k&(M^R))+B[3]+3250441966&4294967295,P=k+(D<<22&4294967295|D>>>10),D=R+(M^P&(k^M))+B[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(k^R&(P^k))+B[5]+1200080426&4294967295,M=R+(D<<12&4294967295|D>>>20),D=k+(P^M&(R^P))+B[6]+2821735955&4294967295,k=M+(D<<17&4294967295|D>>>15),D=P+(R^k&(M^R))+B[7]+4249261313&4294967295,P=k+(D<<22&4294967295|D>>>10),D=R+(M^P&(k^M))+B[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(k^R&(P^k))+B[9]+2336552879&4294967295,M=R+(D<<12&4294967295|D>>>20),D=k+(P^M&(R^P))+B[10]+4294925233&4294967295,k=M+(D<<17&4294967295|D>>>15),D=P+(R^k&(M^R))+B[11]+2304563134&4294967295,P=k+(D<<22&4294967295|D>>>10),D=R+(M^P&(k^M))+B[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(k^R&(P^k))+B[13]+4254626195&4294967295,M=R+(D<<12&4294967295|D>>>20),D=k+(P^M&(R^P))+B[14]+2792965006&4294967295,k=M+(D<<17&4294967295|D>>>15),D=P+(R^k&(M^R))+B[15]+1236535329&4294967295,P=k+(D<<22&4294967295|D>>>10),D=R+(k^M&(P^k))+B[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^k&(R^P))+B[6]+3225465664&4294967295,M=R+(D<<9&4294967295|D>>>23),D=k+(R^P&(M^R))+B[11]+643717713&4294967295,k=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(k^M))+B[0]+3921069994&4294967295,P=k+(D<<20&4294967295|D>>>12),D=R+(k^M&(P^k))+B[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^k&(R^P))+B[10]+38016083&4294967295,M=R+(D<<9&4294967295|D>>>23),D=k+(R^P&(M^R))+B[15]+3634488961&4294967295,k=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(k^M))+B[4]+3889429448&4294967295,P=k+(D<<20&4294967295|D>>>12),D=R+(k^M&(P^k))+B[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^k&(R^P))+B[14]+3275163606&4294967295,M=R+(D<<9&4294967295|D>>>23),D=k+(R^P&(M^R))+B[3]+4107603335&4294967295,k=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(k^M))+B[8]+1163531501&4294967295,P=k+(D<<20&4294967295|D>>>12),D=R+(k^M&(P^k))+B[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^k&(R^P))+B[2]+4243563512&4294967295,M=R+(D<<9&4294967295|D>>>23),D=k+(R^P&(M^R))+B[7]+1735328473&4294967295,k=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(k^M))+B[12]+2368359562&4294967295,P=k+(D<<20&4294967295|D>>>12),D=R+(P^k^M)+B[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^k)+B[8]+2272392833&4294967295,M=R+(D<<11&4294967295|D>>>21),D=k+(M^R^P)+B[11]+1839030562&4294967295,k=M+(D<<16&4294967295|D>>>16),D=P+(k^M^R)+B[14]+4259657740&4294967295,P=k+(D<<23&4294967295|D>>>9),D=R+(P^k^M)+B[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^k)+B[4]+1272893353&4294967295,M=R+(D<<11&4294967295|D>>>21),D=k+(M^R^P)+B[7]+4139469664&4294967295,k=M+(D<<16&4294967295|D>>>16),D=P+(k^M^R)+B[10]+3200236656&4294967295,P=k+(D<<23&4294967295|D>>>9),D=R+(P^k^M)+B[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^k)+B[0]+3936430074&4294967295,M=R+(D<<11&4294967295|D>>>21),D=k+(M^R^P)+B[3]+3572445317&4294967295,k=M+(D<<16&4294967295|D>>>16),D=P+(k^M^R)+B[6]+76029189&4294967295,P=k+(D<<23&4294967295|D>>>9),D=R+(P^k^M)+B[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^k)+B[12]+3873151461&4294967295,M=R+(D<<11&4294967295|D>>>21),D=k+(M^R^P)+B[15]+530742520&4294967295,k=M+(D<<16&4294967295|D>>>16),D=P+(k^M^R)+B[2]+3299628645&4294967295,P=k+(D<<23&4294967295|D>>>9),D=R+(k^(P|~M))+B[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~k))+B[7]+1126891415&4294967295,M=R+(D<<10&4294967295|D>>>22),D=k+(R^(M|~P))+B[14]+2878612391&4294967295,k=M+(D<<15&4294967295|D>>>17),D=P+(M^(k|~R))+B[5]+4237533241&4294967295,P=k+(D<<21&4294967295|D>>>11),D=R+(k^(P|~M))+B[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~k))+B[3]+2399980690&4294967295,M=R+(D<<10&4294967295|D>>>22),D=k+(R^(M|~P))+B[10]+4293915773&4294967295,k=M+(D<<15&4294967295|D>>>17),D=P+(M^(k|~R))+B[1]+2240044497&4294967295,P=k+(D<<21&4294967295|D>>>11),D=R+(k^(P|~M))+B[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~k))+B[15]+4264355552&4294967295,M=R+(D<<10&4294967295|D>>>22),D=k+(R^(M|~P))+B[6]+2734768916&4294967295,k=M+(D<<15&4294967295|D>>>17),D=P+(M^(k|~R))+B[13]+1309151649&4294967295,P=k+(D<<21&4294967295|D>>>11),D=R+(k^(P|~M))+B[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~k))+B[11]+3174756917&4294967295,M=R+(D<<10&4294967295|D>>>22),D=k+(R^(M|~P))+B[2]+718787259&4294967295,k=M+(D<<15&4294967295|D>>>17),D=P+(M^(k|~R))+B[9]+3951481745&4294967295,H.g[0]=H.g[0]+R&4294967295,H.g[1]=H.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,H.g[2]=H.g[2]+k&4294967295,H.g[3]=H.g[3]+M&4294967295}o.prototype.u=function(H,R){R===void 0&&(R=H.length);for(var P=R-this.blockSize,B=this.B,k=this.h,M=0;M<R;){if(k==0)for(;M<=P;)l(this,H,M),M+=this.blockSize;if(typeof H=="string"){for(;M<R;)if(B[k++]=H.charCodeAt(M++),k==this.blockSize){l(this,B),k=0;break}}else for(;M<R;)if(B[k++]=H[M++],k==this.blockSize){l(this,B),k=0;break}}this.h=k,this.o+=R},o.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var R=1;R<H.length-8;++R)H[R]=0;var P=8*this.o;for(R=H.length-8;R<H.length;++R)H[R]=P&255,P/=256;for(this.u(H),H=Array(16),R=P=0;4>R;++R)for(var B=0;32>B;B+=8)H[P++]=this.g[R]>>>B&255;return H};function h(H,R){var P=v;return Object.prototype.hasOwnProperty.call(P,H)?P[H]:P[H]=R(H)}function m(H,R){this.h=R;for(var P=[],B=!0,k=H.length-1;0<=k;k--){var M=H[k]|0;B&&M==R||(P[k]=M,B=!1)}this.g=P}var v={};function y(H){return-128<=H&&128>H?h(H,function(R){return new m([R|0],0>R?-1:0)}):new m([H|0],0>H?-1:0)}function w(H){if(isNaN(H)||!isFinite(H))return O;if(0>H)return J(w(-H));for(var R=[],P=1,B=0;H>=P;B++)R[B]=H/P|0,P*=4294967296;return new m(R,0)}function C(H,R){if(H.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(H.charAt(0)=="-")return J(C(H.substring(1),R));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=w(Math.pow(R,8)),B=O,k=0;k<H.length;k+=8){var M=Math.min(8,H.length-k),D=parseInt(H.substring(k,k+M),R);8>M?(M=w(Math.pow(R,M)),B=B.j(M).add(w(D))):(B=B.j(P),B=B.add(w(D)))}return B}var O=y(0),N=y(1),Z=y(16777216);i=m.prototype,i.m=function(){if(K(this))return-J(this).m();for(var H=0,R=1,P=0;P<this.g.length;P++){var B=this.i(P);H+=(0<=B?B:4294967296+B)*R,R*=4294967296}return H},i.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(j(this))return"0";if(K(this))return"-"+J(this).toString(H);for(var R=w(Math.pow(H,6)),P=this,B="";;){var k=ge(P,R).g;P=se(P,k.j(R));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(H);if(P=k,j(P))return M+B;for(;6>M.length;)M="0"+M;B=M+B}},i.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function j(H){if(H.h!=0)return!1;for(var R=0;R<H.g.length;R++)if(H.g[R]!=0)return!1;return!0}function K(H){return H.h==-1}i.l=function(H){return H=se(this,H),K(H)?-1:j(H)?0:1};function J(H){for(var R=H.g.length,P=[],B=0;B<R;B++)P[B]=~H.g[B];return new m(P,~H.h).add(N)}i.abs=function(){return K(this)?J(this):this},i.add=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],B=0,k=0;k<=R;k++){var M=B+(this.i(k)&65535)+(H.i(k)&65535),D=(M>>>16)+(this.i(k)>>>16)+(H.i(k)>>>16);B=D>>>16,M&=65535,D&=65535,P[k]=D<<16|M}return new m(P,P[P.length-1]&-2147483648?-1:0)};function se(H,R){return H.add(J(R))}i.j=function(H){if(j(this)||j(H))return O;if(K(this))return K(H)?J(this).j(J(H)):J(J(this).j(H));if(K(H))return J(this.j(J(H)));if(0>this.l(Z)&&0>H.l(Z))return w(this.m()*H.m());for(var R=this.g.length+H.g.length,P=[],B=0;B<2*R;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(var k=0;k<H.g.length;k++){var M=this.i(B)>>>16,D=this.i(B)&65535,pe=H.i(k)>>>16,F=H.i(k)&65535;P[2*B+2*k]+=D*F,X(P,2*B+2*k),P[2*B+2*k+1]+=M*F,X(P,2*B+2*k+1),P[2*B+2*k+1]+=D*pe,X(P,2*B+2*k+1),P[2*B+2*k+2]+=M*pe,X(P,2*B+2*k+2)}for(B=0;B<R;B++)P[B]=P[2*B+1]<<16|P[2*B];for(B=R;B<2*R;B++)P[B]=0;return new m(P,0)};function X(H,R){for(;(H[R]&65535)!=H[R];)H[R+1]+=H[R]>>>16,H[R]&=65535,R++}function ne(H,R){this.g=H,this.h=R}function ge(H,R){if(j(R))throw Error("division by zero");if(j(H))return new ne(O,O);if(K(H))return R=ge(J(H),R),new ne(J(R.g),J(R.h));if(K(R))return R=ge(H,J(R)),new ne(J(R.g),R.h);if(30<H.g.length){if(K(H)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var P=N,B=R;0>=B.l(H);)P=G(P),B=G(B);var k=fe(P,1),M=fe(B,1);for(B=fe(B,2),P=fe(P,2);!j(B);){var D=M.add(B);0>=D.l(H)&&(k=k.add(P),M=D),B=fe(B,1),P=fe(P,1)}return R=se(H,k.j(R)),new ne(k,R)}for(k=O;0<=H.l(R);){for(P=Math.max(1,Math.floor(H.m()/R.m())),B=Math.ceil(Math.log(P)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),M=w(P),D=M.j(R);K(D)||0<D.l(H);)P-=B,M=w(P),D=M.j(R);j(M)&&(M=N),k=k.add(M),H=se(H,D)}return new ne(k,H)}i.A=function(H){return ge(this,H).h},i.and=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],B=0;B<R;B++)P[B]=this.i(B)&H.i(B);return new m(P,this.h&H.h)},i.or=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],B=0;B<R;B++)P[B]=this.i(B)|H.i(B);return new m(P,this.h|H.h)},i.xor=function(H){for(var R=Math.max(this.g.length,H.g.length),P=[],B=0;B<R;B++)P[B]=this.i(B)^H.i(B);return new m(P,this.h^H.h)};function G(H){for(var R=H.g.length+1,P=[],B=0;B<R;B++)P[B]=H.i(B)<<1|H.i(B-1)>>>31;return new m(P,H.h)}function fe(H,R){var P=R>>5;R%=32;for(var B=H.g.length-P,k=[],M=0;M<B;M++)k[M]=0<R?H.i(M+P)>>>R|H.i(M+P+1)<<32-R:H.i(M+P);return new m(k,H.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=w,m.fromString=C,$g=m}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var o=n(this);function l(f,b){if(b)e:{var T=o;f=f.split(".");for(var z=0;z<f.length-1;z++){var ie=f[z];if(!(ie in T))break e;T=T[ie]}f=f[f.length-1],z=T[f],b=b(z),b!=z&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function h(f,b){f instanceof String&&(f+="");var T=0,z=!1,ie={next:function(){if(!z&&T<f.length){var de=T++;return{value:b(de,f[de]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}l("Array.prototype.values",function(f){return f||function(){return h(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},v=this||self;function y(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function w(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function C(f,b,T){return f.call.apply(f.bind,arguments)}function O(f,b,T){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,z),f.apply(b,ie)}}return function(){return f.apply(b,arguments)}}function N(f,b,T){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:O,N.apply(null,arguments)}function Z(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var z=T.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function j(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(z,ie,de){for(var Se=Array(arguments.length-2),at=2;at<arguments.length;at++)Se[at-2]=arguments[at];return b.prototype[ie].apply(z,Se)}}function K(f){const b=f.length;if(0<b){const T=Array(b);for(let z=0;z<b;z++)T[z]=f[z];return T}return[]}function J(f,b){for(let T=1;T<arguments.length;T++){const z=arguments[T];if(y(z)){const ie=f.length||0,de=z.length||0;f.length=ie+de;for(let Se=0;Se<de;Se++)f[ie+Se]=z[Se]}else f.push(z)}}class se{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function X(f){return/^[\s\xa0]*$/.test(f)}function ne(){var f=v.navigator;return f&&(f=f.userAgent)?f:""}function ge(f){return ge[" "](f),f}ge[" "]=function(){};var G=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function fe(f,b,T){for(const z in f)b.call(T,f[z],z,f)}function H(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function R(f){const b={};for(const T in f)b[T]=f[T];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,b){let T,z;for(let ie=1;ie<arguments.length;ie++){z=arguments[ie];for(T in z)f[T]=z[T];for(let de=0;de<P.length;de++)T=P[de],Object.prototype.hasOwnProperty.call(z,T)&&(f[T]=z[T])}}function k(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function M(f){v.setTimeout(()=>{throw f},0)}function D(){var f=Ce;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class pe{constructor(){this.h=this.g=null}add(b,T){const z=F.get();z.set(b,T),this.h?this.h.next=z:this.g=z,this.h=z}}var F=new se(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,te=!1,Ce=new pe,U=()=>{const f=v.Promise.resolve(void 0);ae=()=>{f.then(ue)}};var ue=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){M(T)}var b=F;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}te=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};v.addEventListener("test",T,b),v.removeEventListener("test",T,b)}catch{}return f}();function Re(f,b){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(G){e:{try{ge(b.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}j(Re,ye);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ai(f,b,T,z,ie){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!z,this.ha=ie,this.key=++Ke,this.da=this.fa=!1}function Ii(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function li(f){this.src=f,this.g={},this.h=0}li.prototype.add=function(f,b,T,z,ie){var de=f.toString();f=this.g[de],f||(f=this.g[de]=[],this.h++);var Se=es(f,b,z,ie);return-1<Se?(b=f[Se],T||(b.fa=!1)):(b=new ai(b,this.src,de,!!z,ie),b.fa=T,f.push(b)),b};function ui(f,b){var T=b.type;if(T in f.g){var z=f.g[T],ie=Array.prototype.indexOf.call(z,b,void 0),de;(de=0<=ie)&&Array.prototype.splice.call(z,ie,1),de&&(Ii(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function es(f,b,T,z){for(var ie=0;ie<f.length;++ie){var de=f[ie];if(!de.da&&de.listener==b&&de.capture==!!T&&de.ha==z)return ie}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),Zr={};function oa(f,b,T,z,ie){if(Array.isArray(b)){for(var de=0;de<b.length;de++)oa(f,b[de],T,z,ie);return null}return T=al(T),f&&f[pt]?f.K(b,T,w(z)?!!z.capture:!1,ie):On(f,b,T,!1,z,ie)}function On(f,b,T,z,ie,de){if(!b)throw Error("Invalid event type");var Se=w(ie)?!!ie.capture:!!ie,at=rr(f);if(at||(f[ir]=at=new li(f)),T=at.add(b,T,z,Se,de),T.proxy)return T;if(z=Wr(),T.proxy=z,z.src=f,z.listener=T,f.addEventListener)Te||(ie=Se),ie===void 0&&(ie=!1),f.addEventListener(b.toString(),z,ie);else if(f.attachEvent)f.attachEvent(ts(b.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Wr(){function f(T){return b.call(f.src,f.listener,T)}const b=ol;return f}function aa(f,b,T,z,ie){if(Array.isArray(b))for(var de=0;de<b.length;de++)aa(f,b[de],T,z,ie);else z=w(z)?!!z.capture:!!z,T=al(T),f&&f[pt]?(f=f.i,b=String(b).toString(),b in f.g&&(de=f.g[b],T=es(de,T,z,ie),-1<T&&(Ii(de[T]),Array.prototype.splice.call(de,T,1),de.length==0&&(delete f.g[b],f.h--)))):f&&(f=rr(f))&&(b=f.g[b.toString()],f=-1,b&&(f=es(b,T,z,ie)),(T=-1<f?b[f]:null)&&sr(T))}function sr(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[pt])ui(b.i,f);else{var T=f.type,z=f.proxy;b.removeEventListener?b.removeEventListener(T,z,f.capture):b.detachEvent?b.detachEvent(ts(T),z):b.addListener&&b.removeListener&&b.removeListener(z),(T=rr(b))?(ui(T,f),T.h==0&&(T.src=null,b[ir]=null)):Ii(f)}}}function ts(f){return f in Zr?Zr[f]:Zr[f]="on"+f}function ol(f,b){if(f.da)f=!0;else{b=new Re(b,this);var T=f.listener,z=f.ha||f.src;f.fa&&sr(f),f=T.call(z,b)}return f}function rr(f){return f=f[ir],f instanceof li?f:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function al(f){return typeof f=="function"?f:(f[la]||(f[la]=function(b){return f.handleEvent(b)}),f[la])}function Tt(){we.call(this),this.i=new li(this),this.M=this,this.F=null}j(Tt,we),Tt.prototype[pt]=!0,Tt.prototype.removeEventListener=function(f,b,T,z){aa(this,f,b,T,z)};function ot(f,b){var T,z=f.F;if(z)for(T=[];z;z=z.F)T.push(z);if(f=f.M,z=b.type||b,typeof b=="string")b=new ye(b,f);else if(b instanceof ye)b.target=b.target||f;else{var ie=b;b=new ye(z,f),B(b,ie)}if(ie=!0,T)for(var de=T.length-1;0<=de;de--){var Se=b.g=T[de];ie=In(Se,z,!0,b)&&ie}if(Se=b.g=f,ie=In(Se,z,!0,b)&&ie,ie=In(Se,z,!1,b)&&ie,T)for(de=0;de<T.length;de++)Se=b.g=T[de],ie=In(Se,z,!1,b)&&ie}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],z=0;z<T.length;z++)Ii(T[z]);delete f.g[b],f.h--}}this.F=null},Tt.prototype.K=function(f,b,T,z){return this.i.add(String(f),b,!1,T,z)},Tt.prototype.L=function(f,b,T,z){return this.i.add(String(f),b,!0,T,z)};function In(f,b,T,z){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var ie=!0,de=0;de<b.length;++de){var Se=b[de];if(Se&&!Se.da&&Se.capture==T){var at=Se.listener,At=Se.ha||Se.src;Se.fa&&ui(f.i,Se),ie=at.call(At,z)!==!1&&ie}}return ie&&!z.defaultPrevented}function ln(f,b,T){if(typeof f=="function")T&&(f=N(f,T));else if(f&&typeof f.handleEvent=="function")f=N(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:v.setTimeout(f,b||0)}function ua(f){f.g=ln(()=>{f.g=null,f.i&&(f.i=!1,ua(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class ll extends we{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(f){we.call(this),this.h=f,this.g={}}j(or,we);var Rs=[];function ns(f){fe(f.g,function(b,T){this.g.hasOwnProperty(T)&&sr(b)},f),f.g={}}or.prototype.N=function(){or.aa.N.call(this),ns(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=v.JSON.stringify,Yr=v.JSON.parse,ci=class{stringify(f){return v.JSON.stringify(f,void 0)}parse(f){return v.JSON.parse(f,void 0)}};function ca(){}ca.prototype.h=null;function ha(f){return f.h||(f.h=f.i())}function fa(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ye.call(this,"d")}j(Li,ye);function da(){ye.call(this,"c")}j(da,ye);var is={},pa=null;function ar(){return pa=pa||new Tt}is.La="serverreachability";function Kr(f){ye.call(this,is.La,f)}j(Kr,ye);function Ns(f){const b=ar();ot(b,new Kr(b))}is.STAT_EVENT="statevent";function Xr(f,b){ye.call(this,is.STAT_EVENT,f),this.stat=b}j(Xr,ye);function xt(f){const b=ar();ot(b,new Xr(b,f))}is.Ma="timingevent";function Gt(f,b){ye.call(this,is.Ma,f),this.size=b}j(Gt,ye);function jt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){f()},b)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Pn(f,b,T,z,ie,de){f.info(function(){if(f.g)if(de)for(var Se="",at=de.split("&"),At=0;At<at.length;At++){var Xe=at[At].split("=");if(1<Xe.length){var Xt=Xe[0];Xe=Xe[1];var dt=Xt.split("_");Se=2<=dt.length&&dt[1]=="type"?Se+(Xt+"="+Xe+"&"):Se+(Xt+"=redacted&")}}else Se=null;else Se=de;return"XMLHTTP REQ ("+z+") [attempt "+ie+"]: "+b+`
`+T+`
`+Se})}function Pe(f,b,T,z,ie,de,Se){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ie+"]: "+b+`
`+T+`
`+de+" "+Se})}function ss(f,b,T,z){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Os(f,T)+(z?" "+z:"")})}function ma(f,b){f.info(function(){return"TIMEOUT: "+b})}Jn.prototype.info=function(){};function Os(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var z=T[f];if(!(2>z.length)){var ie=z[1];if(Array.isArray(ie)&&!(1>ie.length)){var de=ie[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Se=1;Se<ie.length;Se++)ie[Se]=""}}}}return Qn(T)}catch{return b}}var Is={NO_ERROR:0,TIMEOUT:8},Mi={},hi;function yn(){}j(yn,ca),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},hi=new yn;function un(f,b,T,z){this.j=f,this.i=b,this.l=T,this.R=z||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var ga={},$r={};function fi(f,b,T){f.L=1,f.v=Bn(Ct(b)),f.m=T,f.P=!0,Di(f,null)}function Di(f,b){f.F=Date.now(),ur(f),f.A=Ct(f.v);var T=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),ya(T.i,"t",z),f.C=0,T=f.j.J,f.h=new kt,f.g=pl(f.j,T?b:null,!f.m),0<f.O&&(f.M=new ll(N(f.Y,f,f.g),f.O)),b=f.U,T=f.g,z=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Rs[0]=ie.toString()),ie=Rs);for(var de=0;de<ie.length;de++){var Se=oa(T,ie[de],z||b.handleEvent,!1,b.h||b);if(!Se)break;b.g[Se.key]=Se}b=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Ns(),Pn(f.i,f.u,f.A,f.l,f.R,f.m)}un.prototype.ca=function(f){f=f.target;const b=this.M;b&&fn(f)==3?b.j():this.Y(f)},un.prototype.Y=function(f){try{if(f==this.g)e:{const dt=fn(this.g);var b=this.g.Ba();const kn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ba(this.g)))){this.J||dt!=4||b==7||(b==8||0>=kn?Ns(3):Ns(2)),Ps(this);var T=this.g.Z();this.X=T;t:if(ul(this)){var z=ba(this.g);f="";var ie=z.length,de=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),ki(this);var Se="";break t}this.h.i=new v.TextDecoder}for(b=0;b<ie;b++)this.h.h=!0,f+=this.h.i.decode(z[b],{stream:!(de&&b==ie-1)});z.length=0,this.h.g+=f,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=T==200,Pe(this.i,this.u,this.A,this.l,this.R,dt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var at,At=this.g;if((at=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(at)){var Xe=at;break t}}Xe=null}if(T=Xe)ss(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,T);else{this.o=!1,this.s=3,xt(12),tn(this),ki(this);break e}}if(this.P){T=!0;let zn;for(;!this.J&&this.C<Se.length;)if(zn=lr(this,Se),zn==$r){dt==4&&(this.s=4,xt(14),T=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==ga){this.s=4,xt(15),ss(this.i,this.l,Se,"[Invalid Chunk]"),T=!1;break}else ss(this.i,this.l,zn,null),rs(this,zn);if(ul(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||Se.length!=0||this.h.h||(this.s=1,xt(16),T=!1),this.o=this.o&&T,!T)ss(this.i,this.l,Se,"[Invalid Chunked Response]"),tn(this),ki(this);else if(0<Se.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Us(Xt),Xt.M=!0,xt(11))}}else ss(this.i,this.l,Se,null),rs(this,Se);dt==4&&tn(this),this.o&&!this.J&&(dt==4?Sa(this.j,this):(this.o=!1,ur(this)))}else vu(this.g),T==400&&0<Se.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),tn(this),ki(this)}}}catch{}finally{}};function ul(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function lr(f,b){var T=f.C,z=b.indexOf(`
`,T);return z==-1?$r:(T=Number(b.substring(T,z)),isNaN(T)?ga:(z+=1,z+T>b.length?$r:(b=b.slice(z,z+T),f.C=z+T,b)))}un.prototype.cancel=function(){this.J=!0,tn(this)};function ur(f){f.S=Date.now()+f.I,cl(f,f.I)}function cl(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jt(N(f.ba,f),b)}function Ps(f){f.B&&(v.clearTimeout(f.B),f.B=null)}un.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ma(this.i,this.A),this.L!=2&&(Ns(),xt(17)),tn(this),this.s=2,ki(this)):cl(this,this.S-f)};function ki(f){f.j.G==0||f.J||Sa(f.j,f)}function tn(f){Ps(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,ns(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function rs(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||Ze(T.h,f))){if(!f.K&&Ze(T.h,f)&&T.G==3){try{var z=T.Da.g.parse(b)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ie=z;if(ie[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)oo(T),io(T);else break e;so(T),xt(18)}}else T.za=ie[1],0<T.za-T.T&&37500>ie[2]&&T.F&&T.v==0&&!T.C&&(T.C=jt(N(T.Za,T),6e3));if(1>=Ui(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else hs(T,11)}else if((f.K||T.g==f)&&oo(T),!X(b))for(ie=T.Da.g.parse(b),b=0;b<ie.length;b++){let Xe=ie[b];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Xt=Xe[3];Xt!=null&&(T.la=Xt,T.j.info("VER="+T.la));const dt=Xe[4];dt!=null&&(T.Aa=dt,T.j.info("SVER="+T.Aa));const kn=Xe[5];kn!=null&&typeof kn=="number"&&0<kn&&(z=1.5*kn,T.L=z,T.j.info("backChannelRequestTimeoutMs_="+z)),z=T;const zn=f.g;if(zn){const $t=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var de=z.h;de.g||$t.indexOf("spdy")==-1&&$t.indexOf("quic")==-1&&$t.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(ft(de,de.h),de.h=null))}if(z.D){const fs=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;fs&&(z.ya=fs,ze(z.I,z.D,fs))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),z=T;var Se=f;if(z.qa=lo(z,z.J?z.ia:null,z.W),Se.K){Kt(z.h,Se);var at=Se,At=z.L;At&&(at.I=At),at.B&&(Ps(at),ur(at)),z.g=Se}else vi(z);0<T.i.length&&zs(T)}else Xe[0]!="stop"&&Xe[0]!="close"||hs(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?hs(T,7):no(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}Ns(4)}catch{}}var Ls=class{constructor(f,b){this.g=f,this.map=b}};function zi(f){this.l=f||10,v.PerformanceNavigationTiming?(f=v.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Ze(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function ft(f,b){f.g?f.g.add(b):f.h=b}function Kt(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}zi.prototype.cancel=function(){if(this.i=ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ji(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return K(f.i)}function Ms(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var b=[],T=f.length,z=0;z<T;z++)b.push(f[z]);return b}b=[],T=0;for(z in f)b[T++]=f[z];return b}function Ds(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const z in f)b[T++]=z;return b}}}function qe(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=Ds(f),z=Ms(f),ie=z.length,de=0;de<ie;de++)b.call(void 0,z[de],T&&T[de],f)}var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var z=f[T].indexOf("="),ie=null;if(0<=z){var de=f[T].substring(0,z);ie=f[T].substring(z+1)}else de=f[T];b(de,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Pt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pt){this.h=f.h,hr(this,f.j),this.o=f.o,this.g=f.g,di(this,f.s),this.l=f.l;var b=f.i,T=new mi;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),bn(this,T),this.m=f.m}else f&&(b=String(f).match(mt))?(this.h=!1,hr(this,b[1]||"",!0),this.o=cn(b[2]||""),this.g=cn(b[3]||"",!0),di(this,b[4]),this.l=cn(b[5]||"",!0),bn(this,b[6]||"",!0),this.m=cn(b[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Pt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(pi(b,os,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(pi(b,os,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(pi(T,T.charAt(0)=="/"?va:fr,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",pi(T,ks)),f.join("")};function Ct(f){return new Pt(f)}function hr(f,b,T){f.j=T?cn(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function di(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function bn(f,b,T){b instanceof mi?(f.i=b,Hn(f.i,f.h)):(T||(b=pi(b,Jr)),f.i=new mi(b,f.h))}function ze(f,b,T){f.i.set(b,T)}function Bn(f){return ze(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function cn(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pi(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Qr),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Qr(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var os=/[#\/\?@]/g,fr=/[#\?:]/g,va=/[#\?]/g,Jr=/[#\?@]/g,ks=/#/g;function mi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&_a(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}i=mi.prototype,i.add=function(f,b){wn(this),this.i=null,f=Me(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function Bi(f,b){wn(f),b=Me(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function gi(f,b){return wn(f),b=Me(f,b),f.g.has(b)}i.forEach=function(f,b){wn(this),this.g.forEach(function(T,z){T.forEach(function(ie){f.call(b,ie,z,this)},this)},this)},i.na=function(){wn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let z=0;z<b.length;z++){const ie=f[z];for(let de=0;de<ie.length;de++)T.push(b[z])}return T},i.V=function(f){wn(this);let b=[];if(typeof f=="string")gi(this,f)&&(b=b.concat(this.g.get(Me(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},i.set=function(f,b){return wn(this),this.i=null,f=Me(this,f),gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},i.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function ya(f,b,T){Bi(f,b),0<T.length&&(f.i=null,f.g.set(Me(f,b),K(T)),f.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var z=b[T];const de=encodeURIComponent(String(z)),Se=this.V(z);for(z=0;z<Se.length;z++){var ie=de;Se[z]!==""&&(ie+="="+encodeURIComponent(String(Se[z]))),f.push(ie)}}return this.i=f.join("&")};function Me(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Hn(f,b){b&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(T,z){var ie=z.toLowerCase();z!=ie&&(Bi(this,z),ya(this,ie,T))},f)),f.j=b}function tt(f,b){const T=new Jn;if(v.Image){const z=new Image;z.onload=Z(Ln,T,"TestLoadImage: loaded",!0,b,z),z.onerror=Z(Ln,T,"TestLoadImage: error",!1,b,z),z.onabort=Z(Ln,T,"TestLoadImage: abort",!1,b,z),z.ontimeout=Z(Ln,T,"TestLoadImage: timeout",!1,b,z),v.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else b(!1)}function ei(f,b){const T=new Jn,z=new AbortController,ie=setTimeout(()=>{z.abort(),Ln(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:z.signal}).then(de=>{clearTimeout(ie),de.ok?Ln(T,"TestPingServer: ok",!0,b):Ln(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ie),Ln(T,"TestPingServer: error",!1,b)})}function Ln(f,b,T,z,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),z(T)}catch{}}function as(){this.g=new ci}function ti(f,b,T){const z=T||"";try{qe(f,function(ie,de){let Se=ie;w(ie)&&(Se=Qn(ie)),b.push(z+de+"="+encodeURIComponent(Se))})}catch(ie){throw b.push(z+"type="+encodeURIComponent("_badmap")),ie}}function Mn(f){this.l=f.Ub||null,this.j=f.eb||!1}j(Mn,ca),Mn.prototype.g=function(){return new _i(this.l,this.j)},Mn.prototype.i=function(f){return function(){return f}}({});function _i(f,b){Tt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(_i,Tt),i=_i.prototype,i.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,hn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||v).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vt(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ls(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ls(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?vt(this):hn(this),this.readyState==3&&ls(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,vt(this))},i.Qa=function(f){this.g&&(this.response=f,vt(this))},i.ga=function(){this.g&&vt(this)};function vt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,hn(f)}i.setRequestHeader=function(f,b){this.u.append(f,b)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function hn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function eo(f){let b="";return fe(f,function(T,z){b+=z,b+=":",b+=T,b+=`\r
`}),b}function Zt(f,b,T){e:{for(z in T){var z=!1;break e}z=!0}z||(T=eo(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):ze(f,b,T))}function ct(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(ct,Tt);var dr=/^https?$/i,us=["POST","PUT"];i=ct.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,b,T,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?ha(this.o):ha(hi),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(de){hl(this,de);return}if(f=T||"",T=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ie in z)T.set(ie,z[ie]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const de of z.keys())T.set(de,z.get(de));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(T.keys()).find(de=>de.toLowerCase()=="content-type"),ie=v.FormData&&f instanceof v.FormData,!(0<=Array.prototype.indexOf.call(us,b,void 0))||z||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Se]of T)this.g.setRequestHeader(de,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(f),this.u=!1}catch(de){hl(this,de)}};function hl(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,pr(f),Hi(f)}function pr(f){f.A||(f.A=!0,ot(f,"complete"),ot(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ot(this,"complete"),ot(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ve(this):this.bb())},i.bb=function(){Ve(this)};function Ve(f){if(f.h&&typeof m<"u"&&(!f.v[1]||fn(f)!=4||f.Z()!=2)){if(f.u&&fn(f)==4)ln(f.Ea,0,f);else if(ot(f,"readystatechange"),fn(f)==4){f.h=!1;try{const Se=f.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var z;if(z=Se===0){var ie=String(f.D).match(mt)[1]||null;!ie&&v.self&&v.self.location&&(ie=v.self.location.protocol.slice(0,-1)),z=!dr.test(ie?ie.toLowerCase():"")}T=z}if(T)ot(f,"complete"),ot(f,"success");else{f.m=6;try{var de=2<fn(f)?f.g.statusText:""}catch{de=""}f.l=de+" ["+f.Z()+"]",pr(f)}}finally{Hi(f)}}}}function Hi(f,b){if(f.g){nn(f);const T=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ot(f,"ready");try{T.onreadystatechange=z}catch{}}}function nn(f){f.I&&(v.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function fn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Yr(b)}};function ba(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vu(f){const b={};f=(f.g&&2<=fn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(X(f[z]))continue;var T=k(f[z]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const de=b[ie]||[];b[ie]=de,de.push(T)}H(b,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function to(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,f),this.cb=cs("retryDelaySeedMs",1e4,f),this.Wa=cs("forwardChannelMaxRetries",2,f),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new as,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=to.prototype,i.la=8,i.G=1,i.connect=function(f,b,T,z){xt(0),this.W=f,this.H=b||{},T&&z!==void 0&&(this.H.OSID=T,this.H.OAID=z),this.F=this.X,this.I=lo(this,null,this.W),zs(this)};function no(f){if(fl(f),f.G==3){var b=f.U++,T=Ct(f.I);if(ze(T,"SID",f.K),ze(T,"RID",b),ze(T,"TYPE","terminate"),mr(f,T),b=new un(f,f.j,b),b.L=2,b.v=Bn(Ct(T)),T=!1,v.navigator&&v.navigator.sendBeacon)try{T=v.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&v.Image&&(new Image().src=b.v,T=!0),T||(b.g=pl(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ur(b)}dl(f)}function io(f){f.g&&(Us(f),f.g.cancel(),f.g=null)}function fl(f){io(f),f.u&&(v.clearTimeout(f.u),f.u=null),oo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&v.clearTimeout(f.s),f.s=null)}function zs(f){if(!cr(f.h)&&!f.s){f.s=!0;var b=f.Ga;ae||U(),te||(ae(),te=!0),Ce.add(b,f),f.B=0}}function yu(f,b){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jt(N(f.Ga,f,b),ao(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new un(this,this.j,f);let de=this.o;if(this.S&&(de?(de=R(de),B(de,this.S)):de=this.S),this.m!==null||this.O||(ie.H=de,de=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var z=this.i[T];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(b+=z,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=wa(this,ie,b),T=Ct(this.I),ze(T,"RID",f),ze(T,"CVER",22),this.D&&ze(T,"X-HTTP-Session-Id",this.D),mr(this,T),de&&(this.O?b="headers="+encodeURIComponent(String(eo(de)))+"&"+b:this.m&&Zt(T,this.m,de)),ft(this.h,ie),this.Ua&&ze(T,"TYPE","init"),this.P?(ze(T,"$req",b),ze(T,"SID","null"),ie.T=!0,fi(ie,T,null)):fi(ie,T,b),this.G=2}}else this.G==3&&(f?Dn(this,f):this.i.length==0||cr(this.h)||Dn(this))};function Dn(f,b){var T;b?T=b.l:T=f.U++;const z=Ct(f.I);ze(z,"SID",f.K),ze(z,"RID",T),ze(z,"AID",f.T),mr(f,z),f.m&&f.o&&Zt(z,f.m,f.o),T=new un(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=wa(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ft(f.h,T),fi(T,z,b)}function mr(f,b){f.H&&fe(f.H,function(T,z){ze(b,z,T)}),f.l&&qe({},function(T,z){ze(b,z,T)})}function wa(f,b,T){T=Math.min(f.i.length,T);var z=f.l?N(f.l.Na,f.l,f):null;e:{var ie=f.i;let de=-1;for(;;){const Se=["count="+T];de==-1?0<T?(de=ie[0].g,Se.push("ofs="+de)):de=0:Se.push("ofs="+de);let at=!0;for(let At=0;At<T;At++){let Xe=ie[At].g;const Xt=ie[At].map;if(Xe-=de,0>Xe)de=Math.max(0,ie[At].g-100),at=!1;else try{ti(Xt,Se,"req"+Xe+"_")}catch{z&&z(Xt)}}if(at){z=Se.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,z}function vi(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;ae||U(),te||(ae(),te=!0),Ce.add(b,f),f.v=0}}function so(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jt(N(f.Fa,f),ao(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,ro(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jt(N(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),io(this),ro(this))};function Us(f){f.A!=null&&(v.clearTimeout(f.A),f.A=null)}function ro(f){f.g=new un(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Ct(f.qa);ze(b,"RID","rpc"),ze(b,"SID",f.K),ze(b,"AID",f.T),ze(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ze(b,"TO",f.ja),ze(b,"TYPE","xmlhttp"),mr(f,b),f.m&&f.o&&Zt(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Bn(Ct(b)),T.m=null,T.P=!0,Di(T,f)}i.Za=function(){this.C!=null&&(this.C=null,io(this),so(this),xt(19))};function oo(f){f.C!=null&&(v.clearTimeout(f.C),f.C=null)}function Sa(f,b){var T=null;if(f.g==b){oo(f),Us(f),f.g=null;var z=2}else if(Ze(f.h,b))T=b.D,Kt(f.h,b),z=1;else return;if(f.G!=0){if(b.o)if(z==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var ie=f.B;z=ar(),ot(z,new Gt(z,T)),zs(f)}else vi(f);else if(ie=b.s,ie==3||ie==0&&0<b.X||!(z==1&&yu(f,b)||z==2&&so(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),ie){case 1:hs(f,5);break;case 4:hs(f,10);break;case 3:hs(f,6);break;default:hs(f,2)}}}function ao(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function hs(f,b){if(f.j.info("Error code "+b),b==2){var T=N(f.fb,f),z=f.Xa;const ie=!z;z=new Pt(z||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||hr(z,"https"),Bn(z),ie?tt(z.toString(),T):ei(z.toString(),T)}else xt(2);f.G=0,f.l&&f.l.sa(b),dl(f),fl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function dl(f){if(f.G=0,f.ka=[],f.l){const b=ji(f.h);(b.length!=0||f.i.length!=0)&&(J(f.ka,b),J(f.ka,f.i),f.h.i.length=0,K(f.i),f.i.length=0),f.l.ra()}}function lo(f,b,T){var z=T instanceof Pt?Ct(T):new Pt(T);if(z.g!="")b&&(z.g=b+"."+z.g),di(z,z.s);else{var ie=v.location;z=ie.protocol,b=b?b+"."+ie.hostname:ie.hostname,ie=+ie.port;var de=new Pt(null);z&&hr(de,z),b&&(de.g=b),ie&&di(de,ie),T&&(de.l=T),z=de}return T=f.D,b=f.ya,T&&b&&ze(z,T,b),ze(z,"VER",f.la),mr(f,z),z}function pl(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new ct(new Mn({eb:T})):new ct(f.pa),b.Ha(f.J),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}i=Ea.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sn(f,b){Tt.call(this),this.g=new to(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!X(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!X(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new js(this)}j(Sn,Tt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){no(this.g)},Sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Qn(f),f=T);b.i.push(new Ls(b.Ya++,f)),b.G==3&&zs(b)},Sn.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,Sn.aa.N.call(this)};function gr(f){Li.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}j(gr,Li);function qi(){da.call(this),this.status=1}j(qi,da);function js(f){this.g=f}j(js,Ea),js.prototype.ua=function(){ot(this.g,"a")},js.prototype.ta=function(f){ot(this.g,new gr(f))},js.prototype.sa=function(f){ot(this.g,new qi)},js.prototype.ra=function(){ot(this.g,"b")},Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Mi.COMPLETE="complete",fa.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",O0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new ld("@firebase/firestore");function Es(i,...e){if(au.logLevel<=ht.DEBUG){const n=e.map(Qg);au.debug(`Firestore (${rh}): ${i}`,...n)}}function uE(i,...e){if(au.logLevel<=ht.ERROR){const n=e.map(Qg);au.error(`Firestore (${rh}): ${i}`,...n)}}function MI(i,...e){if(au.logLevel<=ht.WARN){const n=e.map(Qg);au.warn(`Firestore (${rh}): ${i}`,...n)}}function Qg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(i,e,n){let o="Unexpected state";typeof e=="string"?o=e:n=e,cE(i,o,n)}function cE(i,e,n){let o=`FIRESTORE (${rh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw uE(o),new Error(o)}function Rc(i,e,n,o){let l="Unexpected state";typeof n=="string"?l=n:o=n,i||cE(e,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class rt extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zI{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rc(this.o===void 0,42304);let o=this.i;const l=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let h=new Nc;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Nc,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},v=y=>{Es("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(y=>v(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Es("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Nc)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Es("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rc(typeof o.accessToken=="string",31837,{l:o}),new hE(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rc(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class UI{constructor(e,n,o){this.P=e,this.T=n,this.I=o,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jI{constructor(e,n,o){this.P=e,this.T=n,this.I=o}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rc(this.o===void 0,3512);const o=h=>{h.error!=null&&Es("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Es("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{Es("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Es("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=HI(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<n&&(o+=e.charAt(l[h]%62))}return o}}function ia(i,e){return i<e?-1:i>e?1:0}function VI(i,e){const n=Math.min(i.length,e.length);for(let o=0;o<n;o++){const l=i.charAt(o),h=e.charAt(o);if(l!==h)return xm(l)===xm(h)?ia(l,h):xm(l)?1:-1}return ia(i.length,e.length)}const FI=55296,GI=57343;function xm(i){const e=i.charCodeAt(0);return e>=FI&&e<=GI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Ys{constructor(e,n,o){n===void 0?n=0:n>e.length&&Gc(637,{offset:n,range:e.length}),o===void 0?o=e.length-n:o>e.length-n&&Gc(1746,{length:o,range:e.length-n}),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const h=Ys.compareSegments(e.get(l),n.get(l));if(h!==0)return h}return ia(e.length,n.length)}static compareSegments(e,n){const o=Ys.isNumericId(e),l=Ys.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?Ys.extractNumericId(e).compare(Ys.extractNumericId(n)):VI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $g.fromString(e.substring(4,e.length-2))}}class bs extends Ys{construct(e,n,o){return new bs(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new rt(st.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new bs(n)}static emptyPath(){return new bs([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ga extends Ys{construct(e,n,o){return new Ga(e,n,o)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ga.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new Ga([P0])}static fromServerFormat(e){const n=[];let o="",l=0;const h=()=>{if(o.length===0)throw new rt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;l<e.length;){const v=e[l];if(v==="\\"){if(l+1===e.length)throw new rt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(o+=v,l++):(h(),l++)}if(h(),m)throw new rt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ga(n)}static emptyPath(){return new Ga([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.path=e}static fromPath(e){return new Wa(bs.fromString(e))}static fromName(e){return new Wa(bs.fromString(e).popFirst(5))}static empty(){return new Wa(bs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bs.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bs.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wa(new bs(e.slice()))}}function WI(i,e,n,o){if(e===!0&&o===!0)throw new rt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function YI(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function KI(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Gc(12329,{type:typeof i})}function XI(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new rt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KI(i);throw new rt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(i,e){const n={typeString:i};return e&&(n.value=e),n}function oh(i,e){if(!YI(i))throw new rt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in e)if(e[o]){const l=e[o].typeString,h="value"in e[o]?{value:e[o].value}:void 0;if(!(o in i)){n=`JSON missing required field: '${o}'`;break}const m=i[o];if(l&&typeof m!==l){n=`JSON field '${o}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${o}' field to equal '${h.value}'`;break}}if(n)throw new rt(st.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-62135596800,M0=1e6;class Ks{static now(){return Ks.fromMillis(Date.now())}static fromDate(e){return Ks.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*M0);return new Ks(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L0)throw new rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(e){return this.seconds===e.seconds?ia(this.nanoseconds,e.nanoseconds):ia(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ks._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oh(e,Ks._jsonSchema))return new Ks(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ks._jsonSchemaVersion="firestore/timestamp/1.0",Ks._jsonSchema={type:en("string",Ks._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};function $I(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new QI("Invalid base64 string: "+h):h}}(e);return new tl(n)}static fromUint8Array(e){const n=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new tl(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ia(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tl.EMPTY_BYTE_STRING=new tl("");const $m="(default)";class Yf{constructor(e,n){this.projectId=e,this.database=n||$m}static empty(){return new Yf("","")}get isDefaultDatabase(){return this.database===$m}isEqual(e){return e instanceof Yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,o=[],l=[],h=null,m="F",v=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function e2(i){return new JI(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D0,it;(it=D0||(D0={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $g([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1048576;function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,o=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=n,this.d_=o,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-o);l>0&&Es("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,o,l,h){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new Nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,h){const m=Date.now()+o,v=new Jg(e,n,m,l,h);return v.start(o),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var k0,z0;(z0=k0||(k0={})).Ma="default",z0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",j0=!0;class B0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=j0}else this.host=e.host,this.ssl=e.ssl??j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n2)throw new rt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s2(e.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dE{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new DI;switch(o.type){case"firstParty":return new jI(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new rt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=U0.get(n);o&&(Es("ComponentProvider","Removing Datastore"),U0.delete(n),o.terminate())}(this),Promise.resolve()}}function r2(i,e,n,o={}){i=XI(i,dE);const l=Fr(e),h=i._getSettings(),m={...h,emulatorOptions:i._getEmulatorOptions()},v=`${e}:${n}`;l&&(sd(`https://${v}`),rd("Firestore",!0)),h.host!==fE&&h.host!==v&&MI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:o};if(!Qo(y,m)&&(i._setSettings(y),o.mockUserToken)){let w,C;if(typeof o.mockUserToken=="string")w=o.mockUserToken,C=Yn.MOCK_USER;else{w=dg(o.mockUserToken,i._app?.options.projectId);const O=o.mockUserToken.sub||o.mockUserToken.user_id;if(!O)throw new rt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Yn(O)}i._authCredentials=new kI(new hE(w,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new e_(this.firestore,e,this._query)}}class $s{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new t_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}toJSON(){return{type:$s._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,o){if(oh(n,$s._jsonSchema))return new $s(e,o||null,new Wa(bs.fromString(n.referencePath)))}}$s._jsonSchemaVersion="firestore/documentReference/1.0",$s._jsonSchema={type:en("string",$s._jsonSchemaVersion),referencePath:en("string")};class t_ extends e_{constructor(e,n,o){super(e,n,e2(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new Wa(e))}withConverter(e){return new t_(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i2(this,"async_queue_retry"),this._c=()=>{const o=Cm();o&&Es(H0,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Nc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$I(e))throw e;Es(H0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(o=>{throw this.nc=o,this.rc=!1,uE("INTERNAL UNHANDLED ERROR: ",V0(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=n,n}enqueueAfterDelay(e,n,o){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Jg.createAndSchedule(this,e,n,o,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&Gc(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function V0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class o2 extends dE{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function a2(i,e){const n=typeof i=="object"?i:ud(),o=typeof i=="string"?i:$m,l=Qc(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=fg("firestore");h&&r2(l,...h)}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(tl.fromBase64String(e))}catch(n){throw new rt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ir(tl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oh(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:en("string",Ir._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new rt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ga(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ia(this._lat,e._lat)||ia(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(e){if(oh(e,Ya._jsonSchema))return new Ya(e.latitude,e.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:en("string",Ya._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==l[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oh(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ka(e.vectorValues);throw new rt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:en("string",Ka._jsonSchemaVersion),vectorValues:en("object")};const l2=new RegExp("[~\\*/\\[\\]]");function u2(i,e,n){if(e.search(l2)>=0)throw F0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new pE(...e.split("."))._internalPath}catch{throw F0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function F0(i,e,n,o,l){let h=`Function ${e}() called with invalid data`;h+=". ";let m="";return new rt(st.INVALID_ARGUMENT,h+i+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n,o,l,h){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c2 extends mE{data(){return super.data()}}function gE(i,e){return typeof e=="string"?u2(i,e):e instanceof pE?e._internalPath:e._delegate._internalPath}class yf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends mE{constructor(e,n,o,l,h,m){super(e,n,o,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(gE("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$l._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$l._jsonSchemaVersion="firestore/documentSnapshot/1.0",$l._jsonSchema={type:en("string",$l._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Cf extends $l{data(e={}){return super.data(e)}}class Oc{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new yf(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Cf(this._firestore,this._userDataWriter,o.key,o,new yf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(v=>{const y=new Cf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new yf(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(v=>h||v.type!==3).map(v=>{const y=new Cf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new yf(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,C=-1;return v.type!==0&&(w=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),C=m.indexOf(v.doc.key)),{type:h2(v.type),doc:y,oldIndex:w,newIndex:C}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(n.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gc(61501,{type:i})}}Oc._jsonSchemaVersion="firestore/querySnapshot/1.0",Oc._jsonSchema={type:en("string",Oc._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};(function(e,n=!0){(function(l){rh=l})(ra),Jo(new Ur("firestore",(o,{instanceIdentifier:l,options:h})=>{const m=o.getProvider("app").getImmediate(),v=new o2(new zI(o.getProvider("auth-internal")),new BI(m,o.getProvider("app-check-internal")),function(w,C){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new rt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(w.options.projectId,C)}(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v},"PUBLIC").setMultipleInstances(!0)),$i(N0,O0,e),$i(N0,O0,"esm2020")})();function _E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f2=_E,vE=new $c("auth","Firebase",_E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new ld("@firebase/auth");function d2(i,...e){Kf.logLevel<=ht.WARN&&Kf.warn(`Auth (${ra}): ${i}`,...e)}function Af(i,...e){Kf.logLevel<=ht.ERROR&&Kf.error(`Auth (${ra}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i,...e){throw n_(i,...e)}function Js(i,...e){return n_(i,...e)}function yE(i,e,n){const o={...f2(),[e]:n};return new $c("auth","Firebase",o).create(e,{appName:i.name})}function Xa(i){return yE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n_(i,...e){if(typeof i!="string"){const n=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=i.name),i._errorFactory.create(n,...o)}return vE.create(i,...e)}function He(i,e,...n){if(!i)throw n_(e,...n)}function Lr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Af(e),new Error(e)}function qr(i,e){i||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){return typeof self<"u"&&self.location?.href||""}function p2(){return G0()==="http:"||G0()==="https:"}function G0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p2()||YC()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=pg()||qw()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(i,e){qr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static initialize(e,n,o){this.fetchImpl=e,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y2=new ah(3e4,6e4);function s_(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function _u(i,e,n,o,l={}){return wE(i,l,async()=>{let h={},m={};o&&(e==="GET"?m=o:h={body:JSON.stringify(o)});const v=du({key:i.config.apiKey,...m}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const w={method:e,headers:y,...h};return WC()||(w.referrerPolicy="no-referrer"),i.emulatorConfig&&Fr(i.emulatorConfig.host)&&(w.credentials="include"),bE.fetch()(await SE(i,i.config.apiHost,n,v),w)})}async function wE(i,e,n){i._canInitEmulator=!1;const o={..._2,...e};try{const l=new w2(i),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw bf(i,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,w]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(i,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw bf(i,"email-already-in-use",m);if(y==="USER_DISABLED")throw bf(i,"user-disabled",m);const C=o[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw yE(i,C,w);Hr(i,C)}}catch(l){if(l instanceof tr)throw l;Hr(i,"network-request-failed",{message:String(l)})}}async function b2(i,e,n,o,l={}){const h=await _u(i,e,n,o,l);return"mfaPendingCredential"in h&&Hr(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function SE(i,e,n,o){const l=`${e}${n}?${o}`,h=i,m=h.config.emulator?i_(i.config,l):`${i.config.apiScheme}://${l}`;return v2.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class w2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Js(this.auth,"network-request-failed")),y2.get())})}}function bf(i,e,n){const o={appName:i.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const l=Js(i,e,o);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(i,e){return _u(i,"POST","/v1/accounts:delete",e)}async function Xf(i,e){return _u(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E2(i,e=!1){const n=Nn(i),o=await n.getIdToken(e),l=r_(o);He(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:o,authTime:Ic(Am(l.auth_time)),issuedAtTime:Ic(Am(l.iat)),expirationTime:Ic(Am(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Am(i){return Number(i)*1e3}function r_(i){const[e,n,o]=i.split(".");if(e===void 0||n===void 0||o===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lf(n);return l?JSON.parse(l):(Af("Failed to decode base64 JWT payload"),null)}catch(l){return Af("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z0(i){const e=r_(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(i,e,n=!1){if(n)return e;try{return await e}catch(o){throw o instanceof tr&&T2(o)&&i.auth.currentUser===i&&await i.auth.signOut(),o}}function T2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(i){const e=i.auth,n=await i.getIdToken(),o=await Zc(i,Xf(e,{idToken:n}));He(o?.users.length,e,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?EE(l.providerUserInfo):[],m=A2(i.providerData,h),v=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!m?.length,w=v?y:!1,C={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Jm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,C)}async function C2(i){const e=Nn(i);await $f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A2(i,e){return[...i.filter(o=>!e.some(l=>l.providerId===o.providerId)),...e]}function EE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(i,e){const n=await wE(i,{},async()=>{const o=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,m=await SE(i,l,"/v1/token",`key=${h}`),v=await i._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:o};return i.emulatorConfig&&Fr(i.emulatorConfig.host)&&(y.credentials="include"),bE.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N2(i,e){return _u(i,"POST","/v2/accounts:revokeToken",s_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:o,refreshToken:l,expiresIn:h}=await R2(e,n);this.updateTokensAndExpiration(o,l,Number(h))}updateTokensAndExpiration(e,n,o){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,n){const{refreshToken:o,accessToken:l,expirationTime:h}=n,m=new Ql;return o&&(He(typeof o=="string","internal-error",{appName:e}),m.refreshToken=o),l&&(He(typeof l=="string","internal-error",{appName:e}),m.accessToken=l),h&&(He(typeof h=="number","internal-error",{appName:e}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:o,...l}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E2(this,e)}reload(){return C2(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),n&&await $f(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(Xa(this.auth));const e=await this.getIdToken();return await Zc(this,S2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const o=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,w=n.createdAt??void 0,C=n.lastLoginAt??void 0,{uid:O,emailVerified:N,isAnonymous:Z,providerData:j,stsTokenManager:K}=n;He(O&&K,e,"internal-error");const J=Ql.fromJSON(this.name,K);He(typeof O=="string",e,"internal-error"),Ho(o,e.name),Ho(l,e.name),He(typeof N=="boolean",e,"internal-error"),He(typeof Z=="boolean",e,"internal-error"),Ho(h,e.name),Ho(m,e.name),Ho(v,e.name),Ho(y,e.name),Ho(w,e.name),Ho(C,e.name);const se=new Ts({uid:O,auth:e,email:l,emailVerified:N,displayName:o,isAnonymous:Z,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:J,createdAt:w,lastLoginAt:C});return j&&Array.isArray(j)&&(se.providerData=j.map(X=>({...X}))),y&&(se._redirectEventId=y),se}static async _fromIdTokenResponse(e,n,o=!1){const l=new Ql;l.updateFromServerResponse(n);const h=new Ts({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:o});return await $f(h),h}static async _fromGetAccountInfoResponse(e,n,o){const l=n.users[0];He(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?EE(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new Ql;v.updateFromIdToken(o);const y=new Ts({uid:l.localId,auth:e,stsTokenManager:v,isAnonymous:m}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,w),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function Mr(i){qr(i instanceof Function,"Expected a class definition");let e=W0.get(i);return e?(qr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,W0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TE.type="NONE";const Y0=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(i,e,n){return`firebase:${i}:${e}:${n}`}class Jl{constructor(e,n,o){this.persistence=e,this.auth=n,this.userKey=o;const{config:l,name:h}=this.auth;this.fullUserKey=Rf(this.userKey,l.apiKey,h),this.fullPersistenceKey=Rf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xf(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,o="authUser"){if(!n.length)return new Jl(Mr(Y0),e,o);const l=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let h=l[0]||Mr(Y0);const m=Rf(o,e.config.apiKey,e.name);let v=null;for(const w of n)try{const C=await w._get(m);if(C){let O;if(typeof C=="string"){const N=await Xf(e,{idToken:C}).catch(()=>{});if(!N)break;O=await Ts._fromGetAccountInfoResponse(e,N,C)}else O=Ts._fromJSON(e,C);w!==h&&(v=O),h=w;break}}catch{}const y=l.filter(w=>w._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Jl(h,e,o):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async w=>{if(w!==h)try{await w._remove(m)}catch{}})),new Jl(h,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(IE(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||AE(e))&&!e.includes("edge/"))return"Chrome";if(NE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=i.match(n);if(o?.length===2)return o[1]}return"Other"}function xE(i=$n()){return/firefox\//i.test(i)}function CE(i=$n()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AE(i=$n()){return/crios\//i.test(i)}function RE(i=$n()){return/iemobile/i.test(i)}function NE(i=$n()){return/android/i.test(i)}function OE(i=$n()){return/blackberry/i.test(i)}function IE(i=$n()){return/webos/i.test(i)}function o_(i=$n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function O2(i=$n()){return o_(i)&&!!window.navigator?.standalone}function I2(){return KC()&&document.documentMode===10}function PE(i=$n()){return o_(i)||NE(i)||IE(i)||OE(i)||/windows phone/i.test(i)||RE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i,e=[]){let n;switch(i){case"Browser":n=K0($n());break;case"Worker":n=`${K0($n())}-${i}`;break;default:n=i}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const o=h=>new Promise((m,v)=>{try{const y=e(h);m(y)}catch(y){v(y)}});o.onAbort=n,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const o of this.queue)await o(e),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(i,e={}){return _u(i,"GET","/v2/passwordPolicy",s_(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=6;class D2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??M2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=e.length>=o),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let l=0;l<e.length;l++)o=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,n,o,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,o,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new P2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xf(this,{idToken:e}),o=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ki(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,v=await this.tryRedirectSignIn(e);(!h||h===m)&&v?.user&&(o=v.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $f(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(Xa(this));const n=e?Nn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(Xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(Xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L2(this),n=new D2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,o){return this.registerStateListener(this.authStateSubscription,e,n,o)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,o){return this.registerStateListener(this.idTokenSubscription,e,n,o)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await N2(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const o=await this.getOrInitRedirectPersistenceManager(n);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,o,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,o,l);return()=>{m=!0,y()}}else{const y=e.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&d2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function a_(i){return Nn(i)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rA(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(i){l_=i}function U2(i){return l_.loadJS(i)}function j2(){return l_.gapiScript}function B2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i,e){const n=Qc(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Qo(h,e??{}))return l;Hr(l,"already-initialized")}return n.initialize({options:e})}function q2(i,e){const n=e?.persistence||[],o=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(o,e?.popupRedirectResolver)}function V2(i,e,n){const o=a_(i);He(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const l=!1,h=ME(e),{host:m,port:v}=F2(e),y=v===null?"":`:${v}`,w={url:`${h}//${m}${y}/`},C=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!o._canInitEmulator){He(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),He(Qo(w,o.config.emulator)&&Qo(C,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=C,o.settings.appVerificationDisabledForTesting=!0,Fr(m)?(sd(`${h}//${m}${y}`),rd("Auth",!0)):G2()}function ME(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function F2(i){const e=ME(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const h=l[1];return{host:h,port:$0(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:$0(m)}}}function $0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function G2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e){return b2(i,"POST","/v1/accounts:signInWithIdp",s_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="http://localhost";class nl extends DE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:l,...h}=n;if(!o||!l)return null;const m=new nl(o,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(e){const n=this.buildRequest();return eu(e,n)}_linkToIdToken(e,n){const o=this.buildRequest();return o.idToken=n,eu(e,o)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eu(e,n)}buildRequest(){const e={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends lh{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:o}=e;if(!n&&!o)return null;try{return Vo.credential(n,o)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends lh{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.GITHUB_SIGN_IN_METHOD="github.com";Fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends lh{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=e;if(!n||!o)return null;try{return Go.credential(n,o)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,o,l=!1){const h=await Ts._fromIdTokenResponse(e,o,l),m=Q0(o);return new lu({user:h,providerId:m,_tokenResponse:o,operationType:n})}static async _forOperation(e,n,o){await e._updateTokensIfNecessary(o,!0);const l=Q0(o);return new lu({user:e,providerId:l,_tokenResponse:o,operationType:n})}}function Q0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends tr{constructor(e,n,o,l){super(n.code,n.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,n,o,l){return new Qf(e,n,o,l)}}function zE(i,e,n,o){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(i,h,e,o):h})}async function W2(i,e,n=!1){const o=await Zc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return lu._forOperation(i,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(i,e,n=!1){const{auth:o}=i;if(Ki(o.app))return Promise.reject(Xa(o));const l="reauthenticate";try{const h=await Zc(i,zE(o,l,e,i),n);He(h.idToken,o,"internal-error");const m=r_(h.idToken);He(m,o,"internal-error");const{sub:v}=m;return He(i.uid===v,o,"user-mismatch"),lu._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Hr(o,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(i,e,n=!1){if(Ki(i.app))return Promise.reject(Xa(i));const o="signIn",l=await zE(i,o,e),h=await lu._fromIdTokenResponse(i,o,l);return n||await i._updateCurrentUser(h.user),h}function X2(i,e,n,o){return Nn(i).onIdTokenChanged(e,n,o)}function $2(i,e,n){return Nn(i).beforeAuthStateChanged(e,n)}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,J2=10;class jE extends UE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&e(n,l,o)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const o=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(o);!n&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);I2()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,J2):l()}notifyListeners(e,n){this.localCache[e]=n;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:o}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jE.type="LOCAL";const eP=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends UE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BE.type="SESSION";const HE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const o=new bd(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:o,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const v=Array.from(m).map(async w=>w(n.origin,h)),y=await tP(v);n.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(i="",e=10){let n="";for(let o=0;o<e;o++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const w=u_("",20);l.port1.start();const C=setTimeout(()=>{y(new Error("unsupported_event"))},o);m={messageChannel:l,onMessage(O){const N=O;if(N.data.eventId===w)switch(N.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(N.data.response);break;default:clearTimeout(C),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:w,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function iP(i){er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function sP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rP(){return navigator?.serviceWorker?.controller||null}function oP(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firebaseLocalStorageDb",aP=1,ed="firebaseLocalStorage",FE="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wd(i,e){return i.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function lP(){const i=indexedDB.deleteDatabase(VE);return new uh(i).toPromise()}function eg(){const i=indexedDB.open(VE,aP);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const o=i.result;try{o.createObjectStore(ed,{keyPath:FE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const o=i.result;o.objectStoreNames.contains(ed)?e(o):(o.close(),await lP(),e(await eg()))})})}async function J0(i,e,n){const o=wd(i,!0).put({[FE]:e,value:n});return new uh(o).toPromise()}async function uP(i,e){const n=wd(i,!1).get(e),o=await new uh(n).toPromise();return o===void 0?null:o.value}function ew(i,e){const n=wd(i,!0).delete(e);return new uh(n).toPromise()}const cP=800,hP=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(n++>hP)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await J0(e,Jf,"1"),await ew(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>J0(o,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(o=>uP(o,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ew(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=wd(l,!1).getAll();return new uh(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const fP=GE;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(i,e){return e?Mr(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends DE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pP(i){return K2(i.auth,new c_(i),i.bypassAuthState)}function mP(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),Y2(n,new c_(i),i.bypassAuthState)}async function gP(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),W2(n,new c_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,o,l,h=!1){this.auth=e,this.resolver=o,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:o,postBody:l,tenantId:h,error:m,type:v}=e;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:o,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:Hr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new ah(2e3,1e4);class Yl extends ZE{constructor(e,n,o,l,h){super(e,n,l,h),this.provider=o,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=u_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",Nf=new Map;class yP extends ZE{constructor(e,n,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const o=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(i,e){const n=EP(e),o=SP(i);if(!await o._isAvailable())return!1;const l=await o._get(n)==="true";return await o._remove(n),l}function wP(i,e){Nf.set(i._key(),e)}function SP(i){return Mr(i._redirectPersistence)}function EP(i){return Rf(vP,i.config.apiKey,i.name)}async function TP(i,e,n=!1){if(Ki(i.app))return Promise.reject(Xa(i));const o=a_(i),l=dP(o,e),m=await new yP(o,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,e)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=10*60*1e3;class CP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(n=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!WE(e)){const o=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Js(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const o=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xP&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}saveEventToCache(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}function tw(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function WE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function AP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(i,e={}){return _u(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function IP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await RP(i);for(const n of e)try{if(PP(n))return}catch{}Hr(i,"unauthorized-domain")}function PP(i){const e=Qm(),{protocol:n,hostname:o}=new URL(e);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&o===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===o}if(!OP.test(n))return!1;if(NP.test(i))return o===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new ah(3e4,6e4);function nw(){const i=er().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function MP(i){return new Promise((e,n)=>{function o(){nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nw(),n(Js(i,"network-request-failed"))},timeout:LP.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)o();else{const l=B2("iframefcb");return er()[l]=()=>{gapi.load?o():n(Js(i,"network-request-failed"))},U2(`${j2()}?onload=${l}`).catch(h=>n(h))}}).catch(e=>{throw Of=null,e})}let Of=null;function DP(i){return Of=Of||MP(i),Of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new ah(5e3,15e3),zP="__/auth/iframe",UP="emulator/auth/iframe",jP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HP(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?i_(e,UP):`https://${i.config.authDomain}/${zP}`,o={apiKey:e.apiKey,appName:i.name,v:ra},l=BP.get(i.config.apiHost);l&&(o.eid=l);const h=i._getFrameworks();return h.length&&(o.fw=h.join(",")),`${n}?${du(o).slice(1)}`}async function qP(i){const e=await DP(i),n=er().gapi;return He(n,i,"internal-error"),e.open({where:document.body,url:HP(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jP,dontclear:!0},o=>new Promise(async(l,h)=>{await o.restyle({setHideOnLeave:!1});const m=Js(i,"network-request-failed"),v=er().setTimeout(()=>{h(m)},kP.get());function y(){er().clearTimeout(v),l(o)}o.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FP=500,GP=600,ZP="_blank",WP="http://localhost";class iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YP(i,e,n,o=FP,l=GP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let v="";const y={...VP,width:o.toString(),height:l.toString(),top:h,left:m},w=$n().toLowerCase();n&&(v=AE(w)?ZP:n),xE(w)&&(e=e||WP,y.scrollbars="yes");const C=Object.entries(y).reduce((N,[Z,j])=>`${N}${Z}=${j},`,"");if(O2(w)&&v!=="_self")return KP(e||"",v),new iw(null);const O=window.open(e||"",v,C);He(O,i,"popup-blocked");try{O.focus()}catch{}return new iw(O)}function KP(i,e){const n=document.createElement("a");n.href=i,n.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="__/auth/handler",$P="emulator/auth/handler",QP=encodeURIComponent("fac");async function sw(i,e,n,o,l,h){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:o,v:ra,eventId:l};if(e instanceof kE){e.setDefaultLanguage(i.languageCode),m.providerId=e.providerId||"",Lm(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,O]of Object.entries({}))m[C]=O}if(e instanceof lh){const C=e.getScopes().filter(O=>O!=="");C.length>0&&(m.scopes=C.join(","))}i.tenantId&&(m.tid=i.tenantId);const v=m;for(const C of Object.keys(v))v[C]===void 0&&delete v[C];const y=await i._getAppCheckToken(),w=y?`#${QP}=${encodeURIComponent(y)}`:"";return`${JP(i)}?${du(v).slice(1)}${w}`}function JP({config:i}){return i.emulator?i_(i,$P):`https://${i.authDomain}/${XP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class eL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=TP,this._overrideRedirectResult=wP}async _openPopup(e,n,o,l){qr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await sw(e,n,o,Qm(),l);return YP(e,h,u_())}async _openRedirect(e,n,o,l){await this._originValidation(e);const h=await sw(e,n,o,Qm(),l);return iP(h),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(qr(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(e){const n=await qP(e),o=new CP(e);return n.register("authEvent",l=>(He(l?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=n,o}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{const h=l?.[0]?.[Rm];h!==void 0&&n(!!h),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||CE()||o_()}}const tL=eL;var rw="@firebase/auth",ow="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(o=>{e(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(i){Jo(new Ur("auth",(e,{options:n})=>{const o=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=o.options;He(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const y={apiKey:m,authDomain:v,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(i)},w=new k2(o,l,h,y);return q2(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,o)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ur("auth-internal",e=>{const n=a_(e.getProvider("auth").getImmediate());return(o=>new nL(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(rw,ow,iL(i)),$i(rw,ow,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=5*60,oL=Hw("authIdTokenMaxAge")||rL;let aw=null;const aL=i=>async e=>{const n=e&&await e.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>oL)return;const l=n?.token;aw!==l&&(aw=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function lL(i=ud()){const e=Qc(i,"auth");if(e.isInitialized())return e.getImmediate();const n=H2(i,{popupRedirectResolver:tL,persistence:[fP,eP,HE]}),o=Hw("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=aL(h.toString());$2(n,m,()=>m(n.currentUser)),X2(n,v=>m(v))}}const l=jw("auth");return l&&V2(n,`http://${l}`),n}function uL(){return document.getElementsByTagName("head")?.[0]??document}z2({loadJS(i){return new Promise((e,n)=>{const o=document.createElement("script");o.setAttribute("src",i),o.onload=e,o.onerror=l=>{const h=Js("internal-error");h.customData=l,n(h)},o.type="text/javascript",o.charset="UTF-8",uL().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebasestorage.googleapis.com",KE="storageBucket",cL=2*60*1e3,hL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends tr{constructor(e,n,o=0){super(Nm(e),`Firebase Storage: ${n} (${Nm(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function Nm(i){return"storage/"+i}function h_(){const i="An unknown error occurred, please check the error payload for server response.";return new Ft(Vt.UNKNOWN,i)}function fL(i){return new Ft(Vt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function dL(i){return new Ft(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pL(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Vt.UNAUTHENTICATED,i)}function mL(){return new Ft(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gL(i){return new Ft(Vt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function _L(){return new Ft(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vL(){return new Ft(Vt.CANCELED,"User canceled the upload/download.")}function yL(i){return new Ft(Vt.INVALID_URL,"Invalid URL '"+i+"'.")}function bL(i){return new Ft(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function wL(){return new Ft(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KE+"' property when initializing the app?")}function SL(){return new Ft(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EL(){return new Ft(Vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TL(i){return new Ft(Vt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tg(i){return new Ft(Vt.INVALID_ARGUMENT,i)}function XE(){return new Ft(Vt.APP_DELETED,"The Firebase app was deleted.")}function xL(i){return new Ft(Vt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(i,e){return new Ft(Vt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function bc(i){throw new Ft(Vt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let o;try{o=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(o.path==="")return o;throw bL(e)}static makeFromUrl(e,n){let o=null;const l="([A-Za-z0-9.\\-_]+)";function h(ge){ge.path.charAt(ge.path.length-1)==="/"&&(ge.path_=ge.path_.slice(0,-1))}const m="(/(.*))?$",v=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function w(ge){ge.path_=decodeURIComponent(ge.path)}const C="v[A-Za-z0-9_]+",O=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",Z=new RegExp(`^https?://${O}/${C}/b/${l}/o${N}`,"i"),j={bucket:1,path:3},K=n===YE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",se=new RegExp(`^https?://${K}/${l}/${J}`,"i"),ne=[{regex:v,indices:y,postModify:h},{regex:Z,indices:j,postModify:w},{regex:se,indices:{bucket:1,path:2},postModify:w}];for(let ge=0;ge<ne.length;ge++){const G=ne[ge],fe=G.regex.exec(e);if(fe){const H=fe[G.indices.bucket];let R=fe[G.indices.path];R||(R=""),o=new Oi(H,R),G.postModify(o);break}}if(o==null)throw yL(e);return o}}class CL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(i,e,n){let o=1,l=null,h=null,m=!1,v=0;function y(){return v===2}let w=!1;function C(...J){w||(w=!0,e.apply(null,J))}function O(J){l=setTimeout(()=>{l=null,i(Z,y())},J)}function N(){h&&clearTimeout(h)}function Z(J,...se){if(w){N();return}if(J){N(),C.call(null,J,...se);return}if(y()||m){N(),C.call(null,J,...se);return}o<64&&(o*=2);let ne;v===1?(v=2,ne=0):ne=(o+Math.random())*1e3,O(ne)}let j=!1;function K(J){j||(j=!0,N(),!w&&(l!==null?(J||(v=2),clearTimeout(l),O(0)):J||(v=1)))}return O(0),h=setTimeout(()=>{m=!0,K(!0)},n),K}function RL(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(i){return i!==void 0}function OL(i){return typeof i=="object"&&!Array.isArray(i)}function f_(i){return typeof i=="string"||i instanceof String}function lw(i){return d_()&&i instanceof Blob}function d_(){return typeof Blob<"u"}function uw(i,e,n,o){if(o<e)throw tg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(o>n)throw tg(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i,e,n){let o=e;return n==null&&(o=`https://${e}`),`${n}://${o}/v0${i}`}function $E(i){const e=encodeURIComponent;let n="?";for(const o in i)if(i.hasOwnProperty(o)){const l=e(o)+"="+e(i[o]);n=n+l+"&"}return n=n.slice(0,-1),n}var $a;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})($a||($a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(i,e){const n=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,h=e.indexOf(i)!==-1;return n||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,o,l,h,m,v,y,w,C,O,N=!0,Z=!1){this.url_=e,this.method_=n,this.headers_=o,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=v,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=C,this.connectionFactory_=O,this.retry=N,this.isUsingEmulator=Z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,K)=>{this.resolve_=j,this.reject_=K,this.start_()})}start_(){const e=(o,l)=>{if(l){o(!1,new wf(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=v=>{const y=v.loaded,w=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,w)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const v=h.getErrorCode()===$a.NO_ERROR,y=h.getStatus();if(!v||IL(y,this.additionalRetryCodes_)&&this.retry){const C=h.getErrorCode()===$a.ABORT;o(!1,new wf(!1,null,C));return}const w=this.successCodes_.indexOf(y)!==-1;o(!0,new wf(w,h))})},n=(o,l)=>{const h=this.resolve_,m=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(v,v.getResponse());NL(y)?h(y):h()}catch(y){m(y)}else if(v!==null){const y=h_();y.serverResponse=v.getErrorText(),this.errorCallback_?m(this.errorCallback_(v,y)):m(y)}else if(l.canceled){const y=this.appDelete_?XE():vL();m(y)}else{const y=_L();m(y)}};this.canceled_?n(!1,new wf(!1,null,!0)):this.backoffId_=AL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,n,o){this.wasSuccessCode=e,this.connection=n,this.canceled=!!o}}function LL(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ML(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DL(i,e){e&&(i["X-Firebase-GMPID"]=e)}function kL(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function zL(i,e,n,o,l,h,m=!0,v=!1){const y=$E(i.urlParams),w=i.url+y,C=Object.assign({},i.headers);return DL(C,e),LL(C,n),ML(C,h),kL(C,o),new PL(w,i.method,C,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,m,v)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jL(...i){const e=UL();if(e!==void 0){const n=new e;for(let o=0;o<i.length;o++)n.append(i[o]);return n.getBlob()}else{if(d_())return new Blob(i);throw new Ft(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BL(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(i){if(typeof atob>"u")throw TL("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Om{constructor(e,n){this.data=e,this.contentType=n||null}}function qL(i,e){switch(i){case Qs.RAW:return new Om(QE(e));case Qs.BASE64:case Qs.BASE64URL:return new Om(JE(i,e));case Qs.DATA_URL:return new Om(FL(e),GL(e))}throw h_()}function QE(i){const e=[];for(let n=0;n<i.length;n++){let o=i.charCodeAt(n);if(o<=127)e.push(o);else if(o<=2047)e.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const h=o,m=i.charCodeAt(++n);o=65536|(h&1023)<<10|m&1023,e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(e)}function VL(i){let e;try{e=decodeURIComponent(i)}catch{throw Pc(Qs.DATA_URL,"Malformed data URL.")}return QE(e)}function JE(i,e){switch(i){case Qs.BASE64:{const l=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(l||h)throw Pc(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const l=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(l||h)throw Pc(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HL(e)}catch(l){throw l.message.includes("polyfill")?l:Pc(i,"Invalid character found")}const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}class eT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pc(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=n[1]||null;o!=null&&(this.base64=ZL(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}function FL(i){const e=new eT(i);return e.base64?JE(Qs.BASE64,e.rest):VL(e.rest)}function GL(i){return new eT(i).contentType}function ZL(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){let o=0,l="";lw(e)?(this.data_=e,o=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(lw(this.data_)){const o=this.data_,l=BL(o,e,n);return l===null?null:new Zo(l)}else{const o=new Uint8Array(this.data_.buffer,e,n-e);return new Zo(o,!0)}}static getBlob(...e){if(d_()){const n=e.map(o=>o instanceof Zo?o.data_:o);return new Zo(jL.apply(null,n))}else{const n=e.map(m=>f_(m)?qL(Qs.RAW,m).data:m.data_);let o=0;n.forEach(m=>{o+=m.byteLength});const l=new Uint8Array(o);let h=0;return n.forEach(m=>{for(let v=0;v<m.length;v++)l[h++]=m[v]}),new Zo(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){let e;try{e=JSON.parse(i)}catch{return null}return OL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function YL(i,e){const n=e.split("/").filter(o=>o.length>0).join("/");return i.length===0?n:i+"/"+n}function nT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(i,e){return e}class Wn{constructor(e,n,o,l){this.server=e,this.local=n||e,this.writable=!!o,this.xform=l||KL}}let Sf=null;function XL(i){return!f_(i)||i.length<2?i:nT(i)}function iT(){if(Sf)return Sf;const i=[];i.push(new Wn("bucket")),i.push(new Wn("generation")),i.push(new Wn("metageneration")),i.push(new Wn("name","fullPath",!0));function e(h,m){return XL(m)}const n=new Wn("name");n.xform=e,i.push(n);function o(h,m){return m!==void 0?Number(m):m}const l=new Wn("size");return l.xform=o,i.push(l),i.push(new Wn("timeCreated")),i.push(new Wn("updated")),i.push(new Wn("md5Hash",null,!0)),i.push(new Wn("cacheControl",null,!0)),i.push(new Wn("contentDisposition",null,!0)),i.push(new Wn("contentEncoding",null,!0)),i.push(new Wn("contentLanguage",null,!0)),i.push(new Wn("contentType",null,!0)),i.push(new Wn("metadata","customMetadata",!0)),Sf=i,Sf}function $L(i,e){function n(){const o=i.bucket,l=i.fullPath,h=new Oi(o,l);return e._makeStorageReference(h)}Object.defineProperty(i,"ref",{get:n})}function QL(i,e,n){const o={};o.type="file";const l=n.length;for(let h=0;h<l;h++){const m=n[h];o[m.local]=m.xform(o,e[m.server])}return $L(o,i),o}function sT(i,e,n){const o=tT(e);return o===null?null:QL(i,o,n)}function JL(i,e,n,o){const l=tT(e);if(l===null||!f_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const m=encodeURIComponent;return h.split(",").map(w=>{const C=i.bucket,O=i.fullPath,N="/b/"+m(C)+"/o/"+m(O),Z=p_(N,n,o),j=$E({alt:"media",token:w});return Z+j})[0]}function eM(i,e){const n={},o=e.length;for(let l=0;l<o;l++){const h=e[l];h.writable&&(n[h.server]=i[h.local])}return JSON.stringify(n)}class rT{constructor(e,n,o,l){this.url=e,this.method=n,this.handler=o,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(i){if(!i)throw h_()}function tM(i,e){function n(o,l){const h=sT(i,l,e);return oT(h!==null),h}return n}function nM(i,e){function n(o,l){const h=sT(i,l,e);return oT(h!==null),JL(h,l,i.host,i._protocol)}return n}function aT(i){function e(n,o){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=mL():l=pL():n.getStatus()===402?l=dL(i.bucket):n.getStatus()===403?l=gL(i.path):l=o,l.status=n.getStatus(),l.serverResponse=o.serverResponse,l}return e}function iM(i){const e=aT(i);function n(o,l){let h=e(o,l);return o.getStatus()===404&&(h=fL(i.path)),h.serverResponse=l.serverResponse,h}return n}function sM(i,e,n){const o=e.fullServerUrl(),l=p_(o,i.host,i._protocol),h="GET",m=i.maxOperationRetryTime,v=new rT(l,h,nM(i,n),m);return v.errorHandler=iM(e),v}function rM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function oM(i,e,n){const o=Object.assign({},n);return o.fullPath=i.path,o.size=e.size(),o.contentType||(o.contentType=rM(null,e)),o}function aM(i,e,n,o,l){const h=e.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"};function v(){let ne="";for(let ge=0;ge<2;ge++)ne=ne+Math.random().toString().slice(2);return ne}const y=v();m["Content-Type"]="multipart/related; boundary="+y;const w=oM(e,o,l),C=eM(w,n),O="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+C+`\r
--`+y+`\r
Content-Type: `+w.contentType+`\r
\r
`,N=`\r
--`+y+"--",Z=Zo.getBlob(O,o,N);if(Z===null)throw SL();const j={name:w.fullPath},K=p_(h,i.host,i._protocol),J="POST",se=i.maxUploadRetryTime,X=new rT(K,J,tM(i,n),se);return X.urlParams=j,X.headers=m,X.body=Z.uploadData(),X.errorHandler=aT(e),X}class lM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,o,l,h){if(this.sent_)throw bc("cannot .send() more than once");if(Fr(e)&&o&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),h!==void 0)for(const m in h)h.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,h[m].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends lM{initXhr(){this.xhr_.responseType="text"}}function lT(){return new uM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new il(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nT(this._location.path)}get storage(){return this._service}get parent(){const e=WL(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new il(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xL(e)}}function cM(i,e,n){i._throwIfRoot("uploadBytes");const o=aM(i.storage,i._location,iT(),new Zo(e,!0),n);return i.storage.makeRequestWithTokens(o,lT).then(l=>({metadata:l,ref:i}))}function hM(i){i._throwIfRoot("getDownloadURL");const e=sM(i.storage,i._location,iT());return i.storage.makeRequestWithTokens(e,lT).then(n=>{if(n===null)throw EL();return n})}function fM(i,e){const n=YL(i._location.path,e),o=new Oi(i._location.bucket,n);return new il(i.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i){return/^[A-Za-z]+:\/\//.test(i)}function pM(i,e){return new il(i,e)}function uT(i,e){if(i instanceof m_){const n=i;if(n._bucket==null)throw wL();const o=new il(n,n._bucket);return e!=null?uT(o,e):o}else return e!==void 0?fM(i,e):i}function mM(i,e){if(e&&dM(e)){if(i instanceof m_)return pM(i,e);throw tg("To use ref(service, url), the first argument must be a Storage instance.")}else return uT(i,e)}function cw(i,e){const n=e?.[KE];return n==null?null:Oi.makeFromBucketSpec(n,i)}function gM(i,e,n,o={}){i.host=`${e}:${n}`;const l=Fr(e);l&&(sd(`https://${i.host}/b`),rd("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:h}=o;h&&(i._overrideAuthToken=typeof h=="string"?h:dg(h,i.app.options.projectId))}class m_{constructor(e,n,o,l,h,m=!1){this.app=e,this._authProvider=n,this._appCheckProvider=o,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=YE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cL,this._maxUploadRetryTime=hL,this._requests=new Set,l!=null?this._bucket=Oi.makeFromBucketSpec(l,this._host):this._bucket=cw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=cw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new il(this,e)}_makeRequest(e,n,o,l,h=!0){if(this._deleted)return new CL(XE());{const m=zL(e,this._appId,o,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(e,n){const[o,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,o,l).getPromise()}}const hw="@firebase/storage",fw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="storage";function hT(i,e,n){return i=Nn(i),cM(i,e,n)}function fT(i){return i=Nn(i),hM(i)}function dT(i,e){return i=Nn(i),mM(i,e)}function _M(i=ud(),e){i=Nn(i);const o=Qc(i,cT).getImmediate({identifier:e}),l=fg("storage");return l&&vM(o,...l),o}function vM(i,e,n,o={}){gM(i,e,n,o)}function yM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new m_(n,o,l,e,ra)}function bM(){Jo(new Ur(cT,yM,"PUBLIC").setMultipleInstances(!0)),$i(hw,fw,""),$i(hw,fw,"esm2020")}bM();const wM={apiKey:"AIzaSyDY4x8s6HJO5O8zfR5oeJRjW8iy9mJakHo",authDomain:"komuni-app.firebaseapp.com",databaseURL:"https://komuni-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"komuni-app",storageBucket:"komuni-app.firebasestorage.app",messagingSenderId:"1039755494173",appId:"1:1039755494173:web:11e00b664e58cc9c46d7f4",measurementId:"G-W7KFF9QJLK"},Sd=Zw(wM),Ed=II(Sd);a2(Sd);lL(Sd);const pT=_M(Sd);async function SM(i){try{let e=null;if(i.imagen instanceof File){const l=dT(pT,`report_images/${Date.now()}_${i.imagen.name}`),h=await hT(l,i.imagen);e=await fT(h.ref)}const n={calle:i.calle,descripción:i.descripción,informaciónExtra:i.informaciónExtra,latitud:i.latitud,longitud:i.longitud,fecha:i.fecha,tipo:i.tipo,dificultad:i.dificultad,comentarios:i.comentarios,imagen:e},o=wI(yd(Ed,"reportes"));return await aE(o,n),console.log("Reporte añadido con ID: ",o.key),{id:o.key,...n}}catch(e){throw console.error("Error al añadir el reporte: ",e),e}}async function EM(){try{const i=yd(Ed,"reportes"),e=await lE(i),n=[];return e.exists()&&e.forEach(o=>{n.push({id:o.key,...o.val()})}),n}catch(i){throw console.error("Error al obtener los reportes: ",i),i}}async function TM(i,e){try{const n=yd(Ed,`reportes/${i}`);let o;if(e.imagen instanceof File){const y=dT(pT,`report_images/${Date.now()}_${e.imagen.name}`),w=await hT(y,e.imagen);o=await fT(w.ref)}else(typeof e.imagen=="string"||e.imagen===null)&&(o=e.imagen);const{imagen:l,...h}=e,m={...h};e.hasOwnProperty("imagen")&&(m.imagen=o),await EI(n,m),console.log("Reporte actualizado con ID: ",i);const v=await lE(n);if(v.exists())return{id:v.key,...v.val()};throw new Error("Reporte no encontrado después de actualizar.")}catch(n){throw console.error("Error al actualizar el reporte: ",n),n}}async function xM(i){try{const e=yd(Ed,`reportes/${i}`);await SI(e),console.log("Reporte eliminado con ID: ",i)}catch(e){throw console.error("Error al eliminar el reporte: ",e),e}}function dw(i){const e=i==="permanente"?"red":i==="temporal"?"orange":i==="solucionado"?"green":"blue";return Zl.icon({iconUrl:`/icons/marker-${e}.png`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]})}function CM(i){return i==="permanente"?"🔴":i==="temporal"?"🟡":i==="solucionado"?"🟢":"🔵"}function AM(i=""){const e=i.toLowerCase();return e.includes("escalera")||e.includes("escalón")||e.includes("escalon")?"🪜":e.includes("rampa")?"♿":e.includes("bache")||e.includes("agujero")||e.includes("socavón")||e.includes("socavon")?"🕳️":e.includes("acera rota")||e.includes("acera")||e.includes("vereda")?"🧱":e.includes("calle rota")||e.includes("calle")||e.includes("pavimento")?"🛣️":e.includes("obstáculo")||e.includes("obstaculo")||e.includes("barrera")?"🚧":e.includes("paso de peatones")||e.includes("cruce")?"🚸":e.includes("señal")||e.includes("señalización")||e.includes("señalizacion")?"🚦":""}async function RM(i,e){try{const o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${i}&lon=${e}&format=json&accept-language=es`)).json();return o.address?.road||o.address?.pedestrian||o.address?.footway||o.address?.path||o.address?.cycleway||o.address?.neighbourhood||o.address?.suburb||""}catch(n){return console.error("Error fetching street name:",n),""}}function NM(){const i=Q.useRef(null),e=Q.useRef([]),[n,o]=Q.useState([]),[l,h]=Q.useState(!0),[m,v]=Q.useState(""),[y,w]=Q.useState(!1),[C,O]=Q.useState({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null}),[N,Z]=Q.useState(null);function j(){if(i.current){if(!navigator.geolocation){alert("Geolocalización no soportada");return}navigator.geolocation.getCurrentPosition(G=>{const{latitude:fe,longitude:H}=G.coords;i.current?.setView([fe,H],16,{animate:!0});const R=Zl.circleMarker([fe,H],{radius:10,color:"#2aa198",fillColor:"#2aa198",fillOpacity:.5}).addTo(i.current);setTimeout(()=>{i.current?.removeLayer(R)},3e3)},()=>alert("No se pudo obtener tu ubicación"))}}async function K(G){if(G.preventDefault(),!!m.trim()){w(!0);try{const H=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(m)}&limit=1`)).json();if(H&&H.length>0){const{lat:R,lon:P}=H[0];i.current?.setView([parseFloat(R),parseFloat(P)],16,{animate:!0})}else alert("No se encontró la localización.")}catch(fe){console.error("Error searching location:",fe),alert("Error buscando la localización.")}w(!1)}}const J=Q.useCallback(async function(G){const{lat:fe,lng:H}=G.latlng;let R="";try{R=await RM(fe,H)}catch(P){console.error("Error getting street name on map click:",P),R=""}O({open:!0,lat:fe,lng:H,calle:R,modo:"nuevo",reporte:null})},[]);Q.useEffect(()=>{if(N&&(i.current?.removeLayer(N),Z(null)),C.open&&C.modo==="nuevo"&&C.lat!==null&&C.lng!==null&&i.current){const G=Zl.marker([C.lat,C.lng],{icon:dw("blue"),interactive:!1,zIndexOffset:2e3}).addTo(i.current);Z(G)}return()=>{N&&i.current&&(i.current.removeLayer(N),Z(null))}},[C.open,C.lat,C.lng,C.modo,i.current]);function se(G){O({open:!0,lat:G.latitud,lng:G.longitud,calle:G.calle||"",modo:"editar",reporte:G})}const X=Q.useCallback(async(G,fe)=>{try{const H=await TM(G,fe);o(R=>R.map(P=>P.id===G?H:P))}catch(H){console.error("Error updating report:",H),alert("No se pudo actualizar el reporte.")}},[]),ne=Q.useCallback(async G=>{try{await xM(G),o(fe=>fe.filter(H=>H.id!==G))}catch(fe){console.error("Error deleting report:",fe),alert("No se pudo borrar el reporte.")}},[]);Q.useEffect(()=>{const G=Zl.map("map",{zoomControl:!0,attributionControl:!0}).setView([41.1189,1.2459],13);return i.current=G,Zl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(G),EM().then(fe=>o(fe)).catch(fe=>console.error("Error loading reports:",fe)).finally(()=>h(!1)),G.on("click",J),()=>{G.off("click",J),G.remove()}},[J]),Q.useEffect(()=>{i.current&&(e.current.forEach(G=>i.current?.removeLayer(G)),e.current=[],n.forEach(G=>{if(G.latitud!==null&&typeof G.latitud=="number"&&!isNaN(G.latitud)&&G.longitud!==null&&typeof G.longitud=="number"&&!isNaN(G.longitud)){if(i.current){const fe=dw(G.dificultad||"temporal"),H=CM(G.dificultad||"temporal"),R=AM(G.descripción||"");let P="";G.imagen&&(P=`<div style="margin:6px 0; text-align:center;"><img src='${G.imagen}' alt="Imagen de la incidencia" style="max-width:100%;max-height:60px;border-radius:6px;box-shadow:0 1px 4px #0002;object-fit:contain;background:#eee;display:block;margin:0 auto;" /></div>`);const B=Array.isArray(G.comentarios)?G.comentarios:[],k=`popup-${G.id}`,M=`
            <div style="position:relative;width:auto;max-width:98vw;min-width:140px;min-height:80px;padding-bottom:8px;">
              <button id="${k}-close" style="position:absolute;top:2px;right:2px;background:none;border:none;font-size:1rem;cursor:pointer;color:#888;">❌</button>
              <div style="font-size:1.1rem;line-height:1.1;margin-bottom:0.15em;">
                ${H} ${R}
              </div>
              <strong style="font-size:0.98rem;">${G.calle||"Ubicación sin calle"}</strong><br/>
              <span style="font-size:0.91rem;">
                📝 ${G.descripción}<br/>
                Estado: ${G.dificultad?.toUpperCase()||"TEMPORAL"}<br/>
                ${G.informaciónExtra?"📌 "+G.informaciónExtra+"<br/>":""}
                ${P}
              </span>
              <hr style="margin:0.3em 0"/>
              <div id="${k}-comentarios" style="font-size:0.88em;">
                <strong>Comentarios:</strong>
                <ul style="padding-left:1em;margin:0;">
                  ${B.map(pe=>`<li>${pe}</li>`).join("")||"<li style='color:#888'>Sin comentarios</li>"}
                </ul>
              </div>
              <form id="${k}-form" style="margin-top:0.2em;display:flex;gap:0.2em;">
                <input type="text" name="comentario" placeholder="Agregar comentario..." style="flex:1;padding:0.15em;border-radius:5px;border:1px solid #ccc;font-size:0.88em;" />
                <button type="submit" style="padding:0.15em 0.5em;border-radius:5px;background:#2aa198;color:#fff;border:none;cursor:pointer;">Enviar</button>
              </form>
              <div style="margin-top:0.3em;display:flex;gap:0.3em;">
                <button id="${k}-edit" style="padding:0.15em 0.5em;border-radius:5px;background:#ffb300;color:#fff;border:none;cursor:pointer;">Editar</button>
                <button id="${k}-delete" style="padding:0.15em 0.5em;border-radius:5px;background:#e53935;color:#fff;border:none;cursor:pointer;">Borrar</button>
              </div>
            </div>
          `,D=Zl.marker([G.latitud,G.longitud],{icon:fe}).addTo(i.current).bindPopup(M,{maxWidth:400,minWidth:140,closeButton:!1});D.on("popupopen",()=>{const pe=document.getElementById(`${k}-close`);pe&&(pe.onclick=()=>{i.current?.closePopup()});const F=document.getElementById(`${k}-edit`);F&&(F.onclick=()=>{i.current?.closePopup(),se(G)});const W=document.getElementById(`${k}-form`);W&&(W.onsubmit=async te=>{te.preventDefault();const Ce=W.comentario,U=Ce.value.trim();if(!U)return;const ue=[...G.comentarios||[],U];await X(G.id,{comentarios:ue}),Ce.value=""});const ae=document.getElementById(`${k}-delete`);ae&&(ae.onclick=async()=>{window.confirm("¿Seguro que quieres borrar este reporte?")&&(await ne(G.id),i.current?.closePopup())})}),e.current.push(D)}}else console.warn(`Reporte con ID ${G.id||"N/A"} tiene coordenadas inválidas: Latitud: ${G.latitud}, Longitud: ${G.longitud}. No se añadirá marcador.`)}))},[n,X,ne,se]);function ge(){const G=C.modo==="editar",fe=C.reporte,[H,R]=Q.useState(G&&fe?.tipo||"escalera"),[P,B]=Q.useState(G&&fe?.dificultad||"temporal"),[k,M]=Q.useState(G&&fe?.descripción||""),[D,pe]=Q.useState(void 0),[F,W]=Q.useState(!1);async function ae(te){if(te.preventDefault(),C.lat===null||C.lng===null){console.error("Intento de enviar un reporte sin coordenadas."),alert("❌ Error: No se ha podido determinar la ubicación del reporte.");return}if(W(!0),G&&fe){const Ce={calle:C.calle,descripción:k.trim()||`Incidencia de tipo ${H}`,tipo:H,dificultad:P,comentarios:fe.comentarios||[]};D?Ce.imagen=D:D===null&&(Ce.imagen=null);try{await X(fe.id,Ce)}catch(U){console.error("Error updating report:",U),alert("❌ No se pudo actualizar el reporte.")}}else{const Ce={calle:C.calle,descripción:k.trim()||`Incidencia de tipo ${H}`,informaciónExtra:"",latitud:C.lat,longitud:C.lng,fecha:new Date().toISOString(),tipo:H,dificultad:P,comentarios:[],imagen:D||null};try{const U=await SM(Ce);o(ue=>[...ue,U])}catch(U){console.error("Error saving new report:",U),alert("❌ No se pudo guardar el reporte.")}}W(!1),O({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null})}return E.jsxs("aside",{style:{position:"fixed",top:90,right:0,width:320,maxWidth:"98vw",background:"#fff",boxShadow:"0 2px 16px #0002",borderLeft:"2px solid #2aa198",zIndex:2e3,padding:"2rem 1.5rem 1.5rem 1.5rem",borderRadius:"12px 0 0 12px",minHeight:320,transition:"transform 0.2s",transform:C.open?"translateX(0)":"translateX(100%)",maxHeight:"calc(100vh - 90px - 1.5rem - 10px)",overflowY:"auto"},children:[E.jsx("button",{onClick:()=>O({open:!1,lat:null,lng:null,calle:"",modo:"nuevo",reporte:null}),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},"aria-label":"Cerrar formulario",children:"✖️"}),E.jsx("h3",{style:{marginTop:0,color:"#2aa198"},children:G?"Editar reporte":"Nuevo reporte"}),E.jsxs("form",{onSubmit:ae,style:{display:"flex",flexDirection:"column",gap:12},children:[E.jsxs("label",{children:["Tipo de barrera:",E.jsxs("select",{value:H,onChange:te=>R(te.target.value),required:!0,children:[E.jsx("option",{value:"escalera",children:"🪜 Escalera"}),E.jsx("option",{value:"rampa",children:"♿ Rampa"}),E.jsx("option",{value:"bache",children:"🕳️ Bache"}),E.jsx("option",{value:"acera",children:"🧱 Acera rota"}),E.jsx("option",{value:"calle",children:"🛣️ Calle rota"}),E.jsx("option",{value:"obstaculo",children:"🚧 Obstáculo"}),E.jsx("option",{value:"cruce",children:"🚸 Paso de peatones"}),E.jsx("option",{value:"señal",children:"🚦 Señalización"})]})]}),E.jsxs("label",{children:["Estado:",E.jsxs("select",{value:P,onChange:te=>B(te.target.value),required:!0,children:[E.jsx("option",{value:"solucionado",children:"🟢 Solucionado"}),E.jsx("option",{value:"temporal",children:"🟡 Temporal"}),E.jsx("option",{value:"permanente",children:"🔴 Permanente"})]})]}),E.jsxs("label",{children:["Descripción:",E.jsx("input",{type:"text",value:k,onChange:te=>M(te.target.value),placeholder:"¿Qué ocurre?",required:!0})]}),E.jsxs("label",{children:["Calle detectada:",E.jsx("input",{type:"text",value:C.calle||"",readOnly:!0})]}),E.jsxs("label",{children:["Imagen (opcional):",E.jsx("input",{type:"file",accept:"image/*",onChange:te=>pe(te.target.files?te.target.files[0]:null),style:{width:"100%",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis"}})]}),E.jsx("button",{type:"submit",disabled:F,style:{marginTop:10},children:F?G?"Guardando...":"Enviando...":G?"Guardar cambios":"Reportar"})]})]})}return E.jsxs("section",{children:[E.jsxs("div",{className:"textalign",children:[E.jsx("h1",{children:"Mapa de accesibilidad"}),E.jsxs("div",{className:"juntar",children:[E.jsx("div",{style:{display:"flex",gap:12,marginBottom:16,alignItems:"center",flexWrap:"wrap"},children:E.jsxs("form",{onSubmit:K,style:{display:"flex",gap:6},children:[E.jsx("p",{children:"Usa el buscador para localizar una dirección."}),E.jsx("input",{type:"text",placeholder:"Buscar dirección o ciudad...",value:m,onChange:G=>v(G.target.value),style:{padding:"0.5em 0.8em",borderRadius:8,border:"1.5px solid #e0e0e0",fontSize:"1rem",minWidth:180},"aria-label":"Buscar localización"}),E.jsx("button",{type:"submit",disabled:y,style:{padding:"0.5em 1em",borderRadius:8},children:y?"Buscando...":"Buscar"}),E.jsx("button",{type:"button",onClick:j,children:"📍 Mi ubicación"})]})}),E.jsxs("div",{className:"card",style:{marginBottom:18,background:"#fafdff",border:"1.5px solid #e0e0e0",fontSize:"1.04rem",lineHeight:1.7,color:"#20706e"},children:[E.jsx("strong",{children:"Guía de usuario:"}),E.jsxs("ul",{style:{margin:"0.7em 0 0 1.2em",padding:0},children:["🖱️ Haz clic en el mapa para añadir un nuevo reporte. ",E.jsx("br",{}),"📝 Haz clic en un marcador para ver detalles o comentar. ",E.jsx("br",{}),"❌ Pulsa la equis en el popup para cerrarlo."]})]})]}),l&&E.jsx("p",{style:{color:"#888"},children:"Cargando reportes..."})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{id:"map",style:{height:"calc(100vh - 100px)",width:"100vw",borderRadius:10,overflow:"hidden"},"aria-label":"Mapa de reportes"}),C.open&&E.jsx(ge,{})]})]})}const OM=()=>E.jsx(E.Fragment,{children:E.jsxs("div",{className:"textalign",children:[E.jsx("h1",{children:"Política de privacidad"}),E.jsx("p",{children:"En KOMUNI, valoramos tu privacidad y nos comprometemos a proteger la información personal que compartes con nosotros. Esta Política de Privacidad describe cómo recopilamos, usamos y protegemos tus datos cuando utilizas nuestra página web, que incluye formularios para interactuar con un mapa."}),E.jsx("h4",{children:E.jsx("u",{children:"1. Información que Recopilamos"})}),E.jsx("p",{children:"Recopilamos información para proporcionar y mejorar nuestros servicios. El tipo de información que recopilamos depende de cómo uses nuestra página web:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:["Información que nos proporcionas directamente:",E.jsxs("ul",{children:[E.jsxs("li",{children:[" ",E.jsx("b",{children:" Datos de contacto"}),": Cuando rellenas nuestros formularios, podemos solicitarte información como tu nombre, dirección de correo electrónico, número de teléfono y cualquier otra información que decidas compartir en los campos de texto libre."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Datos de ubicación"}),": Si utilizas funciones del mapa que requieren tu ubicación (por ejemplo, para buscar puntos de interés cercanos o para agregar una ubicación específica), podemos recopilar esta información. En la mayoría de los casos, esto requerirá tu consentimiento explícito a través de tu navegador o dispositivo."]})]})]}),E.jsx("br",{}),E.jsxs("li",{children:["Información recopilada automáticamente:",E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("b",{children:"Datos de uso"}),": Recopilamos información sobre cómo interactúas con nuestra página web, incluyendo las páginas que visitas, el tiempo que pasas en ellas, las funciones del mapa que utilizas y los enlaces en los que haces clic."]})," ",E.jsxs("li",{children:[E.jsx("b",{children:"Datos técnicos"}),": Incluye tu dirección IP, tipo de navegador, sistema operativo, dispositivo y datos de conexión."]})," ",E.jsxs("li",{children:[" ",E.jsx("b",{children:"Cookies y tecnologías similares"}),": Utilizamos cookies y otras tecnologías de seguimiento para mejorar tu experiencia de usuario, analizar el uso del sitio y personalizar el contenido. Puedes gestionar tus preferencias de cookies a través de la configuración de tu navegador."]})]})]})]}),E.jsx("h4",{children:E.jsx("u",{children:"2. Uso de tu Información"})}),E.jsx("p",{children:"Utilizamos la información recopilada para los siguientes propósitos:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("b",{children:"Proveer y mantener nuestros servicios"}),": Para que puedas utilizar los formularios y las funciones del mapa de manera efectiva."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Mejorar y personalizar tu experiencia"}),": Adaptar el contenido y las funciones del mapa a tus preferencias y uso."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Comunicación"}),": Para responder a tus consultas enviadas a través de los formularios y proporcionarte información relevante sobre nuestros servicios."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Análisis y mejora"}),": Entender cómo se utiliza nuestra página web para optimizar su rendimiento, diseño y funcionalidades."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Seguridad"}),": Proteger nuestra página web y a nuestros usuarios contra actividades fraudulentas o maliciosas."]})]}),E.jsx("h4",{children:E.jsx("u",{children:"3. Compartir tu Información"})}),E.jsx("p",{children:"En KOMUNI, no vendemos ni alquilamos tu información personal a terceros. Podemos compartir tu información en las siguientes circunstancias:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("b",{children:"Proveedores de servicios"}),": Podemos compartir datos con terceros que nos ayudan a operar nuestra página web y proporcionar nuestros servicios (por ejemplo, servicios de alojamiento web, plataformas de análisis de datos, proveedores de servicios de mapas). Estos terceros están obligados contractualmente a mantener la confidencialidad y seguridad de tus datos."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Cumplimiento legal"}),": Podemos divulgar tu información si la ley lo requiere o si creemos de buena fe que dicha acción es necesaria para cumplir con un proceso legal, proteger nuestros derechos o la seguridad de otros."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Agregación de datos"}),": Podemos compartir información agregada o anonimizada que no te identifique directamente con fines de investigación, análisis o marketing."]})]}),E.jsx("h4",{children:E.jsx("u",{children:"4. Servicios de Mapas de Terceros"})}),E.jsxs("p",{children:["Nuestra página web utiliza servicios de mapas proporcionados por terceros (OpenStreetMap). El uso de estos servicios puede estar sujeto a sus propias políticas de privacidad. Te recomendamos revisar las políticas de privacidad de este proveedor para entender cómo gestiona tu información: Puedes consultar su política en:"," ",E.jsx("a",{href:"https://wiki.osmfoundation.org/wiki/Privacy_Policy",children:"https://wiki.osmfoundation.org/wiki/Privacy_Policy"}),". KOMUNI no es responsable de las prácticas de privacidad de estos servicios de terceros."]}),E.jsx("h4",{children:E.jsx("u",{children:"5. Seguridad de Datos"})}),E.jsx("p",{children:"Implementamos medidas de seguridad técnicas y organizativas adecuadas para proteger tu información personal contra el acceso no autorizado, la alteración, la divulgación o la destrucción. Sin embargo, ninguna transmisión de datos por internet o sistema de almacenamiento electrónico puede garantizar una seguridad del 100%."}),E.jsx("h4",{children:E.jsx("u",{children:"6. Tus Derechos"})}),"De acuerdo con la legislación de protección de datos aplicable (como el RGPD si aplica), tienes los siguientes derechos sobre tus datos personales:",E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("b",{children:"Derecho de acceso"}),": Solicitar una copia de la información personal que tenemos sobre ti."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Derecho de rectificación"}),": Solicitar la corrección de datos incompletos o inexactos."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Derecho de supresión (derecho al olvido)"}),": Solicitar la eliminación de tus datos personales en determinadas circunstancias."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Derecho de limitación del tratamiento"}),": Solicitar que detengamos el procesamiento de tus datos bajo ciertas condiciones."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Derecho a la portabilidad de datos"}),": Recibir tus datos en un formato estructurado y de uso común."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Derecho de oposición"}),": Oponerte al tratamiento de tus datos para fines de marketing directo o en base a intereses legítimos."]})]}),"Para ejercer cualquiera de estos derechos, por favor, ponte en contacto con nosotros a través de la dirección de correo electrónico proporcionada en la sección de contacto.",E.jsx("h4",{children:E.jsx("u",{children:"7. Cambios en esta Política de Privacidad"})}),'Podemos actualizar esta Política de Privacidad de vez en cuando para reflejar cambios en nuestras prácticas o por razones legales. Te notificaremos cualquier cambio sustancial publicando la nueva política en esta página y actualizando la "Fecha de última actualización" en la parte superior. Te animamos a revisar esta política periódicamente.',E.jsx("h4",{children:E.jsx("u",{children:"8. Contacto"})}),E.jsxs("p",{children:["Si tienes alguna pregunta o inquietud sobre esta Política de Privacidad o sobre nuestras prácticas de privacidad, por favor, ponte en contacto con nosotros a través del siguiente correo electrónico:"," ",E.jsx("a",{href:"mailto:",children:"komunitgn@gmail.com"})]}),E.jsx("br",{}),E.jsx("hr",{}),"Fecha de última actualización: 17 de Julio de 2025",E.jsx("hr",{})]})});function IM(){const i=Q.useRef(null),[e,n]=Q.useState(""),[o,l]=Q.useState(!1);async function h(m){m.preventDefault(),l(!0),n("");const v=new FormData(i.current),y=v.get("nombre"),w=v.get("email"),C=v.get("asunto")||"Contacto Komuni",O=v.get("mensaje");try{(await fetch("https://komuni-app-default-rtdb.europe-west1.firebasedatabase.app/contactpage.json",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({nombre:y,email:w,asunto:C,mensaje:O})})).ok?(n("¡Mensaje enviado correctamente! Te responderemos pronto."),i.current?.reset()):n("No se pudo enviar el mensaje. Inténtalo más tarde.")}catch{n("No se pudo enviar el mensaje. Inténtalo más tarde.")}l(!1)}return E.jsxs("section",{style:{maxWidth:600,margin:"0 auto",padding:"2.5rem 1rem"},children:[E.jsxs("div",{style:{background:"linear-gradient(90deg, #e0f7fa 0%, #fafdff 100%)",borderRadius:20,boxShadow:"0 8px 32px #2aa19822",padding:"2.5rem 2rem 2rem 2rem",marginBottom:36,textAlign:"center",position:"relative"},children:[E.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni",style:{width:70,marginBottom:12,filter:"drop-shadow(0 2px 8px #2aa19833)"}}),E.jsx("h2",{style:{color:"#2aa198",margin:"0 0 0.5em 0",fontWeight:900,fontSize:"2.2rem",letterSpacing:"0.03em"},children:"Contacto"}),E.jsxs("p",{style:{color:"#20706e",fontSize:"1.18rem",marginBottom:0,fontWeight:500,lineHeight:1.6},children:["¿Tienes dudas, sugerencias o quieres colaborar?",E.jsx("br",{}),"Escríbenos y te responderemos lo antes posible."]})]}),E.jsxs("form",{ref:i,onSubmit:h,style:{background:"#fff",borderRadius:18,boxShadow:"0 4px 24px #2aa19822",padding:"2.2rem 2rem 2rem 2rem",display:"flex",flexDirection:"column",gap:22,maxWidth:440,margin:"0 auto"},children:[E.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Nombre:",E.jsx("input",{type:"text",name:"nombre",required:!0,placeholder:"Introduce tu nombre",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),E.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Email:",E.jsx("input",{type:"email",name:"email",required:!0,placeholder:"Introduce tu correo elecrónico",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),E.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Asunto:",E.jsx("input",{type:"text",name:"asunto",placeholder:"Motivo del mensaje",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",boxShadow:"0 1px 2px #2aa19811"}})]}),E.jsxs("label",{style:{fontWeight:700,color:"#2aa198",fontSize:"1.07rem"},children:["Mensaje:",E.jsx("textarea",{name:"mensaje",rows:5,required:!0,placeholder:"Escribe tu mensaje aquí...",style:{width:"100%",marginTop:7,padding:"0.85em",borderRadius:10,border:"1.5px solid #e0e0e0",fontSize:"1.08rem",background:"#fafdff",resize:"vertical",boxShadow:"0 1px 2px #2aa19811"}})]}),E.jsx("button",{type:"submit",disabled:o,children:o?"Enviando...":"Enviar"}),e&&E.jsx("p",{style:{color:e.startsWith("¡Mensaje")?"#2aa198":"#e53935",marginTop:8,textAlign:"center",fontWeight:600},children:e})]}),E.jsxs("div",{style:{marginTop:38,textAlign:"center",color:"#888",fontSize:"1.09em",fontWeight:500},children:["O escríbenos directamente a"," ",E.jsx("a",{href:"mailto:komunitgn@gmail.com",style:{color:"#2aa198",fontWeight:700,textDecoration:"underline"},children:"komunitgn@gmail.com"})]})]})}const PM=({question:i,answer:e})=>{const[n,o]=Q.useState(!1),l=()=>{o(!n)};return E.jsxs("div",{className:"faq-item",children:[E.jsxs("button",{className:"faq-question",onClick:l,"aria-expanded":n,children:[i,E.jsx("span",{className:`faq-icon ${n?"open":""}`,children:"▼"})," "]}),n&&E.jsx("div",{className:"faq-answer",children:E.jsx("p",{children:e})})]})},LM=()=>{const i=[{question:"¿Qué es Komuni?",answer:"Komuni es una plataforma global diseñada para reportar barreras urbanas, mejorar la accesibilidad y construir una comunidad más inclusiva. Nuestro objetivo es conectar a las personas para que puedan identificar y solucionar problemas de accesibilidad en sus ciudades y en todo el mundo."},{question:"¿Cómo puedo reportar una barrera?",answer:"Puedes reportar una barrera utilizando nuestro mapa interactivo. Simplemente ve a la sección 'Mapa', busca la ubicación de la barrera, y utiliza la herramienta de reporte para añadir detalles, fotos y la categoría de la barrera. Es un proceso sencillo y rápido."},{question:"¿Qué tipo de barreras se pueden reportar?",answer:"Puedes reportar una amplia variedad de barreras, incluyendo aceras en mal estado, rampas inaccesibles, falta de señalización adecuada, obstáculos en vías públicas, transporte público no adaptado, y cualquier otra cosa que impida la libre movilidad o el acceso a personas con diversidad funcional."},{question:"¿Es necesario registrarse para usar Komuni?",answer:"No es necesario registrarse para ver el mapa o leer nuestro blog y recursos educativos. Sin embargo, para reportar barreras, participar en el foro o contribuir activamente a la comunidad, sí necesitarás crear una cuenta gratuita."},{question:"¿Cómo puedo colaborar con Komuni?",answer:"Hay muchas formas de colaborar: reportando barreras, compartiendo tus experiencias en el foro, difundiendo información sobre accesibilidad en tus redes sociales, o incluso ofreciéndote como voluntario para eventos o proyectos locales. ¡Tu participación es clave!"},{question:"¿Komuni está disponible en mi ciudad?",answer:"Komuni es una plataforma global, lo que significa que puedes usarla en cualquier ciudad del mundo. Cuantos más usuarios se unan y reporten, más completa y útil será la información disponible para todos."},{question:"¿Cómo se utilizan los datos de las barreras reportadas?",answer:"Los datos de las barreras reportadas se utilizan para crear un mapa interactivo de accesibilidad. Esta información puede ser consultada por usuarios, organizaciones y autoridades locales para identificar áreas problemáticas y priorizar mejoras. No compartimos información personal sin tu consentimiento."}];return E.jsxs("section",{className:"faq-section",children:[E.jsx("h1",{children:"Preguntas Frecuentes"}),E.jsx("div",{className:"faq-list",children:i.map((e,n)=>E.jsx(PM,{question:e.question,answer:e.answer},n))})]})},mT=[{id:"1",title:"Primer Post de Komuni: Un Paso Hacia la Accesibilidad Universal",slug:"primer-post-de-komuni",date:"24 de julio de 2025",author:"Equipo Komuni",excerpt:"Descubre cómo Komuni está revolucionando la forma en que reportamos y abordamos las barreras de accesibilidad en nuestras ciudades. Un futuro más inclusivo comienza hoy.",content:`
      <p>Bienvenidos al blog de Komuni, el espacio donde compartiremos nuestras ideas, avances y noticias más relevantes sobre la accesibilidad y la construcción de comunidades inclusivas.</p>
      <p>En este primer post, queremos reiterar nuestra misión: empoderar a los ciudadanos para que sean agentes de cambio. Cada barrera reportada en nuestro mapa no es solo un punto en una pantalla, es un paso hacia la eliminación de obstáculos físicos y la creación de entornos donde todos puedan participar plenamente.</p>
      <h2>¿Qué nos impulsa?</h2>
      <p>La visión de un mundo sin barreras. Creemos firmemente que la tecnología puede ser una herramienta poderosa para la inclusión. Nuestra plataforma no solo facilita el reporte de problemas, sino que también fomenta la colaboración entre usuarios, organizaciones y autoridades locales.</p>
      <p>Gracias por unirte a esta causa. Juntos, haremos una diferencia real.</p>
      <h3>Próximos Pasos</h3>
      <ul>
        <li>Explora nuestro mapa interactivo.</li>
        <li>Colabora con la comunidad realizando reportes.</li>
        <li>Comparte tus experiencias y sugerencias.</li>
      </ul>
    `,imageUrl:"../public/icons/logo-solo.png",tags:["accesibilidad","comunidad","lanzamiento","inclusión"]},{id:"2",title:"Guía Rápida: Cómo Reportar una Barrera en Komuni",slug:"guia-reportar-barrera",date:"15 de julio de 2025",author:"Soporte Komuni",excerpt:"Aprende los sencillos pasos para identificar y reportar barreras de accesibilidad en nuestro mapa. Tu contribución es vital para nuestra comunidad.",content:`
      <p>Reportar una barrera en Komuni es un proceso intuitivo diseñado para ser rápido y eficiente. Sigue esta guía paso a paso para hacer tu primera contribución:</p>
      <ol>
        <li><strong>Accede al Mapa:</strong> Navega a la sección 'Mapa' de nuestra web.</li>
        <li><strong>Localiza la Barrera:</strong> Usa el buscador o navega manualmente hasta la ubicación exacta de la barrera.</li>
        <li><strong>Haz Clic en "Reportar":</strong> Verás un botón o icono para iniciar el proceso de reporte.</li>
        <li><strong>Añade Detalles:</strong> Describe la barrera, selecciona su categoría (ej. rampa inaccesible, acera rota), y si es posible, sube una o varias fotos.</li>
        <li><strong>Envía el Reporte:</strong> Confirma la información y envía. ¡Tu reporte ya está en el mapa!</li>
      </ol>
      <p>Cada reporte ayuda a construir una base de datos más completa y a concienciar sobre los desafíos de accesibilidad en nuestras ciudades.</p>
    `,imageUrl:"../public/icons/marker-green.png",tags:["guía","reporte","mapa","tutorial"]},{id:"3",title:"La Importancia de la Inclusión Digital en la Accesibilidad Urbana",slug:"inclusion-digital-accesibilidad-urbana",date:"01 de julio de 2025",author:"Equipo Komuni",excerpt:"Exploramos cómo la tecnología y el diseño digital accesible son fundamentales para complementar los esfuerzos de accesibilidad física en las ciudades modernas.",content:`
      <p>La accesibilidad no se limita solo al entorno físico. En la era digital, la inclusión digital juega un papel crucial en cómo las personas interactúan con su ciudad y sus servicios.</p>
      <p>Un sitio web municipal inaccesible, una aplicación de transporte público que no cumple con los estándares, o incluso la falta de información accesible sobre rutas peatonales, pueden ser tan restrictivos como una rampa mal diseñada.</p>
      <p>En Komuni, entendemos esta interconexión. Nuestra plataforma está diseñada para ser accesible desde el primer día, y abogamos por la implementación de soluciones digitales inclusivas que complementen la infraestructura física.</p>
      <p>La verdadera accesibilidad es un ecosistema donde lo físico y lo digital se unen para crear una experiencia fluida y equitativa para todos.</p>
    `,imageUrl:"/images/blog/post3-featured.jpeg",tags:["inclusión digital","tecnología","accesibilidad"]}],MM=()=>E.jsxs("section",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[E.jsx("h1",{children:"Nuestro Blog"}),E.jsx("p",{style:{fontSize:"1.1rem",color:"#555",marginBottom:"2rem"},children:"Aquí encontrarás las últimas noticias, artículos y actualizaciones sobre accesibilidad y nuestra comunidad."}),E.jsx("div",{className:"blog-posts-list",children:mT.map(i=>E.jsxs("div",{className:"blog-post-card",style:{marginBottom:"1.5rem",padding:"1.2rem",border:"1px solid #eee",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",display:"flex",gap:"1rem",alignItems:"flex-start"},children:[i.imageUrl&&E.jsx("img",{src:i.imageUrl,alt:i.title,style:{width:"120px",height:"auto",borderRadius:"4px",objectFit:"cover"}}),E.jsxs("div",{children:[E.jsx("h2",{style:{marginTop:0,color:"#2aa198"},children:i.title}),E.jsxs("p",{style:{fontSize:"0.9rem",color:"#777"},children:["Publicado el ",i.date," por ",i.author]}),E.jsx("p",{children:i.excerpt}),E.jsx(An,{to:`/blog/${i.slug}`,style:{color:"#3ecfcf",textDecoration:"none",fontWeight:"bold"},children:"Leer más →"})]})]},i.id))})]}),DM=()=>{const{slug:i}=vx(),e=mT.find(n=>n.slug===i);return e?E.jsxs("section",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[E.jsx(An,{to:"/blog",style:{color:"#3ecfcf",textDecoration:"none",fontWeight:"bold",marginBottom:"1.5rem",display:"inline-block"},children:"← Volver al blog"}),e.imageUrl&&E.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"auto",maxHeight:"400px",objectFit:"cover",borderRadius:"8px",marginBottom:"2rem"}}),E.jsx("h1",{style:{color:"#2aa198",marginBottom:"0.5rem"},children:e.title}),E.jsxs("p",{style:{fontSize:"0.9rem",color:"#777",marginBottom:"2rem"},children:["Publicado el ",e.date," por ",e.author,e.tags&&e.tags.length>0&&E.jsxs("span",{style:{marginLeft:"1rem"},children:["Etiquetas: ",e.tags.map(n=>E.jsx("span",{style:{background:"#eee",padding:"0.2rem 0.5rem",borderRadius:"4px",marginRight:"0.3rem",fontSize:"0.8rem"},children:n},n))]})]}),E.jsx("div",{style:{lineHeight:1.8,fontSize:"1.05rem",color:"#333"},dangerouslySetInnerHTML:{__html:e.content}})]}):E.jsxs("section",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",textAlign:"center"},children:[E.jsx("h1",{children:"404 - Entrada de Blog no Encontrada"}),E.jsx("p",{children:"Lo sentimos, la entrada de blog que buscas no existe o ha sido eliminada."}),E.jsx(An,{to:"/blog",style:{color:"#3ecfcf",textDecoration:"none",fontWeight:"bold"},children:"← Volver al listado del Blog"})]})},kM=()=>{const[i,e]=Q.useState({email:"",password:""}),[n,o]=Q.useState({}),[l,h]=Q.useState(!1),[m,v]=Q.useState(!1),[y,w]=Q.useState(!1),{login:C,resetPassword:O}=Kc(),N=nd(),Z=()=>{const se={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(se.email="El formato del correo electrónico no es válido"):se.email="El correo electrónico es obligatorio",i.password?i.password.length<6&&(se.password="La contraseña debe tener al menos 6 caracteres"):se.password="La contraseña es obligatoria",o(se),Object.keys(se).length===0},j=se=>{const{name:X,value:ne}=se.target;e(ge=>({...ge,[X]:ne})),n[X]&&o(ge=>({...ge,[X]:""}))},K=async se=>{if(se.preventDefault(),!!Z()){h(!0),o({});try{await C(i.email,i.password),N("/perfil")}catch(X){o({submit:X.message})}finally{h(!1)}}},J=async()=>{if(!i.email){o({email:"Ingresa tu correo electrónico para resetear la contraseña"});return}try{await O(i.email),w(!0)}catch(se){o({submit:se.message})}};return E.jsx("div",{className:"auth-container",children:E.jsxs("div",{className:"auth-card",children:[E.jsxs("div",{className:"auth-header",children:[E.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni Logo",className:"auth-logo"}),E.jsx("h1",{children:"Iniciar Sesión"}),E.jsx("p",{children:"Bienvenido de vuelta a Komuni"})]}),y&&E.jsx("div",{className:"alert alert-success",children:"Se ha enviado un correo para resetear tu contraseña. Revisa tu bandeja de entrada."}),E.jsxs("form",{onSubmit:K,className:"auth-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Correo Electrónico"}),E.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:j,placeholder:"tu@ejemplo.com",className:n.email?"error":"",disabled:l}),n.email&&E.jsx("span",{className:"error-message",children:n.email})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Contraseña"}),E.jsxs("div",{className:"password-input-container",children:[E.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:i.password,onChange:j,placeholder:"Tu contraseña",className:n.password?"error":"",disabled:l}),E.jsx("button",{type:"button",className:"password-toggle",onClick:()=>v(!m),tabIndex:-1,children:m?"🙈":"👁️"})]}),n.password&&E.jsx("span",{className:"error-message",children:n.password})]}),n.submit&&E.jsx("div",{className:"alert alert-error",children:n.submit}),E.jsx("button",{type:"submit",className:"auth-button primary",disabled:l,children:l?"Iniciando sesión...":"Iniciar Sesión"}),E.jsx("button",{type:"button",className:"forgot-password",onClick:J,disabled:l,children:"¿Olvidaste tu contraseña?"})]}),E.jsx("div",{className:"auth-footer",children:E.jsxs("p",{children:["¿No tienes una cuenta?"," ",E.jsx(An,{to:"/registro",className:"auth-link",children:"Regístrate aquí"})]})})]})})},zM=()=>{const[i,e]=Q.useState({nombre:"",apellidos:"",email:"",password:"",confirmPassword:"",fechaNacimiento:"",genero:""}),[n,o]=Q.useState({}),[l,h]=Q.useState(!1),[m,v]=Q.useState(!1),[y,w]=Q.useState(!1),[C,O]=Q.useState(!1),{register:N}=Kc(),Z=nd(),j=X=>{const ne=new Date,ge=new Date(X);let G=ne.getFullYear()-ge.getFullYear();const fe=ne.getMonth()-ge.getMonth();return(fe<0||fe===0&&ne.getDate()<ge.getDate())&&G--,G},K=()=>{const X={};if(i.nombre.trim()?i.nombre.trim().length<2&&(X.nombre="El nombre debe tener al menos 2 caracteres"):X.nombre="El nombre es obligatorio",i.apellidos.trim()?i.apellidos.trim().length<2&&(X.apellidos="Los apellidos deben tener al menos 2 caracteres"):X.apellidos="Los apellidos son obligatorios",i.email?/\S+@\S+\.\S+/.test(i.email)||(X.email="El formato del correo electrónico no es válido"):X.email="El correo electrónico es obligatorio",i.password?i.password.length<6?X.password="La contraseña debe tener al menos 6 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i.password)||(X.password="La contraseña debe contener al menos una mayúscula, una minúscula y un número"):X.password="La contraseña es obligatoria",i.confirmPassword?i.password!==i.confirmPassword&&(X.confirmPassword="Las contraseñas no coinciden"):X.confirmPassword="Confirma tu contraseña",!i.fechaNacimiento)X.fechaNacimiento="La fecha de nacimiento es obligatoria";else{const ne=j(i.fechaNacimiento);ne<13?X.fechaNacimiento="Debes ser mayor de 13 años para registrarte":ne>120&&(X.fechaNacimiento="Por favor, verifica tu fecha de nacimiento")}return i.genero||(X.genero="Selecciona tu género"),C||(X.terms="Debes aceptar los términos y condiciones"),o(X),Object.keys(X).length===0},J=X=>{const{name:ne,value:ge}=X.target;e(G=>({...G,[ne]:ge})),n[ne]&&o(G=>({...G,[ne]:""}))},se=async X=>{if(X.preventDefault(),!!K()){h(!0),o({});try{await N({email:i.email,password:i.password,nombre:i.nombre.trim(),apellidos:i.apellidos.trim(),fechaNacimiento:i.fechaNacimiento,genero:i.genero}),alert("Registro exitoso! Se ha enviado un correo de verificación a tu email."),Z("/login")}catch(ne){o({submit:ne.message})}finally{h(!1)}}};return E.jsx("div",{className:"auth-container",children:E.jsxs("div",{className:"auth-card register",children:[E.jsxs("div",{className:"auth-header",children:[E.jsx("img",{src:"/icons/logo-solo.png",alt:"Komuni Logo",className:"auth-logo"}),E.jsx("h1",{children:"Crear Cuenta"}),E.jsx("p",{children:"Únete a la comunidad Komuni"})]}),E.jsxs("form",{onSubmit:se,className:"auth-form",children:[E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),E.jsx("input",{type:"text",id:"nombre",name:"nombre",value:i.nombre,onChange:J,placeholder:"Tu nombre",className:n.nombre?"error":"",disabled:l}),n.nombre&&E.jsx("span",{className:"error-message",children:n.nombre})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"apellidos",children:"Apellidos *"}),E.jsx("input",{type:"text",id:"apellidos",name:"apellidos",value:i.apellidos,onChange:J,placeholder:"Tus apellidos",className:n.apellidos?"error":"",disabled:l}),n.apellidos&&E.jsx("span",{className:"error-message",children:n.apellidos})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Correo Electrónico *"}),E.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:J,placeholder:"tu@ejemplo.com",className:n.email?"error":"",disabled:l}),n.email&&E.jsx("span",{className:"error-message",children:n.email})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento *"}),E.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:i.fechaNacimiento,onChange:J,className:n.fechaNacimiento?"error":"",max:new Date().toISOString().split("T")[0],disabled:l}),n.fechaNacimiento&&E.jsx("span",{className:"error-message",children:n.fechaNacimiento})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"genero",children:"Género *"}),E.jsxs("select",{id:"genero",name:"genero",value:i.genero,onChange:J,className:n.genero?"error":"",disabled:l,children:[E.jsx("option",{value:"",children:"Selecciona tu género"}),E.jsx("option",{value:"Masculino",children:"Masculino"}),E.jsx("option",{value:"Femenino",children:"Femenino"}),E.jsx("option",{value:"No binario",children:"No binario"}),E.jsx("option",{value:"Prefiero no decir",children:"Prefiero no decir"}),E.jsx("option",{value:"Otro",children:"Otro"})]}),n.genero&&E.jsx("span",{className:"error-message",children:n.genero})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Contraseña *"}),E.jsxs("div",{className:"password-input-container",children:[E.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:i.password,onChange:J,placeholder:"Mínimo 6 caracteres",className:n.password?"error":"",disabled:l}),E.jsx("button",{type:"button",className:"password-toggle",onClick:()=>v(!m),tabIndex:-1,children:m?"🙈":"👁️"})]}),n.password&&E.jsx("span",{className:"error-message",children:n.password}),E.jsx("div",{className:"password-requirements",children:E.jsx("small",{children:"La contraseña debe contener al menos una mayúscula, una minúscula y un número"})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contraseña *"}),E.jsxs("div",{className:"password-input-container",children:[E.jsx("input",{type:y?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:J,placeholder:"Repite tu contraseña",className:n.confirmPassword?"error":"",disabled:l}),E.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w(!y),tabIndex:-1,children:y?"🙈":"👁️"})]}),n.confirmPassword&&E.jsx("span",{className:"error-message",children:n.confirmPassword})]}),E.jsxs("div",{className:"form-group checkbox-group",children:[E.jsxs("label",{className:"checkbox-label",children:[E.jsx("input",{type:"checkbox",checked:C,onChange:X=>{O(X.target.checked),n.terms&&o(ne=>({...ne,terms:""}))},disabled:l}),E.jsx("span",{className:"checkmark"}),"Acepto los"," ",E.jsx(An,{to:"/privacidad",target:"_blank",className:"auth-link",children:"términos y condiciones"})," ","y la"," ",E.jsx(An,{to:"/privacidad",target:"_blank",className:"auth-link",children:"política de privacidad"})]}),n.terms&&E.jsx("span",{className:"error-message",children:n.terms})]}),n.submit&&E.jsx("div",{className:"alert alert-error",children:n.submit}),E.jsx("button",{type:"submit",className:"auth-button primary",disabled:l||!C,children:l?"Creando cuenta...":"Crear Cuenta"})]}),E.jsx("div",{className:"auth-footer",children:E.jsxs("p",{children:["¿Ya tienes una cuenta?"," ",E.jsx(An,{to:"/login",className:"auth-link",children:"Inicia sesión aquí"})]})})]})})},UM=()=>{const{currentUser:i,userProfile:e,logout:n,updateUserProfile:o,resendVerification:l}=Kc(),[h,m]=Q.useState(!1),[v,y]=Q.useState(!1),[w,C]=Q.useState(null),[O,N]=Q.useState({nombre:"",apellidos:"",fechaNacimiento:"",genero:""});if(Q.useEffect(()=>{e&&N({nombre:e.nombre,apellidos:e.apellidos,fechaNacimiento:e.fechaNacimiento,genero:e.genero})},[e]),!i)return E.jsx(Ew,{to:"/login",replace:!0});const Z=ne=>{const ge=new Date,G=new Date(ne);let fe=ge.getFullYear()-G.getFullYear();const H=ge.getMonth()-G.getMonth();return(H<0||H===0&&ge.getDate()<G.getDate())&&fe--,fe},j=ne=>{const{name:ge,value:G}=ne.target;N(fe=>({...fe,[ge]:G}))},K=async()=>{if(e){y(!0),C(null);try{await o({nombre:O.nombre.trim(),apellidos:O.apellidos.trim(),fechaNacimiento:O.fechaNacimiento,genero:O.genero}),C({type:"success",text:"Perfil actualizado correctamente"}),m(!1)}catch(ne){C({type:"error",text:ne.message})}finally{y(!1)}}},J=()=>{e&&N({nombre:e.nombre,apellidos:e.apellidos,fechaNacimiento:e.fechaNacimiento,genero:e.genero}),m(!1),C(null)},se=async()=>{y(!0),C(null);try{await l(),C({type:"success",text:"Email de verificación enviado"})}catch(ne){C({type:"error",text:ne.message})}finally{y(!1)}},X=async()=>{try{await n()}catch(ne){console.error("Error al cerrar sesión:",ne)}};return e?E.jsx("div",{className:"perfil-container",children:E.jsxs("div",{className:"perfil-card",children:[E.jsxs("div",{className:"perfil-header",children:[E.jsx("div",{className:"avatar",children:e.photoURL?E.jsx("img",{src:e.photoURL,alt:"Avatar"}):E.jsxs("div",{className:"avatar-placeholder",children:[e.nombre.charAt(0),e.apellidos.charAt(0)]})}),E.jsxs("div",{className:"user-info",children:[E.jsxs("h1",{children:[e.nombre," ",e.apellidos]}),E.jsx("p",{className:"email",children:e.email}),!i.emailVerified&&E.jsxs("div",{className:"verification-warning",children:[E.jsx("span",{children:"⚠️ Email no verificado"}),E.jsx("button",{onClick:se,className:"link-button",disabled:v,children:"Reenviar verificación"})]})]})]}),w&&E.jsx("div",{className:`alert alert-${w.type}`,children:w.text}),E.jsxs("div",{className:"perfil-body",children:[E.jsxs("div",{className:"section",children:[E.jsxs("div",{className:"section-header",children:[E.jsx("h2",{children:"Información Personal"}),h?E.jsxs("div",{className:"edit-buttons",children:[E.jsx("button",{onClick:K,className:"btn-primary",disabled:v,children:"Guardar"}),E.jsx("button",{onClick:J,className:"btn-secondary",disabled:v,children:"Cancelar"})]}):E.jsx("button",{onClick:()=>m(!0),className:"btn-secondary",children:"Editar"})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Nombre"}),h?E.jsx("input",{type:"text",name:"nombre",value:O.nombre,onChange:j,disabled:v}):E.jsx("span",{children:e.nombre})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Apellidos"}),h?E.jsx("input",{type:"text",name:"apellidos",value:O.apellidos,onChange:j,disabled:v}):E.jsx("span",{children:e.apellidos})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Fecha de Nacimiento"}),h?E.jsx("input",{type:"date",name:"fechaNacimiento",value:O.fechaNacimiento,onChange:j,disabled:v}):E.jsxs("span",{children:[new Date(e.fechaNacimiento).toLocaleDateString("es-ES"),"(",Z(e.fechaNacimiento)," años)"]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Género"}),h?E.jsxs("select",{name:"genero",value:O.genero,onChange:j,disabled:v,children:[E.jsx("option",{value:"Masculino",children:"Masculino"}),E.jsx("option",{value:"Femenino",children:"Femenino"}),E.jsx("option",{value:"No binario",children:"No binario"}),E.jsx("option",{value:"Prefiero no decir",children:"Prefiero no decir"}),E.jsx("option",{value:"Otro",children:"Otro"})]}):E.jsx("span",{children:e.genero})]})]})]}),E.jsxs("div",{className:"section",children:[E.jsx("h2",{children:"Estadísticas"}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-number",children:e.reportes.length}),E.jsx("div",{className:"stat-label",children:"Reportes Realizados"})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-number",children:e.createdAt?Math.floor((new Date().getTime()-e.createdAt.getTime())/(1e3*60*60*24)):0}),E.jsx("div",{className:"stat-label",children:"Días en Komuni"})]})]})]}),E.jsxs("div",{className:"section",children:[E.jsx("h2",{children:"Mis Reportes"}),e.reportes.length===0?E.jsxs("div",{className:"empty-state",children:[E.jsx("p",{children:"Aún no has realizado ningún reporte"}),E.jsx("button",{className:"btn-primary",children:"Crear mi primer reporte"})]}):E.jsx("div",{className:"reportes-list",children:e.reportes.map((ne,ge)=>E.jsxs("div",{className:"reporte-item",children:[E.jsxs("div",{className:"reporte-content",children:[E.jsxs("h4",{children:["Reporte #",ge+1]}),E.jsx("p",{children:ne})]}),E.jsx("div",{className:"reporte-actions",children:E.jsx("button",{className:"btn-link",children:"Ver detalles"})})]},ge))})]}),E.jsxs("div",{className:"section danger-zone",children:[E.jsx("h2",{children:"Zona de Peligro"}),E.jsx("button",{onClick:X,className:"btn-danger",children:"Cerrar Sesión"})]})]})]})}):E.jsx("div",{className:"perfil-container",children:E.jsx("div",{className:"loading",children:"Cargando perfil..."})})},jM=({children:i,requireEmailVerification:e=!1})=>{const{currentUser:n,loading:o}=Kc(),l=Vr();return o?E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:E.jsx("div",{children:"Cargando..."})}):n?e&&!n.emailVerified?E.jsxs("div",{style:{padding:"20px",textAlign:"center",maxWidth:"500px",margin:"50px auto"},children:[E.jsx("h2",{children:"Verificación requerida"}),E.jsx("p",{children:"Para acceder a esta sección, necesitas verificar tu correo electrónico. Revisa tu bandeja de entrada y haz clic en el enlace de verificación."}),E.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Ya verifiqué mi email"})]}):E.jsx(E.Fragment,{children:i}):E.jsx(Ew,{to:"/login",state:{from:l},replace:!0})};function BM(){return E.jsx(fC,{children:E.jsx(Mx,{children:E.jsxs(Ni,{path:"/",element:E.jsx(_C,{}),children:[E.jsx(Ni,{index:!0,element:E.jsx(OC,{})}),E.jsx(Ni,{path:"about",element:E.jsx(PC,{})}),E.jsx(Ni,{path:"mapa",element:E.jsx(NM,{})}),E.jsx(Ni,{path:"privacidad",element:E.jsx(OM,{})}),E.jsx(Ni,{path:"contacto",element:E.jsx(IM,{})}),E.jsx(Ni,{path:"blog",element:E.jsx(MM,{})}),E.jsx(Ni,{path:"/blog/:slug",element:E.jsx(DM,{})}),E.jsx(Ni,{path:"faq",element:E.jsx(LM,{})}),E.jsx(Ni,{path:"login",element:E.jsx(kM,{})}),E.jsx(Ni,{path:"registro",element:E.jsx(zM,{})}),E.jsx(Ni,{path:"perfil",element:E.jsx(jM,{children:E.jsx(UM,{})})})]})})})}B1.createRoot(document.getElementById("root")).render(E.jsx(Q.StrictMode,{children:E.jsx(iC,{children:E.jsx(BM,{})})}));
